var KO=Object.defineProperty,QO=Object.defineProperties,YO=Object.getOwnPropertyDescriptors,LC=Object.getOwnPropertySymbols,JO=Object.prototype.hasOwnProperty,XO=Object.prototype.propertyIsEnumerable,NC=(Yt,Dt,I)=>Dt in Yt?KO(Yt,Dt,{enumerable:!0,configurable:!0,writable:!0,value:I}):Yt[Dt]=I,$=(Yt,Dt)=>{for(var I in Dt||(Dt={}))JO.call(Dt,I)&&NC(Yt,I,Dt[I]);if(LC)for(var I of LC(Dt))XO.call(Dt,I)&&NC(Yt,I,Dt[I]);return Yt},on=(Yt,Dt)=>QO(Yt,YO(Dt));(self.webpackChunktestupload=self.webpackChunktestupload||[]).push([[179],{869:function(Yt,Dt){!function(I){"use strict";function Pe(s){var u,c,f,m;for(c=1,f=arguments.length;c<f;c++)for(u in m=arguments[c])s[u]=m[u];return s}var Xi=Object.create||function(){function s(){}return function(u){return s.prototype=u,new s}}();function Ne(s,u){var c=Array.prototype.slice;if(s.bind)return s.bind.apply(s,c.call(arguments,1));var f=c.call(arguments,2);return function(){return s.apply(u,f.length?f.concat(c.call(arguments)):arguments)}}var kt=0;function De(s){return"_leaflet_id"in s||(s._leaflet_id=++kt),s._leaflet_id}function To(s,u,c){var f,m,_,w;return w=function(){f=!1,m&&(_.apply(c,m),m=!1)},_=function(){f?m=arguments:(s.apply(c,arguments),setTimeout(w,u),f=!0)},_}function er(s,u,c){var f=u[1],m=u[0],_=f-m;return s===f&&c?s:((s-m)%_+_)%_+m}function Re(){return!1}function Bt(s,u){if(!1===u)return s;var c=Math.pow(10,void 0===u?6:u);return Math.round(s*c)/c}function is(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function bn(s){return is(s).split(/\s+/)}function He(s,u){for(var c in Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?Xi(s.options):{}),u)s.options[c]=u[c];return s.options}function su(s,u,c){var f=[];for(var m in s)f.push(encodeURIComponent(c?m.toUpperCase():m)+"="+encodeURIComponent(s[m]));return(u&&-1!==u.indexOf("?")?"&":"?")+f.join("&")}var Oc=/\{ *([\w_ -]+) *\}/g;function rs(s,u){return s.replace(Oc,function(c,f){var m=u[f];if(void 0===m)throw new Error("No value provided for variable "+c);return"function"==typeof m&&(m=m(u)),m})}var ht=Array.isArray||function(s){return"[object Array]"===Object.prototype.toString.call(s)};function tr(s,u){for(var c=0;c<s.length;c++)if(s[c]===u)return c;return-1}var ss="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ar(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var os=0;function as(s){var u=+new Date,c=Math.max(0,16-(u-os));return os=u+c,window.setTimeout(s,c)}var us=window.requestAnimationFrame||Ar("RequestAnimationFrame")||as,ls=window.cancelAnimationFrame||Ar("CancelAnimationFrame")||Ar("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Mt(s,u,c){if(!c||us!==as)return us.call(window,Ne(s,u));s.call(u)}function At(s){s&&ls.call(window,s)}var Ii={__proto__:null,extend:Pe,create:Xi,bind:Ne,get lastId(){return kt},stamp:De,throttle:To,wrapNum:er,falseFn:Re,formatNum:Bt,trim:is,splitWords:bn,setOptions:He,getParamString:su,template:rs,isArray:ht,indexOf:tr,emptyImageUrl:ss,requestFn:us,cancelFn:ls,requestAnimFrame:Mt,cancelAnimFrame:At};function ri(){}ri.extend=function(s){var u=function(){He(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=u.__super__=this.prototype,f=Xi(c);for(var m in f.constructor=u,u.prototype=f,this)Object.prototype.hasOwnProperty.call(this,m)&&"prototype"!==m&&"__super__"!==m&&(u[m]=this[m]);return s.statics&&Pe(u,s.statics),s.includes&&(function(s){if("undefined"!=typeof L&&L&&L.Mixin){s=ht(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(s.includes),Pe.apply(null,[f].concat(s.includes))),Pe(f,s),delete f.statics,delete f.includes,f.options&&(f.options=c.options?Xi(c.options):{},Pe(f.options,s.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,w=f._initHooks.length;_<w;_++)f._initHooks[_].call(this)}},u},ri.include=function(s){var u=this.prototype.options;return Pe(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},ri.mergeOptions=function(s){return Pe(this.prototype.options,s),this},ri.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),c="function"==typeof s?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};var ye={on:function(s,u,c){if("object"==typeof s)for(var f in s)this._on(f,s[f],u);else for(var m=0,_=(s=bn(s)).length;m<_;m++)this._on(s[m],u,c);return this},off:function(s,u,c){if(arguments.length)if("object"==typeof s)for(var f in s)this._off(f,s[f],u);else{s=bn(s);for(var m=1===arguments.length,_=0,w=s.length;_<w;_++)m?this._off(s[_]):this._off(s[_],u,c)}else delete this._events;return this},_on:function(s,u,c,f){if("function"==typeof u){if(!1===this._listens(s,u,c)){c===this&&(c=void 0);var m={fn:u,ctx:c};f&&(m.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(m)}}else console.warn("wrong listener type: "+typeof u)},_off:function(s,u,c){var f,m,_;if(this._events&&(f=this._events[s])){if(1===arguments.length){if(this._firingCount)for(m=0,_=f.length;m<_;m++)f[m].fn=Re;return void delete this._events[s]}if("function"!=typeof u)return void console.warn("wrong listener type: "+typeof u);var w=this._listens(s,u,c);!1!==w&&(this._firingCount&&(f[w].fn=Re,this._events[s]=f=f.slice()),f.splice(w,1))}},fire:function(s,u,c){if(!this.listens(s,c))return this;var f=Pe({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var m=this._events[s];if(m){this._firingCount=this._firingCount+1||1;for(var _=0,w=m.length;_<w;_++){var E=m[_],S=E.fn;E.once&&this.off(s,S,E.ctx),S.call(E.ctx||this,f)}this._firingCount--}}return c&&this._propagateEvent(f),this},listens:function(s,u,c,f){"string"!=typeof s&&console.warn('"string" type argument expected');var m=u;"function"!=typeof u&&(f=!!u,m=void 0,c=void 0);var _=this._events&&this._events[s];if(_&&_.length&&!1!==this._listens(s,m,c))return!0;if(f)for(var w in this._eventParents)if(this._eventParents[w].listens(s,u,c,f))return!0;return!1},_listens:function(s,u,c){if(!this._events)return!1;var f=this._events[s]||[];if(!u)return!!f.length;c===this&&(c=void 0);for(var m=0,_=f.length;m<_;m++)if(f[m].fn===u&&f[m].ctx===c)return m;return!1},once:function(s,u,c){if("object"==typeof s)for(var f in s)this._on(f,s[f],u,!0);else for(var m=0,_=(s=bn(s)).length;m<_;m++)this._on(s[m],u,c,!0);return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[De(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[De(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,Pe({layer:s.target,propagatedFrom:s.target},s),!0)}};ye.addEventListener=ye.on,ye.removeEventListener=ye.clearAllEventListeners=ye.off,ye.addOneTimeEventListener=ye.once,ye.fireEvent=ye.fire,ye.hasEventListeners=ye.listens;var nr=ri.extend(ye);function ee(s,u,c){this.x=c?Math.round(s):s,this.y=c?Math.round(u):u}var au=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};function K(s,u,c){return s instanceof ee?s:ht(s)?new ee(s[0],s[1]):null==s?s:"object"==typeof s&&"x"in s&&"y"in s?new ee(s.x,s.y):new ee(s,u,c)}function Se(s,u){if(s)for(var c=u?[s,u]:s,f=0,m=c.length;f<m;f++)this.extend(c[f])}function Et(s,u){return!s||s instanceof Se?s:new Se(s,u)}function Ct(s,u){if(s)for(var c=u?[s,u]:s,f=0,m=c.length;f<m;f++)this.extend(c[f])}function ve(s,u){return s instanceof Ct?s:new Ct(s,u)}function Q(s,u,c){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,void 0!==c&&(this.alt=+c)}function U(s,u,c){return s instanceof Q?s:ht(s)&&"object"!=typeof s[0]?3===s.length?new Q(s[0],s[1],s[2]):2===s.length?new Q(s[0],s[1]):null:null==s?s:"object"==typeof s&&"lat"in s?new Q(s.lat,"lng"in s?s.lng:s.lon,s.alt):void 0===u?null:new Q(s,u,c)}ee.prototype={clone:function(){return new ee(this.x,this.y)},add:function(s){return this.clone()._add(K(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(K(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new ee(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new ee(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=au(this.x),this.y=au(this.y),this},distanceTo:function(s){var u=(s=K(s)).x-this.x,c=s.y-this.y;return Math.sqrt(u*u+c*c)},equals:function(s){return(s=K(s)).x===this.x&&s.y===this.y},contains:function(s){return s=K(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+Bt(this.x)+", "+Bt(this.y)+")"}},Se.prototype={extend:function(s){var u,c;if(!s)return this;if(s instanceof ee||"number"==typeof s[0]||"x"in s)u=c=K(s);else if(c=(s=Et(s)).max,!(u=s.min)||!c)return this;return this.min||this.max?(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)):(this.min=u.clone(),this.max=c.clone()),this},getCenter:function(s){return K((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return K(this.min.x,this.max.y)},getTopRight:function(){return K(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,c;return(s="number"==typeof s[0]||s instanceof ee?K(s):Et(s))instanceof Se?(u=s.min,c=s.max):u=c=s,u.x>=this.min.x&&c.x<=this.max.x&&u.y>=this.min.y&&c.y<=this.max.y},intersects:function(s){s=Et(s);var u=this.min,c=this.max,f=s.min,m=s.max;return m.x>=u.x&&f.x<=c.x&&m.y>=u.y&&f.y<=c.y},overlaps:function(s){s=Et(s);var u=this.min,c=this.max,f=s.min,m=s.max;return m.x>u.x&&f.x<c.x&&m.y>u.y&&f.y<c.y},isValid:function(){return!(!this.min||!this.max)},pad:function(s){var u=this.min,c=this.max,f=Math.abs(u.x-c.x)*s,m=Math.abs(u.y-c.y)*s;return Et(K(u.x-f,u.y-m),K(c.x+f,c.y+m))},equals:function(s){return!!s&&(s=Et(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight()))}},Ct.prototype={extend:function(s){var f,m,u=this._southWest,c=this._northEast;if(s instanceof Q)f=s,m=s;else{if(!(s instanceof Ct))return s?this.extend(U(s)||ve(s)):this;if(m=s._northEast,!(f=s._southWest)||!m)return this}return u||c?(u.lat=Math.min(f.lat,u.lat),u.lng=Math.min(f.lng,u.lng),c.lat=Math.max(m.lat,c.lat),c.lng=Math.max(m.lng,c.lng)):(this._southWest=new Q(f.lat,f.lng),this._northEast=new Q(m.lat,m.lng)),this},pad:function(s){var u=this._southWest,c=this._northEast,f=Math.abs(u.lat-c.lat)*s,m=Math.abs(u.lng-c.lng)*s;return new Ct(new Q(u.lat-f,u.lng-m),new Q(c.lat+f,c.lng+m))},getCenter:function(){return new Q((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Q(this.getNorth(),this.getWest())},getSouthEast:function(){return new Q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){s="number"==typeof s[0]||s instanceof Q||"lat"in s?U(s):ve(s);var f,m,u=this._southWest,c=this._northEast;return s instanceof Ct?(f=s.getSouthWest(),m=s.getNorthEast()):f=m=s,f.lat>=u.lat&&m.lat<=c.lat&&f.lng>=u.lng&&m.lng<=c.lng},intersects:function(s){s=ve(s);var u=this._southWest,c=this._northEast,f=s.getSouthWest(),m=s.getNorthEast();return m.lat>=u.lat&&f.lat<=c.lat&&m.lng>=u.lng&&f.lng<=c.lng},overlaps:function(s){s=ve(s);var u=this._southWest,c=this._northEast,f=s.getSouthWest(),m=s.getNorthEast();return m.lat>u.lat&&f.lat<c.lat&&m.lng>u.lng&&f.lng<c.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return!!s&&(s=ve(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u))},isValid:function(){return!(!this._southWest||!this._northEast)}},Q.prototype={equals:function(s,u){return!!s&&(s=U(s),Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng))<=(void 0===u?1e-9:u))},toString:function(s){return"LatLng("+Bt(this.lat,s)+", "+Bt(this.lng,s)+")"},distanceTo:function(s){return xi.distance(this,U(s))},wrap:function(){return xi.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,c=u/Math.cos(Math.PI/180*this.lat);return ve([this.lat-u,this.lng-c],[this.lat+u,this.lng+c])},clone:function(){return new Q(this.lat,this.lng,this.alt)}};var s,an={latLngToPoint:function(s,u){var c=this.projection.project(s),f=this.scale(u);return this.transformation._transform(c,f)},pointToLatLng:function(s,u){var c=this.scale(u),f=this.transformation.untransform(s,c);return this.projection.unproject(f)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,c=this.scale(s);return new Se(this.transformation.transform(u.min,c),this.transformation.transform(u.max,c))},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?er(s.lng,this.wrapLng,!0):s.lng;return new Q(this.wrapLat?er(s.lat,this.wrapLat,!0):s.lat,u,s.alt)},wrapLatLngBounds:function(s){var u=s.getCenter(),c=this.wrapLatLng(u),f=u.lat-c.lat,m=u.lng-c.lng;if(0===f&&0===m)return s;var _=s.getSouthWest(),w=s.getNorthEast();return new Ct(new Q(_.lat-f,_.lng-m),new Q(w.lat-f,w.lng-m))}},xi=Pe({},an,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var c=Math.PI/180,f=s.lat*c,m=u.lat*c,_=Math.sin((u.lat-s.lat)*c/2),w=Math.sin((u.lng-s.lng)*c/2),E=_*_+Math.cos(f)*Math.cos(m)*w*w,S=2*Math.atan2(Math.sqrt(E),Math.sqrt(1-E));return this.R*S}}),uu={R:6378137,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,c=this.MAX_LATITUDE,f=Math.max(Math.min(c,s.lat),-c),m=Math.sin(f*u);return new ee(this.R*s.lng*u,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(s){var u=180/Math.PI;return new Q((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(s=6378137*Math.PI,new Se([-s,-s],[s,s]))};function lu(s,u,c,f){if(ht(s))return this._a=s[0],this._b=s[1],this._c=s[2],void(this._d=s[3]);this._a=s,this._b=u,this._c=c,this._d=f}function cs(s,u,c,f){return new lu(s,u,c,f)}lu.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return s.x=(u=u||1)*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return new ee((s.x/(u=u||1)-this._b)/this._a,(s.y/u-this._d)/this._c)}};var cu=Pe({},xi,{code:"EPSG:3857",projection:uu,transformation:function(){var s=.5/(Math.PI*uu.R);return cs(s,.5,-s,.5)}()}),Fc=Pe({},cu,{code:"EPSG:900913"});function kc(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Ao(s,u){var f,m,_,w,E,S,c="";for(f=0,_=s.length;f<_;f++){for(m=0,w=(E=s[f]).length;m<w;m++)c+=(m?"L":"M")+(S=E[m]).x+" "+S.y;c+=u?k.svg?"z":"x":""}return c||"M0 0"}var hu=document.documentElement.style,Pr="ActiveXObject"in window,Bc=Pr&&!document.addEventListener,Vc="msLaunchUri"in navigator&&!("documentMode"in document),du=Pt("webkit"),jc=Pt("android"),si=Pt("android 2")||Pt("android 3"),Hc=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lm=jc&&Pt("Google")&&Hc<537&&!("AudioNode"in window),Po=!!window.opera,Uc=!Vc&&Pt("chrome"),fu=Pt("gecko")&&!du&&!Po&&!Pr,cm=!Uc&&Pt("safari"),zc=Pt("phantom"),$c="OTransition"in hu,hm=0===navigator.platform.indexOf("Win"),Io=Pr&&"transition"in hu,hs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!si,xo="MozPerspective"in hu,pu=!window.L_DISABLE_3D&&(Io||hs||xo)&&!$c&&!zc,ir="undefined"!=typeof orientation||Pt("mobile"),Zc=ir&&du,mu=ir&&hs,Ro=!window.PointerEvent&&window.MSPointerEvent,Lo=!(!window.PointerEvent&&!Ro),No="ontouchstart"in window||!!window.TouchEvent,kn=!window.L_NO_TOUCH&&(No||Lo),qc=ir&&Po,Wc=ir&&fu,Gc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Kc=function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",Re,u),window.removeEventListener("testPassiveEventSupport",Re,u)}catch(c){}return s}(),gu=!!document.createElement("canvas").getContext,Oo=!(!document.createElementNS||!kc("svg").createSVGRect),Qc=!!Oo&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(s.firstChild&&s.firstChild.namespaceURI)}(),Bn=!Oo&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&"object"==typeof u.adj}catch(c){return!1}}();function Pt(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var k={ie:Pr,ielt9:Bc,edge:Vc,webkit:du,android:jc,android23:si,androidStock:lm,opera:Po,chrome:Uc,gecko:fu,safari:cm,phantom:zc,opera12:$c,win:hm,ie3d:Io,webkit3d:hs,gecko3d:xo,any3d:pu,mobile:ir,mobileWebkit:Zc,mobileWebkit3d:mu,msPointer:Ro,pointer:Lo,touch:kn,touchNative:No,mobileOpera:qc,mobileGecko:Wc,retina:Gc,passiveEvents:Kc,canvas:gu,svg:Oo,vml:Bn,inlineSvg:Qc,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Jc=k.msPointer?"MSPointerDown":"pointerdown",_u=k.msPointer?"MSPointerMove":"pointermove",yu=k.msPointer?"MSPointerUp":"pointerup",ds=k.msPointer?"MSPointerCancel":"pointercancel",Fo={touchstart:Jc,touchmove:_u,touchend:yu,touchcancel:ds},rr={touchstart:function(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&st(u),fs(s,u)},touchmove:fs,touchend:fs,touchcancel:fs},sr={},ko=!1;function vu(s,u,c){return"touchstart"===u&&(ko||(document.addEventListener(Jc,eh,!0),document.addEventListener(_u,th,!0),document.addEventListener(yu,wu,!0),document.addEventListener(ds,wu,!0),ko=!0)),rr[u]?(c=rr[u].bind(this,c),s.addEventListener(Fo[u],c,!1),c):(console.warn("wrong event specified:",u),Re)}function eh(s){sr[s.pointerId]=s}function th(s){sr[s.pointerId]&&(sr[s.pointerId]=s)}function wu(s){delete sr[s.pointerId]}function fs(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){for(var c in u.touches=[],sr)u.touches.push(sr[c]);u.changedTouches=[u],s(u)}}var Rr,gs,un,Vo,jo,Ir=Bo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Te=Bo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ms="webkitTransition"===Te||"OTransition"===Te?Te+"End":"transitionend";function me(s){return"string"==typeof s?document.getElementById(s):s}function Ri(s,u){var c=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!c||"auto"===c)&&document.defaultView){var f=document.defaultView.getComputedStyle(s,null);c=f?f[u]:null}return"auto"===c?null:c}function Ee(s,u,c){var f=document.createElement(s);return f.className=u||"",c&&c.appendChild(f),f}function Fe(s){var u=s.parentNode;u&&u.removeChild(s)}function Y(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Li(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function xr(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function bt(s,u){if(void 0!==s.classList)return s.classList.contains(u);var c=rt(s);return c.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(c)}function ae(s,u){if(void 0!==s.classList)for(var c=bn(u),f=0,m=c.length;f<m;f++)s.classList.add(c[f]);else if(!bt(s,u)){var _=rt(s);W(s,(_?_+" ":"")+u)}}function $e(s,u){void 0!==s.classList?s.classList.remove(u):W(s,is((" "+rt(s)+" ").replace(" "+u+" "," ")))}function W(s,u){void 0===s.className.baseVal?s.className=u:s.className.baseVal=u}function rt(s){return s.correspondingElement&&(s=s.correspondingElement),void 0===s.className.baseVal?s.className:s.className.baseVal}function Jt(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&function(s,u){var c=!1,f="DXImageTransform.Microsoft.Alpha";try{c=s.filters.item(f)}catch(m){if(1===u)return}u=Math.round(100*u),c?(c.Enabled=100!==u,c.Opacity=u):s.style.filter+=" progid:"+f+"(opacity="+u+")"}(s,u)}function Bo(s){for(var u=document.documentElement.style,c=0;c<s.length;c++)if(s[c]in u)return s[c];return!1}function Sn(s,u,c){var f=u||new ee(0,0);s.style[Ir]=(k.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(c?" scale("+c+")":"")}function Ce(s,u){s._leaflet_pos=u,k.any3d?Sn(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function or(s){return s._leaflet_pos||new ee(0,0)}if("onselectstart"in document)Rr=function(){ne(window,"selectstart",st)},gs=function(){Be(window,"selectstart",st)};else{var _s=Bo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Rr=function(){if(_s){var s=document.documentElement.style;un=s[_s],s[_s]="none"}},gs=function(){_s&&(document.documentElement.style[_s]=un,un=void 0)}}function Eu(){ne(window,"dragstart",st)}function Cu(){Be(window,"dragstart",st)}function bu(s){for(;-1===s.tabIndex;)s=s.parentNode;!s.style||(ys(),Vo=s,jo=s.style.outline,s.style.outline="none",ne(window,"keydown",ys))}function ys(){!Vo||(Vo.style.outline=jo,Vo=void 0,jo=void 0,Be(window,"keydown",ys))}function sh(s){do{s=s.parentNode}while(!(s.offsetWidth&&s.offsetHeight||s===document.body));return s}function St(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var ke={__proto__:null,TRANSFORM:Ir,TRANSITION:Te,TRANSITION_END:ms,get:me,getStyle:Ri,create:Ee,remove:Fe,empty:Y,toFront:Li,toBack:xr,hasClass:bt,addClass:ae,removeClass:$e,setClass:W,getClass:rt,setOpacity:Jt,testProp:Bo,setTransform:Sn,setPosition:Ce,getPosition:or,get disableTextSelection(){return Rr},get enableTextSelection(){return gs},disableImageDrag:Eu,enableImageDrag:Cu,preventOutline:bu,restoreOutline:ys,getSizedParentNode:sh,getScale:St};function ne(s,u,c,f){if(u&&"object"==typeof u)for(var m in u)ln(s,m,u[m],c);else for(var _=0,w=(u=bn(u)).length;_<w;_++)ln(s,u[_],c,f);return this}var Vn="_leaflet_events";function Be(s,u,c,f){if(1===arguments.length)se(s),delete s[Vn];else if(u&&"object"==typeof u)for(var m in u)Lr(s,m,u[m],c);else if(u=bn(u),2===arguments.length)se(s,function(E){return-1!==tr(u,E)});else for(var _=0,w=u.length;_<w;_++)Lr(s,u[_],c,f);return this}function se(s,u){for(var c in s[Vn]){var f=c.split(/\d/)[0];(!u||u(f))&&Lr(s,f,null,null,c)}}var Su={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ln(s,u,c,f){var m=u+De(c)+(f?"_"+De(f):"");if(s[Vn]&&s[Vn][m])return this;var _=function(E){return c.call(f||s,E||window.event)},w=_;!k.touchNative&&k.pointer&&0===u.indexOf("touch")?_=vu(s,u,_):k.touch&&"dblclick"===u?_=function(s,u){s.addEventListener("dblclick",u);var f,c=0;function m(_){if(1===_.detail){if("mouse"!==_.pointerType&&(!_.sourceCapabilities||_.sourceCapabilities.firesTouchEvents)){var w=vs(_);if(!w.some(function(S){return S instanceof HTMLLabelElement&&S.attributes.for})||w.some(function(S){return S instanceof HTMLInputElement||S instanceof HTMLSelectElement})){var E=Date.now();E-c<=200?2==++f&&u(function(s){var c,f,u={};for(f in s)u[f]=(c=s[f])&&c.bind?c.bind(s):c;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}(_)):f=1,c=E}}}else f=_.detail}return s.addEventListener("click",m),{dblclick:u,simDblclick:m}}(s,_):"addEventListener"in s?"touchstart"===u||"touchmove"===u||"wheel"===u||"mousewheel"===u?s.addEventListener(Su[u]||u,_,!!k.passiveEvents&&{passive:!1}):"mouseenter"===u||"mouseleave"===u?s.addEventListener(Su[u],_=function(E){E=E||window.event,Or(s,E)&&w(E)},!1):s.addEventListener(u,w,!1):s.attachEvent("on"+u,_),s[Vn]=s[Vn]||{},s[Vn][m]=_}function Lr(s,u,c,f,m){m=m||u+De(c)+(f?"_"+De(f):"");var _=s[Vn]&&s[Vn][m];if(!_)return this;!k.touchNative&&k.pointer&&0===u.indexOf("touch")?function(s,u,c){Fo[u]?s.removeEventListener(Fo[u],c,!1):console.warn("wrong event specified:",u)}(s,u,_):k.touch&&"dblclick"===u?function(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}(s,_):"removeEventListener"in s?s.removeEventListener(Su[u]||u,_,!1):s.detachEvent("on"+u,_),s[Vn][m]=null}function oi(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Ho(s){return ln(s,"wheel",oi),this}function Nr(s){return ne(s,"mousedown touchstart dblclick contextmenu",oi),s._leaflet_disable_click=!0,this}function st(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Tn(s){return st(s),oi(s),this}function vs(s){if(s.composedPath)return s.composedPath();for(var u=[],c=s.target;c;)u.push(c),c=c.parentNode;return u}function Uo(s,u){if(!u)return new ee(s.clientX,s.clientY);var c=St(u),f=c.boundingClientRect;return new ee((s.clientX-f.left)/c.x-u.clientLeft,(s.clientY-f.top)/c.y-u.clientTop)}var oh=k.linux&&k.chrome?window.devicePixelRatio:k.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function J(s){return k.edge?s.wheelDeltaY/2:s.deltaY&&0===s.deltaMode?-s.deltaY/oh:s.deltaY&&1===s.deltaMode?20*-s.deltaY:s.deltaY&&2===s.deltaMode?60*-s.deltaY:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?20*-s.detail:s.detail?s.detail/-32765*60:0}function Or(s,u){var c=u.relatedTarget;if(!c)return!0;try{for(;c&&c!==s;)c=c.parentNode}catch(f){return!1}return c!==s}var ah={__proto__:null,on:ne,off:Be,stopPropagation:oi,disableScrollPropagation:Ho,disableClickPropagation:Nr,preventDefault:st,stop:Tn,getPropagationPath:vs,getMousePosition:Uo,getWheelDelta:J,isExternalTarget:Or,addListener:ne,removeListener:Be},jn=nr.extend({run:function(s,u,c,f){this.stop(),this._el=s,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=or(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=Mt(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,c=1e3*this._duration;u<c?this._runFrame(this._easeOut(u/c),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var c=this._startPos.add(this._offset.multiplyBy(s));u&&c._round(),Ce(this._el,c),this.fire("step")},_complete:function(){At(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),ge=nr.extend({options:{crs:cu,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=He(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=Ne(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),void 0!==u.zoom&&(this._zoom=this._limitZoom(u.zoom)),u.center&&void 0!==u.zoom&&this.setView(U(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Te&&k.any3d&&!k.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ne(this._proxy,ms,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,c){return u=void 0===u?this._zoom:this._limitZoom(u),s=this._limitCenter(U(s),u,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&!0!==c&&(void 0!==c.animate&&(c.zoom=Pe({animate:c.animate},c.zoom),c.pan=Pe({animate:c.animate,duration:c.duration},c.pan)),this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,c.zoom):this._tryAnimatedPan(s,c.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(s,u,c.pan&&c.pan.noMoveStart),this)},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return this.setZoom(this._zoom+(s=s||(k.any3d?this.options.zoomDelta:1)),u)},zoomOut:function(s,u){return this.setZoom(this._zoom-(s=s||(k.any3d?this.options.zoomDelta:1)),u)},setZoomAround:function(s,u,c){var f=this.getZoomScale(u),m=this.getSize().divideBy(2),w=(s instanceof ee?s:this.latLngToContainerPoint(s)).subtract(m).multiplyBy(1-1/f),E=this.containerPointToLatLng(m.add(w));return this.setView(E,u,{zoom:c})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():ve(s);var c=K(u.paddingTopLeft||u.padding||[0,0]),f=K(u.paddingBottomRight||u.padding||[0,0]),m=this.getBoundsZoom(s,!1,c.add(f));if((m="number"==typeof u.maxZoom?Math.min(u.maxZoom,m):m)===1/0)return{center:s.getCenter(),zoom:m};var _=f.subtract(c).divideBy(2),w=this.project(s.getSouthWest(),m),E=this.project(s.getNorthEast(),m);return{center:this.unproject(w.add(E).divideBy(2).add(_),m),zoom:m}},fitBounds:function(s,u){if(!(s=ve(s)).isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(s,u);return this.setView(c.center,c.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(u=u||{},!(s=K(s).round()).x&&!s.y)return this.fire("moveend");if(!0!==u.animate&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new jn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),!1!==u.animate){ae(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,c,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,c){if(!1===(c=c||{}).animate||!k.any3d)return this.setView(s,u,c);this._stop();var f=this.project(this.getCenter()),m=this.project(s),_=this.getSize(),w=this._zoom;s=U(s),u=void 0===u?w:u;var E=Math.max(_.x,_.y),S=E*this.getZoomScale(w,u),M=m.distanceTo(f)||1,N=1.42,Z=N*N;function re(Qe){var fe=(S*S-E*E+(Qe?-1:1)*Z*Z*M*M)/(2*(Qe?S:E)*Z*M),Vu=Math.sqrt(fe*fe+1)-fe;return Vu<1e-9?-18:Math.log(Vu)}function Ue(Qe){return(Math.exp(Qe)-Math.exp(-Qe))/2}function fi(Qe){return(Math.exp(Qe)+Math.exp(-Qe))/2}var pi=re(0);function ku(Qe){return E*(fi(pi)*function(Qe){return Ue(Qe)/fi(Qe)}(pi+N*Qe)-Ue(pi))/Z}var G=Date.now(),Eh=(re(1)-pi)/N,Ch=c.duration?1e3*c.duration:1e3*Eh*.8;return this._moveStart(!0,c.noMoveStart),function Bu(){var Qe=(Date.now()-G)/Ch,Vr=function(Qe){return 1-Math.pow(1-Qe,1.5)}(Qe)*Eh;Qe<=1?(this._flyToFrame=Mt(Bu,this),this._move(this.unproject(f.add(m.subtract(f).multiplyBy(ku(Vr)/M)),w),this.getScaleZoom(E/function(Qe){return E*(fi(pi)/fi(pi+N*Qe))}(Vr),w),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}.call(this),this},flyToBounds:function(s,u){var c=this._getBoundsCenterZoom(s,u);return this.flyTo(c.center,c.zoom,u)},setMaxBounds:function(s){return s=ve(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var c=this.getCenter(),f=this._limitCenter(c,this._zoom,ve(s));return c.equals(f)||this.panTo(f,u),this._enforcingBounds=!1,this},panInside:function(s,u){var c=K((u=u||{}).paddingTopLeft||u.padding||[0,0]),f=K(u.paddingBottomRight||u.padding||[0,0]),m=this.project(this.getCenter()),_=this.project(s),w=this.getPixelBounds(),E=Et([w.min.add(c),w.max.subtract(f)]),S=E.getSize();if(!E.contains(_)){this._enforcingBounds=!0;var M=_.subtract(E.getCenter()),N=E.extend(_).getSize().subtract(S);m.x+=M.x<0?-N.x:N.x,m.y+=M.y<0?-N.y:N.y,this.panTo(this.unproject(m),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=Pe({animate:!1,pan:!0},!0===s?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),f=u.divideBy(2).round(),m=c.divideBy(2).round(),_=f.subtract(m);return _.x||_.y?(s.animate&&s.pan?this.panBy(_):(s.pan&&this._rawPanBy(_),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Ne(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:c})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=Pe({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=Ne(this._handleGeolocationResponse,this),c=Ne(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,c,s):navigator.geolocation.getCurrentPosition(u,c,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,c=s.message||(1===u?"permission denied":2===u?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var f=new Q(s.coords.latitude,s.coords.longitude),m=f.toBounds(2*s.coords.accuracy),_=this._locateOptions;if(_.setView){var w=this.getBoundsZoom(m);this.setView(f,_.maxZoom?Math.min(w,_.maxZoom):w)}var E={latlng:f,bounds:m,timestamp:s.timestamp};for(var S in s.coords)"number"==typeof s.coords[S]&&(E[S]=s.coords[S]);this.fire("locationfound",E)}},addHandler:function(s,u){if(!u)return this;var c=this[s]=new u(this);return this._handlers.push(c),this.options[s]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(u){this._container._leaflet_id=void 0,this._containerId=void 0}var s;for(s in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Fe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(At(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[s].remove();for(s in this._panes)Fe(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var f=Ee("div","leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),u||this._mapPane);return s&&(this._panes[s]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds();return new Ct(this.unproject(s.getBottomLeft()),this.unproject(s.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,c){s=ve(s),c=K(c||[0,0]);var f=this.getZoom()||0,m=this.getMinZoom(),_=this.getMaxZoom(),w=s.getNorthWest(),E=s.getSouthEast(),S=this.getSize().subtract(c),M=Et(this.project(E,f),this.project(w,f)).getSize(),N=k.any3d?this.options.zoomSnap:1,Z=S.x/M.x,re=S.y/M.y,Ue=u?Math.max(Z,re):Math.min(Z,re);return f=this.getScaleZoom(Ue,f),N&&(f=Math.round(f/(N/100))*(N/100),f=u?Math.ceil(f/N)*N:Math.floor(f/N)*N),Math.max(m,Math.min(_,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var c=this._getTopLeftPoint(s,u);return new Se(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(void 0===s?this.getZoom():s)},getPane:function(s){return"string"==typeof s?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var c=this.options.crs;return u=void 0===u?this._zoom:u,c.scale(s)/c.scale(u)},getScaleZoom:function(s,u){var c=this.options.crs,f=c.zoom(s*c.scale(u=void 0===u?this._zoom:u));return isNaN(f)?1/0:f},project:function(s,u){return u=void 0===u?this._zoom:u,this.options.crs.latLngToPoint(U(s),u)},unproject:function(s,u){return u=void 0===u?this._zoom:u,this.options.crs.pointToLatLng(K(s),u)},layerPointToLatLng:function(s){var u=K(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){return this.project(U(s))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(U(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ve(s))},distance:function(s,u){return this.options.crs.distance(U(s),U(u))},containerPointToLayerPoint:function(s){return K(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return K(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(K(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(s)))},mouseEventToContainerPoint:function(s){return Uo(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=me(s);if(!u)throw new Error("Map container not found.");if(u._leaflet_id)throw new Error("Map container is already initialized.");ne(u,"scroll",this._onScroll,this),this._containerId=De(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&k.any3d,ae(s,"leaflet-container"+(k.touch?" leaflet-touch":"")+(k.retina?" leaflet-retina":"")+(k.ielt9?" leaflet-oldie":"")+(k.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ri(s,"position");"absolute"!==u&&"relative"!==u&&"fixed"!==u&&"sticky"!==u&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ce(this._mapPane,new ee(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ae(s.markerPane,"leaflet-zoom-hide"),ae(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,c){Ce(this._mapPane,new ee(0,0));var f=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var m=this._zoom!==u;this._moveStart(m,c)._move(s,u)._moveEnd(m),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,c,f){void 0===u&&(u=this._zoom);var m=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),f?c&&c.pinch&&this.fire("zoom",c):((m||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return At(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Ce(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[De(this._container)]=this;var u=s?Be:ne;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),k.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){At(this._resizeRequest),this._resizeRequest=Mt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var f,c=[],m="mouseout"===u||"mouseover"===u,_=s.target||s.srcElement,w=!1;_;){if((f=this._targets[De(_)])&&("click"===u||"preclick"===u)&&this._draggableMoved(f)){w=!0;break}if(f&&f.listens(u,!0)&&(m&&!Or(_,s)||(c.push(f),m))||_===this._container)break;_=_.parentNode}return!c.length&&!w&&!m&&this.listens(u,!0)&&(c=[this]),c},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||"click"===s.type&&this._isClickDisabled(u))){var c=s.type;"mousedown"===c&&bu(u),this._fireDOMEvent(s,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,c){if("click"===s.type){var f=Pe({},s);f.type="preclick",this._fireDOMEvent(f,f.type,c)}var m=this._findEventTargets(s,u);if(c){for(var _=[],w=0;w<c.length;w++)c[w].listens(u,!0)&&_.push(c[w]);m=_.concat(m)}if(m.length){"contextmenu"===u&&st(s);var E=m[0],S={originalEvent:s};if("keypress"!==s.type&&"keydown"!==s.type&&"keyup"!==s.type){var M=E.getLatLng&&(!E._radius||E._radius<=10);S.containerPoint=M?this.latLngToContainerPoint(E.getLatLng()):this.mouseEventToContainerPoint(s),S.layerPoint=this.containerPointToLayerPoint(S.containerPoint),S.latlng=M?E.getLatLng():this.layerPointToLatLng(S.layerPoint)}for(w=0;w<m.length;w++)if(m[w].fire(u,S,!0),S.originalEvent._stopped||!1===m[w].options.bubblingMouseEvents&&-1!==tr(this._mouseEvents,u))return}},_draggableMoved:function(s){return(s=s.dragging&&s.dragging.enabled()?s:this).dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return or(this._mapPane)||new ee(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){return(s&&void 0!==u?this._getNewPixelOrigin(s,u):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var c=this.getSize()._divideBy(2);return this.project(s,u)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,c){var f=this._getNewPixelOrigin(c,u);return this.project(s,u)._subtract(f)},_latLngBoundsToNewLayerBounds:function(s,u,c){var f=this._getNewPixelOrigin(c,u);return Et([this.project(s.getSouthWest(),u)._subtract(f),this.project(s.getNorthWest(),u)._subtract(f),this.project(s.getSouthEast(),u)._subtract(f),this.project(s.getNorthEast(),u)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,c){if(!c)return s;var f=this.project(s,u),m=this.getSize().divideBy(2),_=new Se(f.subtract(m),f.add(m)),w=this._getBoundsOffset(_,c,u);return Math.abs(w.x)<=1&&Math.abs(w.y)<=1?s:this.unproject(f.add(w),u)},_limitOffset:function(s,u){if(!u)return s;var c=this.getPixelBounds(),f=new Se(c.min.add(s),c.max.add(s));return s.add(this._getBoundsOffset(f,u))},_getBoundsOffset:function(s,u,c){var f=Et(this.project(u.getNorthEast(),c),this.project(u.getSouthWest(),c)),m=f.min.subtract(s.min),_=f.max.subtract(s.max);return new ee(this._rebound(m.x,-_.x),this._rebound(m.y,-_.y))},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),c=this.getMaxZoom(),f=k.any3d?this.options.zoomSnap:1;return f&&(s=Math.round(s/f)*f),Math.max(u,Math.min(c,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$e(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var c=this._getCenterOffset(s)._trunc();return!(!0!==(u&&u.animate)&&!this.getSize().contains(c)||(this.panBy(c,u),0))},_createAnimProxy:function(){var s=this._proxy=Ee("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var c=Ir,f=this._proxy.style[c];Sn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),f===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Fe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();Sn(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||!1===c.animate||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(u),m=this._getCenterOffset(s)._divideBy(1-1/f);return!(!0!==c.animate&&!this.getSize().contains(m)||(Mt(function(){this._moveStart(!0,!1)._animateZoom(s,u,!0)},this),0))},_animateZoom:function(s,u,c,f){!this._mapPane||(c&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,ae(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(Ne(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&$e(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var ot=ri.extend({options:{position:"topright"},initialize:function(s){He(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),c=this.getPosition(),f=s._controlCorners[c];return ae(u,"leaflet-control"),-1!==c.indexOf("bottom")?f.insertBefore(u,f.firstChild):f.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Fe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),vt=function(s){return new ot(s)};ge.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",c=this._controlContainer=Ee("div",u+"control-container",this._container);function f(m,_){s[m+_]=Ee("div",u+m+" "+u+_,c)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Fe(this._controlCorners[s]);Fe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var uh=ot.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,c,f){return c<f?-1:f<c?1:0}},initialize:function(s,u,c){for(var f in He(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,s)this._addLayer(s[f],f);for(f in u)this._addLayer(u[f],f,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return ot.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(De(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){ae(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(ae(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):$e(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $e(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Ee("div",s),c=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Nr(u),Ho(u);var f=this._section=Ee("section",s+"-list");c&&(this._map.on("click",this.collapse,this),ne(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var m=this._layersLink=Ee("a",s+"-toggle",u);m.href="#",m.title="Layers",m.setAttribute("role","button"),ne(m,{keydown:function(_){13===_.keyCode&&this._expandSafely()},click:function(_){st(_),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Ee("div",s+"-base",f),this._separator=Ee("div",s+"-separator",f),this._overlaysList=Ee("div",s+"-overlays",f),u.appendChild(f)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&De(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,c){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:c}),this.options.sortLayers&&this._layers.sort(Ne(function(f,m){return this.options.sortFunction(f.layer,m.layer,f.name,m.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Y(this._baseLayersList),Y(this._overlaysList),this._layerControlInputs=[];var s,u,c,f,m=0;for(c=0;c<this._layers.length;c++)this._addItem(f=this._layers[c]),u=u||f.overlay,s=s||!f.overlay,m+=f.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(s=s&&m>1)?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(De(s.target)),c=u.overlay?"add"===s.type?"overlayadd":"overlayremove":"add"===s.type?"baselayerchange":null;c&&this._map.fire(c,u)},_createRadioElement:function(s,u){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=c,f.firstChild},_addItem:function(s){var f,u=document.createElement("label"),c=this._map.hasLayer(s.layer);s.overlay?((f=document.createElement("input")).type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=c):f=this._createRadioElement("leaflet-base-layers_"+De(this),c),this._layerControlInputs.push(f),f.layerId=De(s.layer),ne(f,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+s.name;var _=document.createElement("span");return u.appendChild(_),_.appendChild(f),_.appendChild(m),(s.overlay?this._overlaysList:this._baseLayersList).appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){var u,c,s=this._layerControlInputs,f=[],m=[];this._handlingClick=!0;for(var _=s.length-1;_>=0;_--)c=this._getLayer((u=s[_]).layerId).layer,u.checked?f.push(c):u.checked||m.push(c);for(_=0;_<m.length;_++)this._map.hasLayer(m[_])&&this._map.removeLayer(m[_]);for(_=0;_<f.length;_++)this._map.hasLayer(f[_])||this._map.addLayer(f[_]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var u,c,s=this._layerControlInputs,f=this._map.getZoom(),m=s.length-1;m>=0;m--)c=this._getLayer((u=s[m]).layerId).layer,u.disabled=void 0!==c.options.minZoom&&f<c.options.minZoom||void 0!==c.options.maxZoom&&f>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;ne(s,"click",st),this.expand(),setTimeout(function(){Be(s,"click",st)})}}),Vt=ot.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",c=Ee("div",u+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,u+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,u+"-out",c,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,c,f,m){var _=Ee("a",c,f);return _.innerHTML=s,_.href="#",_.title=u,_.setAttribute("role","button"),_.setAttribute("aria-label",u),Nr(_),ne(_,"click",Tn),ne(_,"click",m,this),ne(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";$e(this._zoomInButton,u),$e(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(ae(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(ae(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});ge.mergeOptions({zoomControl:!0}),ge.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Vt,this.addControl(this.zoomControl))});var Tu=ot.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",c=Ee("div",u),f=this.options;return this._addScales(f,u+"-line",c),s.on(f.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),c},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,c){s.metric&&(this._mScale=Ee("div",u,c)),s.imperial&&(this._iScale=Ee("div",u,c))},_update:function(){var s=this._map,u=s.getSize().y/2,c=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(c)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s);this._updateScale(this._mScale,u<1e3?u+" m":u/1e3+" km",u/s)},_updateImperial:function(s){var c,f,m,u=3.2808399*s;u>5280?(f=this._getRoundNum(c=u/5280),this._updateScale(this._iScale,f+" mi",f/c)):(m=this._getRoundNum(u),this._updateScale(this._iScale,m+" ft",m/u))},_updateScale:function(s,u,c){s.style.width=Math.round(this.options.maxWidth*c)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),c=s/u;return u*(c>=10?10:c>=5?5:c>=3?3:c>=2?2:1)}}),Ae=ot.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(k.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(s){He(this,s),this._attributions={}},onAdd:function(s){for(var u in s.attributionControl=this,this._container=Ee("div","leaflet-control-attribution"),Nr(this._container),s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var c=[];this.options.prefix&&c.push(this.options.prefix),s.length&&c.push(s.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});ge.mergeOptions({attributionControl:!0}),ge.addInitHook(function(){this.options.attributionControl&&(new Ae).addTo(this)});ot.Layers=uh,ot.Zoom=Vt,ot.Scale=Tu,ot.Attribution=Ae,vt.layers=function(s,u,c){return new uh(s,u,c)},vt.zoom=function(s){return new Vt(s)},vt.scale=function(s){return new Tu(s)},vt.attribution=function(s){return new Ae(s)};var Hn=ri.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Hn.addTo=function(s,u){return s.addHandler(u,this),this};var Oi,ar={Events:ye},xe=k.touch?"touchstart mousedown":"mousedown",cn=nr.extend({options:{clickTolerance:3},initialize:function(s,u,c,f){He(this,f),this._element=s,this._dragStartTarget=u||s,this._preventOutline=c},enable:function(){this._enabled||(ne(this._dragStartTarget,xe,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(cn._dragging===this&&this.finishDrag(!0),Be(this._dragStartTarget,xe,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!bt(this._element,"leaflet-zoom-anim"))){if(s.touches&&1!==s.touches.length)return void(cn._dragging===this&&this.finishDrag());if(!(cn._dragging||s.shiftKey||1!==s.which&&1!==s.button&&!s.touches||(cn._dragging=this,this._preventOutline&&bu(this._element),Eu(),Rr(),this._moving))){this.fire("down");var u=s.touches?s.touches[0]:s,c=sh(this._element);this._startPoint=new ee(u.clientX,u.clientY),this._startPos=or(this._element),this._parentScale=St(c);var f="mousedown"===s.type;ne(document,f?"mousemove":"touchmove",this._onMove,this),ne(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1)return void(this._moved=!0);var u=s.touches&&1===s.touches.length?s.touches[0]:s,c=new ee(u.clientX,u.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,st(s),this._moved||(this.fire("dragstart"),this._moved=!0,ae(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ae(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Ce(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(s){$e(document.body,"leaflet-dragging"),this._lastTarget&&($e(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Be(document,"mousemove touchmove",this._onMove,this),Be(document,"mouseup touchend touchcancel",this._onUp,this),Cu(),gs(),this._moved&&this._moving&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,cn._dragging=!1}});function ws(s,u){if(!u||!s.length)return s.slice();var c=u*u;return function(s,u){var c=s.length,m=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(c);m[0]=m[c-1]=1,Ni(s,m,u,0,c-1);var _,w=[];for(_=0;_<c;_++)m[_]&&w.push(s[_]);return w}(s=function(s,u){for(var c=[s[0]],f=1,m=0,_=s.length;f<_;f++)Pu(s[f],s[m])>u&&(c.push(s[f]),m=f);return m<_-1&&c.push(s[_-1]),c}(s,c),c)}function Ds(s,u,c){return Math.sqrt(Xt(s,u,c,!0))}function Ni(s,u,c,f,m){var w,E,S,_=0;for(E=f+1;E<=m-1;E++)(S=Xt(s[E],s[f],s[m],!0))>_&&(w=E,_=S);_>c&&(u[w]=1,Ni(s,u,c,f,w),Ni(s,u,c,w,m))}function Au(s,u,c,f,m){var E,S,M,_=f?Oi:ai(s,c),w=ai(u,c);for(Oi=w;;){if(!(_|w))return[s,u];if(_&w)return!1;M=ai(S=Fr(s,u,E=_||w,c,m),c),E===_?(s=S,_=M):(u=S,w=M)}}function Fr(s,u,c,f,m){var M,N,_=u.x-s.x,w=u.y-s.y,E=f.min,S=f.max;return 8&c?(M=s.x+_*(S.y-s.y)/w,N=S.y):4&c?(M=s.x+_*(E.y-s.y)/w,N=E.y):2&c?(M=S.x,N=s.y+w*(S.x-s.x)/_):1&c&&(M=E.x,N=s.y+w*(E.x-s.x)/_),new ee(M,N,m)}function ai(s,u){var c=0;return s.x<u.min.x?c|=1:s.x>u.max.x&&(c|=2),s.y<u.min.y?c|=4:s.y>u.max.y&&(c|=8),c}function Pu(s,u){var c=u.x-s.x,f=u.y-s.y;return c*c+f*f}function Xt(s,u,c,f){var M,m=u.x,_=u.y,w=c.x-m,E=c.y-_,S=w*w+E*E;return S>0&&((M=((s.x-m)*w+(s.y-_)*E)/S)>1?(m=c.x,_=c.y):M>0&&(m+=w*M,_+=E*M)),w=s.x-m,E=s.y-_,f?w*w+E*E:new ee(m,_)}function en(s){return!ht(s[0])||"object"!=typeof s[0][0]&&void 0!==s[0][0]}function zo(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),en(s)}function ft(s,u){var c,f,m,_,w,E,S,M;if(!s||0===s.length)throw new Error("latlngs not passed");en(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var N=[];for(var Z in s)N.push(u.project(U(s[Z])));var re=N.length;for(c=0,f=0;c<re-1;c++)f+=N[c].distanceTo(N[c+1])/2;if(0===f)M=N[0];else for(c=0,_=0;c<re-1;c++)if((_+=m=(w=N[c]).distanceTo(E=N[c+1]))>f){M=[E.x-(S=(_-f)/m)*(E.x-w.x),E.y-S*(E.y-w.y)];break}return u.unproject(K(M))}var It={__proto__:null,simplify:ws,pointToSegmentDistance:Ds,closestPointOnSegment:function(s,u,c){return Xt(s,u,c)},clipSegment:Au,_getEdgeIntersection:Fr,_getBitCode:ai,_sqClosestPointOnSegment:Xt,isFlat:en,_flat:zo,polylineCenter:ft};function pt(s,u,c){var f,_,w,E,S,M,N,Z,re,m=[1,4,2,8];for(_=0,N=s.length;_<N;_++)s[_]._code=ai(s[_],u);for(E=0;E<4;E++){for(Z=m[E],f=[],_=0,w=(N=s.length)-1;_<N;w=_++)M=s[w],(S=s[_])._code&Z?M._code&Z||((re=Fr(M,S,Z,u,c))._code=ai(re,u),f.push(re)):(M._code&Z&&((re=Fr(M,S,Z,u,c))._code=ai(re,u),f.push(re)),f.push(S));s=f}return s}function zn(s,u){var c,f,m,_,w,E,S,M;if(!s||0===s.length)throw new Error("latlngs not passed");en(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Z=[];for(var re in s)Z.push(u.project(U(s[re])));var Ue=Z.length;for(E=S=M=0,c=0,f=Ue-1;c<Ue;f=c++)S+=((m=Z[c]).x+(_=Z[f]).x)*(w=m.y*_.x-_.y*m.x),M+=(m.y+_.y)*w,E+=3*w;return u.unproject(K(0===E?Z[0]:[S/E,M/E]))}var Fi={__proto__:null,clipPolygon:pt,polygonCenter:zn},xt={project:function(s){return new ee(s.lng,s.lat)},unproject:function(s){return new Q(s.y,s.x)},bounds:new Se([-180,-90],[180,90])},Rt={R:6378137,R_MINOR:6356752.314245179,bounds:new Se([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(s){var u=Math.PI/180,c=this.R,f=s.lat*u,m=this.R_MINOR/c,_=Math.sqrt(1-m*m),w=_*Math.sin(f),E=Math.tan(Math.PI/4-f/2)/Math.pow((1-w)/(1+w),_/2);return f=-c*Math.log(Math.max(E,1e-10)),new ee(s.lng*u*c,f)},unproject:function(s){for(var M,u=180/Math.PI,c=this.R,f=this.R_MINOR/c,m=Math.sqrt(1-f*f),_=Math.exp(-s.y/c),w=Math.PI/2-2*Math.atan(_),E=0,S=.1;E<15&&Math.abs(S)>1e-7;E++)M=m*Math.sin(w),M=Math.pow((1-M)/(1+M),m/2),w+=S=Math.PI/2-2*Math.atan(_*M)-w;return new Q(w*u,s.x*u/c)}},R={__proto__:null,LonLat:xt,Mercator:Rt,SphericalMercator:uu},ce=Pe({},xi,{code:"EPSG:3395",projection:Rt,transformation:function(){var s=.5/(Math.PI*Rt.R);return cs(s,.5,-s,.5)}()}),Ve=Pe({},xi,{code:"EPSG:4326",projection:xt,transformation:cs(1/180,1,-1/180,.5)}),jt=Pe({},an,{projection:xt,transformation:cs(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var c=u.lng-s.lng,f=u.lat-s.lat;return Math.sqrt(c*c+f*f)},infinite:!0});an.Earth=xi,an.EPSG3395=ce,an.EPSG3857=cu,an.EPSG900913=Fc,an.EPSG4326=Ve,an.Simple=jt;var mt=nr.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[De(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[De(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var c=this.getEvents();u.on(c,this),this.once("remove",function(){u.off(c,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});ge.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=De(s);return this._layers[u]||(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s)),this},removeLayer:function(s){var u=De(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return De(s)in this._layers},eachLayer:function(s,u){for(var c in this._layers)s.call(u,this._layers[c]);return this},_addLayers:function(s){for(var u=0,c=(s=s?ht(s)?s:[s]:[]).length;u<c;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[De(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=De(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,c=this._getZoomSpan();for(var f in this._zoomBoundLayers){var m=this._zoomBoundLayers[f].options;s=void 0===m.minZoom?s:Math.min(s,m.minZoom),u=void 0===m.maxZoom?u:Math.max(u,m.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ze=mt.extend({initialize:function(s,u){var c,f;if(He(this,u),this._layers={},s)for(c=0,f=s.length;c<f;c++)this.addLayer(s[c])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){return("number"==typeof s?s:this.getLayerId(s))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var c,f,u=Array.prototype.slice.call(arguments,1);for(c in this._layers)(f=this._layers[c])[s]&&f[s].apply(f,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var c in this._layers)s.call(u,this._layers[c]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return De(s)}}),Ie=Ze.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Ze.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Ze.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ct;for(var u in this._layers){var c=this._layers[u];s.extend(c.getBounds?c.getBounds():c.getLatLng())}return s}}),hn=ri.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){He(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var c=this._getIconUrl(s);if(!c){if("icon"===s)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(c,u&&"IMG"===u.tagName?u:null);return this._setIconStyles(f,s),(this.options.crossOrigin||""===this.options.crossOrigin)&&(f.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),f},_setIconStyles:function(s,u){var c=this.options,f=c[u+"Size"];"number"==typeof f&&(f=[f,f]);var m=K(f),_=K("shadow"===u&&c.shadowAnchor||c.iconAnchor||m&&m.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(c.className||""),_&&(s.style.marginLeft=-_.x+"px",s.style.marginTop=-_.y+"px"),m&&(s.style.width=m.x+"px",s.style.height=m.y+"px")},_createImg:function(s,u){return(u=u||document.createElement("img")).src=s,u},_getIconUrl:function(s){return k.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});var ui=hn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return"string"!=typeof ui.imagePath&&(ui.imagePath=this._detectIconPath()),(this.options.imagePath||ui.imagePath)+hn.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(c,f,m){var _=f.exec(c);return _&&_[m]};return(s=u(s,/^url\((['"])?(.+)\1\)$/,2))&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Ee("div","leaflet-default-icon-path",document.body),u=Ri(s,"background-image")||Ri(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u))return u;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-"leaflet.css".length-1):""}}),Bi=Hn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new cn(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ae(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$e(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,c=u._map,f=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,_=or(u._icon),w=c.getPixelBounds(),E=c.getPixelOrigin(),S=Et(w.min._subtract(E).add(m),w.max._subtract(E).subtract(m));if(!S.contains(_)){var M=K((Math.max(S.max.x,_.x)-S.max.x)/(w.max.x-S.max.x)-(Math.min(S.min.x,_.x)-S.min.x)/(w.min.x-S.min.x),(Math.max(S.max.y,_.y)-S.max.y)/(w.max.y-S.max.y)-(Math.min(S.min.y,_.y)-S.min.y)/(w.min.y-S.min.y)).multiplyBy(f);c.panBy(M,{animate:!1}),this._draggable._newPos._add(M),this._draggable._startPos._add(M),Ce(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Mt(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(At(this._panRequest),this._panRequest=Mt(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,c=u._shadow,f=or(u._icon),m=u._map.layerPointToLatLng(f);c&&Ce(c,f),u._latlng=m,s.latlng=m,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){At(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),ur=mt.extend({options:{icon:new ui,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){He(this,u),this._latlng=U(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=U(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=s.icon.createIcon(this._icon),f=!1;c!==this._icon&&(this._icon&&this._removeIcon(),f=!0,s.title&&(c.title=s.title),"IMG"===c.tagName&&(c.alt=s.alt||"")),ae(c,u),s.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ne(c,"focus",this._panOnFocus,this);var m=s.icon.createShadow(this._shadow),_=!1;m!==this._shadow&&(this._removeShadow(),_=!0),m&&(ae(m,u),m.alt=""),this._shadow=m,s.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&_&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Be(this._icon,"focus",this._panOnFocus,this),Fe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Fe(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Ce(this._icon,s),this._shadow&&Ce(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(ae(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Bi)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Bi(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Jt(this._icon,s),this._shadow&&Jt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,c=u.iconSize?K(u.iconSize):K(0,0),f=u.iconAnchor?K(u.iconAnchor):K(0,0);s.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:c.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var We=mt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return He(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),li=We.extend({options:{fill:!0,radius:10},initialize:function(s,u){He(this,u),this._latlng=U(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=U(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return We.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,c=this._clickTolerance(),f=[s+c,u+c];this._pxBounds=new Se(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Ht=li.extend({initialize:function(s,u,c){if("number"==typeof u&&(u=Pe({},c,{radius:u})),He(this,u),this._latlng=U(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ct(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:We.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,c=this._map,f=c.options.crs;if(f.distance===xi.distance){var m=Math.PI/180,_=this._mRadius/xi.R/m,w=c.project([u+_,s]),E=c.project([u-_,s]),S=w.add(E).divideBy(2),M=c.unproject(S).lat,N=Math.acos((Math.cos(_*m)-Math.sin(u*m)*Math.sin(M*m))/(Math.cos(u*m)*Math.cos(M*m)))/m;(isNaN(N)||0===N)&&(N=_/Math.cos(Math.PI/180*u)),this._point=S.subtract(c.getPixelOrigin()),this._radius=isNaN(N)?0:S.x-c.project([M,s-N]).x,this._radiusY=S.y-w.y}else{var Z=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(Z).x}this._updateBounds()}});var $n=We.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){He(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var m,_,u=1/0,c=null,f=Xt,w=0,E=this._parts.length;w<E;w++)for(var S=this._parts[w],M=1,N=S.length;M<N;M++){var Z=f(s,m=S[M-1],_=S[M],!0);Z<u&&(u=Z,c=f(s,m,_))}return c&&(c.distance=Math.sqrt(u)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ft(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=U(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ct,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return en(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],c=en(s),f=0,m=s.length;f<m;f++)c?(u[f]=U(s[f]),this._bounds.extend(u[f])):u[f]=this._convertLatLngs(s[f]);return u},_project:function(){var s=new Se;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new ee(s,s);!this._rawPxBounds||(this._pxBounds=new Se([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,c){var _,w,m=s.length;if(s[0]instanceof Q){for(w=[],_=0;_<m;_++)w[_]=this._map.latLngToLayerPoint(s[_]),c.extend(w[_]);u.push(w)}else for(_=0;_<m;_++)this._projectLatlngs(s[_],u,c)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);var c,f,m,_,w,E,S,u=this._parts;for(c=0,m=0,_=this._rings.length;c<_;c++)for(f=0,w=(S=this._rings[c]).length;f<w-1;f++)(E=Au(S[f],S[f+1],s,f,!0))&&(u[m]=u[m]||[],u[m].push(E[0]),(E[1]!==S[f+1]||f===w-2)&&(u[m].push(E[1]),m++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,c=0,f=s.length;c<f;c++)s[c]=ws(s[c],u)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var c,f,m,_,w,E,S=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(c=0,_=this._parts.length;c<_;c++)for(f=0,m=(w=(E=this._parts[c]).length)-1;f<w;m=f++)if((u||0!==f)&&Ds(s,E[m],E[f])<=S)return!0;return!1}});$n._flat=zo;var Zn=$n.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=$n.prototype._convertLatLngs.call(this,s),c=u.length;return c>=2&&u[0]instanceof Q&&u[0].equals(u[c-1])&&u.pop(),u},_setLatLngs:function(s){$n.prototype._setLatLngs.call(this,s),en(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return en(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,c=new ee(u,u);if(s=new Se(s.min.subtract(c),s.max.add(c)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);for(var _,f=0,m=this._rings.length;f<m;f++)(_=pt(this._rings[f],s,!0)).length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var c,f,m,_,w,E,S,M,u=!1;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(_=0,S=this._parts.length;_<S;_++)for(w=0,E=(M=(c=this._parts[_]).length)-1;w<M;E=w++)(f=c[w]).y>s.y!=(m=c[E]).y>s.y&&s.x<(m.x-f.x)*(s.y-f.y)/(m.y-f.y)+f.x&&(u=!u);return u||$n.prototype._containsPoint.call(this,s,!0)}});var Ut=Ie.extend({initialize:function(s,u){He(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var c,f,m,u=ht(s)?s:s.features;if(u){for(c=0,f=u.length;c<f;c++)((m=u[c]).geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var _=this.options;if(_.filter&&!_.filter(s))return this;var w=Vi(s,_);return w?(w.feature=ji(s),w.defaultOptions=w.options,this.resetStyle(w),_.onEachFeature&&_.onEachFeature(s,w),this.addLayer(w)):this},resetStyle:function(s){return void 0===s?this.eachLayer(this.resetStyle,this):(s.options=Pe({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&("function"==typeof u&&(u=u(s.feature)),s.setStyle(u))}});function Vi(s,u){var E,S,M,N,c="Feature"===s.type?s.geometry:s,f=c?c.coordinates:null,m=[],_=u&&u.pointToLayer,w=u&&u.coordsToLatLng||at;if(!f&&!c)return null;switch(c.type){case"Point":return ci(_,s,E=w(f),u);case"MultiPoint":for(M=0,N=f.length;M<N;M++)E=w(f[M]),m.push(ci(_,s,E,u));return new Ie(m);case"LineString":case"MultiLineString":return S=Es(f,"LineString"===c.type?0:1,w),new $n(S,u);case"Polygon":case"MultiPolygon":return S=Es(f,"Polygon"===c.type?1:2,w),new Zn(S,u);case"GeometryCollection":for(M=0,N=c.geometries.length;M<N;M++){var Z=Vi({geometry:c.geometries[M],type:"Feature",properties:s.properties},u);Z&&m.push(Z)}return new Ie(m);case"FeatureCollection":for(M=0,N=c.features.length;M<N;M++){var re=Vi(c.features[M],u);re&&m.push(re)}return new Ie(m);default:throw new Error("Invalid GeoJSON object.")}}function ci(s,u,c,f){return s?s(u,c):new ur(c,f&&f.markersInheritOptions&&f)}function at(s){return new Q(s[1],s[0],s[2])}function Es(s,u,c){for(var w,f=[],m=0,_=s.length;m<_;m++)w=u?Es(s[m],u-1,c):(c||at)(s[m]),f.push(w);return f}function tn(s,u){return void 0!==(s=U(s)).alt?[Bt(s.lng,u),Bt(s.lat,u),Bt(s.alt,u)]:[Bt(s.lng,u),Bt(s.lat,u)]}function Lt(s,u,c,f){for(var m=[],_=0,w=s.length;_<w;_++)m.push(u?Lt(s[_],en(s[_])?0:u-1,c,f):tn(s[_],f));return!u&&c&&m.push(m[0].slice()),m}function hi(s,u){return s.feature?Pe({},s.feature,{geometry:u}):ji(u)}function ji(s){return"Feature"===s.type||"FeatureCollection"===s.type?s:{type:"Feature",properties:{},geometry:s}}var hr={toGeoJSON:function(s){return hi(this,{type:"Point",coordinates:tn(this.getLatLng(),s)})}};function nn(s,u){return new Ut(s,u)}ur.include(hr),Ht.include(hr),li.include(hr),$n.include({toGeoJSON:function(s){var u=!en(this._latlngs);return hi(this,{type:(u?"Multi":"")+"LineString",coordinates:Lt(this._latlngs,u?1:0,!1,s)})}}),Zn.include({toGeoJSON:function(s){var u=!en(this._latlngs),c=u&&!en(this._latlngs[0]),f=Lt(this._latlngs,c?2:u?1:0,!0,s);return u||(f=[f]),hi(this,{type:(c?"Multi":"")+"Polygon",coordinates:f})}}),Ze.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(c){u.push(c.toGeoJSON(s).geometry.coordinates)}),hi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===u)return this.toMultiPoint(s);var c="GeometryCollection"===u,f=[];return this.eachLayer(function(m){if(m.toGeoJSON){var _=m.toGeoJSON(s);if(c)f.push(_.geometry);else{var w=ji(_);"FeatureCollection"===w.type?f.push.apply(f,w.features):f.push(w)}}}),c?hi(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});var fh=nn,Zo=mt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,c){this._url=s,this._bounds=ve(u),He(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ae(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Fe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Li(this._image),this},bringToBack:function(){return this._map&&xr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ve(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s="IMG"===this._url.tagName,u=this._image=s?this._url:Ee("img");ae(u,"leaflet-image-layer"),this._zoomAnimated&&ae(u,"leaflet-zoom-animated"),this.options.className&&ae(u,this.options.className),u.onselectstart=Re,u.onmousemove=Re,u.onload=Ne(this.fire,this,"load"),u.onerror=Ne(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(u.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s?this._url=u.src:(u.src=this._url,u.alt=this.options.alt)},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Sn(this._image,c,u)},_reset:function(){var s=this._image,u=new Se(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=u.getSize();Ce(s,u.min),s.style.width=c.x+"px",s.style.height=c.y+"px"},_updateOpacity:function(){Jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Iu=Zo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s="VIDEO"===this._url.tagName,u=this._image=s?this._url:Ee("video");if(ae(u,"leaflet-image-layer"),this._zoomAnimated&&ae(u,"leaflet-zoom-animated"),this.options.className&&ae(u,this.options.className),u.onselectstart=Re,u.onmousemove=Re,u.onloadeddata=Ne(this.fire,this,"load"),s){for(var c=u.getElementsByTagName("source"),f=[],m=0;m<c.length;m++)f.push(c[m].src);this._url=c.length>0?f:[u.src]}else{ht(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var w=Ee("source");w.src=this._url[_],u.appendChild(w)}}}});var mh=Zo.extend({_initImage:function(){var s=this._image=this._url;ae(s,"leaflet-image-layer"),this._zoomAnimated&&ae(s,"leaflet-zoom-animated"),this.options.className&&ae(s,this.options.className),s.onselectstart=Re,s.onmousemove=Re}});var qn=mt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof Q||ht(s))?(this._latlng=U(s),He(this,u)):(He(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return(s=arguments.length?s:this._source._map).hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Jt(this._container,1),this.bringToFront(),this.options.interactive&&(ae(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Jt(this._container,0),this._removeTimeout=setTimeout(Ne(Fe,void 0,this._container),200)):Fe(this._container),this.options.interactive&&($e(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=U(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Li(this._container),this},bringToBack:function(){return this._map&&xr(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Ie){u=null;var c=this._source._layers;for(var f in c)if(c[f]._map){u=c[f];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else{if(!u.getBounds)throw new Error("Unable to get source layer LatLng.");s=u.getBounds().getCenter()}return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof u)s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=K(this.options.offset),c=this._getAnchor();this._zoomAnimated?Ce(this._container,s.add(c)):u=u.add(s).add(c);var f=this._containerBottom=-u.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=f+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});ge.include({_initOverlay:function(s,u,c,f){var m=u;return m instanceof s||(m=new s(f).setContent(u)),c&&m.setLatLng(c),m}}),mt.include({_initOverlay:function(s,u,c,f){var m=c;return m instanceof s?(He(m,f),m._source=this):(m=u&&!f?u:new s(f,this)).setContent(c),m}});var qo=qn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return!(s=arguments.length?s:this._source._map).hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,qn.prototype.openOn.call(this,s)},onAdd:function(s){qn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof We||this._source.on("preclick",oi))},onRemove:function(s){qn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof We||this._source.off("preclick",oi))},getEvents:function(){var s=qn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Ee("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Ee("div",s+"-content-wrapper",u);if(this._contentNode=Ee("div",s+"-content",c),Nr(u),Ho(this._contentNode),ne(u,"contextmenu",oi),this._tipContainer=Ee("div",s+"-tip-container",u),this._tip=Ee("div",s+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=Ee("a",s+"-close-button",u);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',ne(f,"click",function(m){st(m),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var c=s.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),u.width=c+1+"px",u.whiteSpace="",u.height="";var m=this.options.maxHeight,_="leaflet-popup-scrolled";m&&s.offsetHeight>m?(u.height=m+"px",ae(s,_)):$e(s,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),c=this._getAnchor();Ce(this._container,u.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var s=this._map,u=parseInt(Ri(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+u,f=this._containerWidth,m=new ee(this._containerLeft,-c-this._containerBottom);m._add(or(this._container));var _=s.layerPointToContainerPoint(m),w=K(this.options.autoPanPadding),E=K(this.options.autoPanPaddingTopLeft||w),S=K(this.options.autoPanPaddingBottomRight||w),M=s.getSize(),N=0,Z=0;_.x+f+S.x>M.x&&(N=_.x+f-M.x+S.x),_.x-N-E.x<0&&(N=_.x-E.x),_.y+c+S.y>M.y&&(Z=_.y+c-M.y+S.y),_.y-Z-E.y<0&&(Z=_.y-E.y),(N||Z)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([N,Z]))}},_getAnchor:function(){return K(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});ge.mergeOptions({closePopupOnClick:!0}),ge.include({openPopup:function(s,u,c){return this._initOverlay(qo,s,u,c).openOn(this),this},closePopup:function(s){return(s=arguments.length?s:this._popup)&&s.close(),this}}),mt.include({bindPopup:function(s,u){return this._popup=this._initOverlay(qo,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Ie||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(this._popup&&this._map){Tn(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof We))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng));this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){13===s.originalEvent.keyCode&&this._openPopup(s)}});var Wo=qn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){qn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){qn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=qn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){this._contentNode=this._container=Ee("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+De(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,c,f=this._map,m=this._container,_=f.latLngToContainerPoint(f.getCenter()),w=f.layerPointToContainerPoint(s),E=this.options.direction,S=m.offsetWidth,M=m.offsetHeight,N=K(this.options.offset),Z=this._getAnchor();"top"===E?(u=S/2,c=M):"bottom"===E?(u=S/2,c=0):"center"===E?(u=S/2,c=M/2):"right"===E?(u=0,c=M/2):"left"===E?(u=S,c=M/2):w.x<_.x?(E="right",u=0,c=M/2):(E="left",u=S+2*(N.x+Z.x),c=M/2),s=s.subtract(K(u,c,!0)).add(N).add(Z),$e(m,"leaflet-tooltip-right"),$e(m,"leaflet-tooltip-left"),$e(m,"leaflet-tooltip-top"),$e(m,"leaflet-tooltip-bottom"),ae(m,"leaflet-tooltip-"+E),Ce(m,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Jt(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return K(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});ge.include({openTooltip:function(s,u,c){return this._initOverlay(Wo,s,u,c).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),mt.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Wo,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(s||!this._tooltipHandlersAdded){var u=s?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[u](c),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Ie||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=s.getElement();u&&(ne(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ne(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0))},_moveTooltip:function(s){var c,f,u=s.latlng;this._tooltip.options.sticky&&s.originalEvent&&(c=this._map.mouseEventToContainerPoint(s.originalEvent),f=this._map.containerPointToLayerPoint(c),u=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(u)}});var gh=hn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&"DIV"===s.tagName?s:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Y(u),u.appendChild(c.html)):u.innerHTML=!1!==c.html?c.html:"",c.bgPos){var f=K(c.bgPos);u.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});hn.Default=ui;var Cs=mt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:k.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){He(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Fe(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Li(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(xr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=To(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof ee?s:new ee(s,s)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var _,u=this.getPane().children,c=-s(-1/0,1/0),f=0,m=u.length;f<m;f++)_=u[f].style.zIndex,u[f]!==this._container&&_&&(c=s(c,+_));isFinite(c)&&(this.options.zIndex=c+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!k.ielt9){Jt(this._container,this.options.opacity);var s=+new Date,u=!1,c=!1;for(var f in this._tiles){var m=this._tiles[f];if(m.current&&m.loaded){var _=Math.min(1,(s-m.loaded)/200);Jt(m.el,_),_<1?u=!0:(m.active?c=!0:this._onOpaqueTile(m),m.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),u&&(At(this._fadeFrame),this._fadeFrame=Mt(this._updateOpacity,this))}},_onOpaqueTile:Re,_initContainer:function(){this._container||(this._container=Ee("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(void 0!==s){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===s?(this._levels[c].el.style.zIndex=u-Math.abs(s-c),this._onUpdateLevel(c)):(Fe(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var f=this._levels[s],m=this._map;return f||((f=this._levels[s]={}).el=Ee("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=u,f.origin=m.project(m.unproject(m.getPixelOrigin()),s).round(),f.zoom=s,this._setZoomTransform(f,m.getCenter(),m.getZoom()),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:Re,_onRemoveLevel:Re,_onCreateLevel:Re,_pruneTiles:function(){if(this._map){var s,u,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom)return void this._removeAllTiles();for(s in this._tiles)(u=this._tiles[s]).retain=u.current;for(s in this._tiles)if((u=this._tiles[s]).current&&!u.active){var f=u.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Fe(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,c,f){var m=Math.floor(s/2),_=Math.floor(u/2),w=c-1,E=new ee(+m,+_);E.z=+w;var S=this._tileCoordsToKey(E),M=this._tiles[S];return M&&M.active?(M.retain=!0,!0):(M&&M.loaded&&(M.retain=!0),w>f&&this._retainParent(m,_,w,f))},_retainChildren:function(s,u,c,f){for(var m=2*s;m<2*s+2;m++)for(var _=2*u;_<2*u+2;_++){var w=new ee(m,_);w.z=c+1;var E=this._tileCoordsToKey(w),S=this._tiles[E];S&&S.active?S.retain=!0:(S&&S.loaded&&(S.retain=!0),c+1<f&&this._retainChildren(m,_,c+1,f))}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return void 0!==u.minNativeZoom&&s<u.minNativeZoom?u.minNativeZoom:void 0!==u.maxNativeZoom&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,c,f){var m=Math.round(u);m=void 0!==this.options.maxZoom&&m>this.options.maxZoom||void 0!==this.options.minZoom&&m<this.options.minZoom?void 0:this._clampZoom(m),(!f||this.options.updateWhenZooming&&m!==this._tileZoom)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==m&&this._update(s),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var c in this._levels)this._setZoomTransform(this._levels[c],s,u)},_setZoomTransform:function(s,u,c){var f=this._map.getZoomScale(c,s.zoom),m=s.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(u,c)).round();k.any3d?Sn(s.el,m,f):Ce(s.el,m)},_resetGrid:function(){var s=this._map,u=s.options.crs,c=this._tileSize=this.getTileSize(),f=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],f).x/c.x),Math.ceil(s.project([0,u.wrapLng[1]],f).x/c.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],f).y/c.x),Math.ceil(s.project([u.wrapLat[1],0],f).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,c=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),f=u.getZoomScale(c,this._tileZoom),m=u.project(s,this._tileZoom).floor(),_=u.getSize().divideBy(2*f);return new Se(m.subtract(_),m.add(_))},_update:function(s){var u=this._map;if(u){var c=this._clampZoom(u.getZoom());if(void 0===s&&(s=u.getCenter()),void 0!==this._tileZoom){var f=this._getTiledPixelBounds(s),m=this._pxBoundsToTileRange(f),_=m.getCenter(),w=[],E=this.options.keepBuffer,S=new Se(m.getBottomLeft().subtract([E,-E]),m.getTopRight().add([E,-E]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var M in this._tiles){var N=this._tiles[M].coords;(N.z!==this._tileZoom||!S.contains(new ee(N.x,N.y)))&&(this._tiles[M].current=!1)}if(Math.abs(c-this._tileZoom)>1)return void this._setView(s,c);for(var Z=m.min.y;Z<=m.max.y;Z++)for(var re=m.min.x;re<=m.max.x;re++){var Ue=new ee(re,Z);if(Ue.z=this._tileZoom,this._isValidTile(Ue)){var fi=this._tiles[this._tileCoordsToKey(Ue)];fi?fi.current=!0:w.push(Ue)}}if(w.sort(function(pi,An){return pi.distanceTo(_)-An.distanceTo(_)}),0!==w.length){this._loading||(this._loading=!0,this.fire("loading"));var fr=document.createDocumentFragment();for(re=0;re<w.length;re++)this._addTile(w[re],fr);this._level.el.appendChild(fr)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var c=this._globalTileRange;if(!u.wrapLng&&(s.x<c.min.x||s.x>c.max.x)||!u.wrapLat&&(s.y<c.min.y||s.y>c.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(s);return ve(this.options.bounds).overlaps(f)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,c=this.getTileSize(),f=s.scaleBy(c),m=f.add(c);return[u.unproject(f,s.z),u.unproject(m,s.z)]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),c=new Ct(u[0],u[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),c=new ee(+u[0],+u[1]);return c.z=+u[2],c},_removeTile:function(s){var u=this._tiles[s];!u||(Fe(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){ae(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=Re,s.onmousemove=Re,k.ielt9&&this.options.opacity<1&&Jt(s,this.options.opacity)},_addTile:function(s,u){var c=this._getTilePos(s),f=this._tileCoordsToKey(s),m=this.createTile(this._wrapCoords(s),Ne(this._tileReady,this,s));this._initTile(m),this.createTile.length<2&&Mt(Ne(this._tileReady,this,s,null,m)),Ce(m,c),this._tiles[f]={el:m,coords:s,current:!0},u.appendChild(m),this.fire("tileloadstart",{tile:m,coords:s})},_tileReady:function(s,u,c){u&&this.fire("tileerror",{error:u,tile:c,coords:s});var f=this._tileCoordsToKey(s);(c=this._tiles[f])&&(c.loaded=+new Date,this._map._fadeAnimated?(Jt(c.el,0),At(this._fadeFrame),this._fadeFrame=Mt(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),u||(ae(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),k.ielt9||!this._map._fadeAnimated?Mt(this._pruneTiles,this):setTimeout(Ne(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new ee(this._wrapX?er(s.x,this._wrapX):s.x,this._wrapY?er(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new Se(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});var Br=Cs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,(u=He(this,u)).detectRetina&&k.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),"string"==typeof u.subdomains&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&void 0===u&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var c=document.createElement("img");return ne(c,"load",Ne(this._tileOnLoad,this,u,c)),ne(c,"error",Ne(this._tileOnError,this,u,c)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(c.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(s),c},getTileUrl:function(s){var u={r:k.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=c),u["-y"]=c}return rs(this._url,Pe(u,this.options))},_tileOnLoad:function(s,u){k.ielt9?setTimeout(Ne(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,c){var f=this.options.errorTileUrl;f&&u.getAttribute("src")!==f&&(u.src=f),s(c,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom;return this.options.zoomReverse&&(s=this.options.maxZoom-s),s+this.options.zoomOffset},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&((u=this._tiles[s].el).onload=Re,u.onerror=Re,!u.complete)){u.src=ss;var c=this._tiles[s].coords;Fe(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:c})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",ss),Cs.prototype._removeTile.call(this,s)},_tileReady:function(s,u,c){if(this._map&&(!c||c.getAttribute("src")!==ss))return Cs.prototype._tileReady.call(this,s,u,c)}});function _h(s,u){return new Br(s,u)}var Go=Br.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var c=Pe({},this.defaultWmsParams);for(var f in u)f in this.options||(c[f]=u[f]);var m=(u=He(this,u)).detectRetina&&k.retina?2:1,_=this.getTileSize();c.width=_.x*m,c.height=_.y*m,this.wmsParams=c},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,Br.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),c=this._crs,f=Et(c.project(u[0]),c.project(u[1])),m=f.min,_=f.max,w=(this._wmsVersion>=1.3&&this._crs===Ve?[m.y,m.x,_.y,_.x]:[m.x,m.y,_.x,_.y]).join(","),E=Br.prototype.getTileUrl.call(this,s);return E+su(this.wmsParams,E,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+w},setParams:function(s,u){return Pe(this.wmsParams,s),u||this.redraw(),this}});Br.WMS=Go,_h.wms=function(s,u){return new Go(s,u)};var di=mt.extend({options:{padding:.1},initialize:function(s){He(this,s),De(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ae(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var c=this._map.getZoomScale(u,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,u),_=f.multiplyBy(-c).add(m).subtract(this._map._getNewPixelOrigin(s,u));k.any3d?Sn(this._container,_,c):Ce(this._container,_)},_reset:function(){for(var s in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),c=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new Se(c,c.add(u.multiplyBy(1+2*s)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),yh=di.extend({options:{tolerance:0},getEvents:function(){var s=di.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){di.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ne(s,"mousemove",this._onMouseMove,this),ne(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ne(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){At(this._redrawRequest),delete this._ctx,Fe(this._container),Be(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var u in this._redrawBounds=null,this._layers)this._layers[u]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){di.prototype._update.call(this);var s=this._bounds,u=this._container,c=s.getSize(),f=k.retina?2:1;Ce(u,s.min),u.width=f*c.x,u.height=f*c.y,u.style.width=c.x+"px",u.style.height=c.y+"px",k.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){di.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[De(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,c=u.next,f=u.prev;c?c.prev=f:this._drawLast=f,f?f.next=c:this._drawFirst=c,delete s._order,delete this._layers[De(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if("string"==typeof s.options.dashArray){var f,m,u=s.options.dashArray.split(/[, ]+/),c=[];for(m=0;m<u.length;m++){if(f=Number(u[m]),isNaN(f))return;c.push(f)}s.options._dashArray=c}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){!this._map||(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Mt(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Se,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var c=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)s=f.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var c,f,m,_,w=s._parts,E=w.length,S=this._ctx;if(E){for(S.beginPath(),c=0;c<E;c++){for(f=0,m=w[c].length;f<m;f++)S[f?"lineTo":"moveTo"]((_=w[c][f]).x,_.y);u&&S.closePath()}this._fillStroke(S,s)}}},_updateCircle:function(s){if(this._drawing&&!s._empty()){var u=s._point,c=this._ctx,f=Math.max(Math.round(s._radius),1),m=(Math.max(Math.round(s._radiusY),1)||f)/f;1!==m&&(c.save(),c.scale(1,m)),c.beginPath(),c.arc(u.x,u.y/m,f,0,2*Math.PI,!1),1!==m&&c.restore(),this._fillStroke(c,s)}},_fillStroke:function(s,u){var c=u.options;c.fill&&(s.globalAlpha=c.fillOpacity,s.fillStyle=c.fillColor||c.color,s.fill(c.fillRule||"evenodd")),c.stroke&&0!==c.weight&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=c.opacity,s.lineWidth=c.weight,s.strokeStyle=c.color,s.lineCap=c.lineCap,s.lineJoin=c.lineJoin,s.stroke())},_onClick:function(s){for(var c,f,u=this._map.mouseEventToLayerPoint(s),m=this._drawFirst;m;m=m.next)(c=m.layer).options.interactive&&c._containsPoint(u)&&("click"!==s.type&&"preclick"!==s.type||!this._map._draggableMoved(c))&&(f=c);this._fireEvent(!!f&&[f],s)},_onMouseMove:function(s){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&($e(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var c,f,m=this._drawFirst;m;m=m.next)(c=m.layer).options.interactive&&c._containsPoint(u)&&(f=c);f!==this._hoveredLayer&&(this._handleMouseOut(s),f&&(ae(this._container,"leaflet-interactive"),this._fireEvent([f],s,"mouseover"),this._hoveredLayer=f)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],s),this._mouseHoverThrottled=!0,setTimeout(Ne(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,c){this._map._fireDOMEvent(u,c||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var c=u.next,f=u.prev;if(!c)return;c.prev=f,f?f.next=c:c&&(this._drawFirst=c),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var c=u.next,f=u.prev;if(!f)return;f.next=c,c?c.prev=f:f&&(this._drawLast=f),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function vh(s){return k.canvas?new yh(s):null}var dn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch(s){}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),wh={_initContainer:function(){this._container=Ee("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(di.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=dn("shape");ae(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=dn("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[De(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;Fe(u),s.removeInteractiveTarget(u),delete this._layers[De(s)]},_updateStyle:function(s){var u=s._stroke,c=s._fill,f=s.options,m=s._container;m.stroked=!!f.stroke,m.filled=!!f.fill,f.stroke?(u||(u=s._stroke=dn("stroke")),m.appendChild(u),u.weight=f.weight+"px",u.color=f.color,u.opacity=f.opacity,u.dashStyle=f.dashArray?ht(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):"",u.endcap=f.lineCap.replace("butt","flat"),u.joinstyle=f.lineJoin):u&&(m.removeChild(u),s._stroke=null),f.fill?(c||(c=s._fill=dn("fill")),m.appendChild(c),c.color=f.fillColor||f.color,c.opacity=f.fillOpacity):c&&(m.removeChild(c),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),c=Math.round(s._radius),f=Math.round(s._radiusY||c);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+c+","+f+" 0,23592600")},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Li(s._container)},_bringToBack:function(s){xr(s._container)}},Mn=k.vml?dn:kc,dr=di.extend({_initContainer:function(){this._container=Mn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Mn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Fe(this._container),Be(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){di.prototype._update.call(this);var s=this._bounds,u=s.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,c.setAttribute("width",u.x),c.setAttribute("height",u.y)),Ce(c,s.min),c.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Mn("path");s.options.className&&ae(u,s.options.className),s.options.interactive&&ae(u,"leaflet-interactive"),this._updateStyle(s),this._layers[De(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Fe(s._path),s.removeInteractiveTarget(s._path),delete this._layers[De(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,c=s.options;!u||(c.stroke?(u.setAttribute("stroke",c.color),u.setAttribute("stroke-opacity",c.opacity),u.setAttribute("stroke-width",c.weight),u.setAttribute("stroke-linecap",c.lineCap),u.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?u.setAttribute("stroke-dasharray",c.dashArray):u.removeAttribute("stroke-dasharray"),c.dashOffset?u.setAttribute("stroke-dashoffset",c.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),c.fill?(u.setAttribute("fill",c.fillColor||c.color),u.setAttribute("fill-opacity",c.fillOpacity),u.setAttribute("fill-rule",c.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Ao(s._parts,u))},_updateCircle:function(s){var u=s._point,c=Math.max(Math.round(s._radius),1),m="a"+c+","+(Math.max(Math.round(s._radiusY),1)||c)+" 0 1,0 ",_=s._empty()?"M0 0":"M"+(u.x-c)+","+u.y+m+2*c+",0 "+m+2*-c+",0 ";this._setPath(s,_)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Li(s._path)},_bringToBack:function(s){xr(s._path)}});function xu(s){return k.svg||k.vml?new dr(s):null}k.vml&&dr.include(wh),ge.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if("overlayPane"===s||void 0===s)return!1;var u=this._paneRenderers[s];return void 0===u&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&vh(s)||xu(s)}});var Ru=Zn.extend({initialize:function(s,u){Zn.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return[(s=ve(s)).getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});dr.create=Mn,dr.pointsToPath=Ao,Ut.geometryToLayer=Vi,Ut.coordsToLatLng=at,Ut.coordsToLatLngs=Es,Ut.latLngToCoords=tn,Ut.latLngsToCoords=Lt,Ut.getFeature=hi,Ut.asFeature=ji,ge.mergeOptions({boxZoom:!0});var Qo=Hn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ne(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Be(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Fe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||1!==s.which&&1!==s.button)return!1;this._clearDeferredResetState(),this._resetState(),Rr(),Eu(),this._startPoint=this._map.mouseEventToContainerPoint(s),ne(document,{contextmenu:Tn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Ee("div","leaflet-zoom-box",this._container),ae(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new Se(this._point,this._startPoint),c=u.getSize();Ce(this._box,u.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Fe(this._box),$e(this._container,"leaflet-crosshair")),gs(),Cu(),Be(document,{contextmenu:Tn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if((1===s.which||1===s.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Ne(this._resetState,this),0);var u=new Ct(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){27===s.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ge.addInitHook("addHandler","boxZoom",Qo),ge.mergeOptions({doubleClickZoom:!0});var Nu=Hn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,c=u.getZoom(),f=u.options.zoomDelta,m=s.originalEvent.shiftKey?c-f:c+f;"center"===u.options.doubleClickZoom?u.setZoom(m):u.setZoomAround(s.containerPoint,m)}});ge.addInitHook("addHandler","doubleClickZoom",Nu),ge.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var bs=Hn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new cn(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}ae(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$e(this._map._container,"leaflet-grab"),$e(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=ve(this._map.options.maxBounds);this._offsetLimit=Et(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),c=this._initialWorldOffset,f=this._draggable._newPos.x,m=(f-u+c)%s+u-c,_=(f+u+c)%s-u-c,w=Math.abs(m+c)<Math.abs(_+c)?m:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=w},_onDragEnd:function(s){var u=this._map,c=u.options,f=!c.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),f)u.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),w=c.easeLinearity,E=m.multiplyBy(w/((this._lastTime-this._times[0])/1e3)),S=E.distanceTo([0,0]),M=Math.min(c.inertiaMaxSpeed,S),N=E.multiplyBy(M/S),Z=M/(c.inertiaDeceleration*w),re=N.multiplyBy(-Z/2).round();re.x||re.y?(re=u._limitOffset(re,u.options.maxBounds),Mt(function(){u.panBy(re,{duration:Z,easeLinearity:w,noMoveStart:!0,animate:!0})})):u.fire("moveend")}}});ge.addInitHook("addHandler","dragging",bs),ge.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ou=Hn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ne(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Be(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,c=s.scrollTop||u.scrollTop,f=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(f,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var f,m,u=this._panKeys={},c=this.keyCodes;for(f=0,m=c.left.length;f<m;f++)u[c.left[f]]=[-1*s,0];for(f=0,m=c.right.length;f<m;f++)u[c.right[f]]=[s,0];for(f=0,m=c.down.length;f<m;f++)u[c.down[f]]=[0,s];for(f=0,m=c.up.length;f<m;f++)u[c.up[f]]=[0,-1*s]},_setZoomDelta:function(s){var f,m,u=this._zoomKeys={},c=this.keyCodes;for(f=0,m=c.zoomIn.length;f<m;f++)u[c.zoomIn[f]]=s;for(f=0,m=c.zoomOut.length;f<m;f++)u[c.zoomOut[f]]=-s},_addHooks:function(){ne(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Be(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var f,u=s.keyCode,c=this._map;if(u in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(f=this._panKeys[u],s.shiftKey&&(f=K(f).multiplyBy(3)),c.options.maxBounds&&(f=c._limitOffset(K(f),c.options.maxBounds)),c.options.worldCopyJump){var m=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(f)));c.panTo(m)}else c.panBy(f)}else if(u in this._zoomKeys)c.setZoom(c.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else{if(27!==u||!c._popup||!c._popup.options.closeOnEscapeKey)return;c.closePopup()}Tn(s)}}});ge.addInitHook("addHandler","keyboard",Ou),ge.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var zt=Hn.extend({addHooks:function(){ne(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Be(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=J(s),c=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var f=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(Ne(this._performZoom,this),f),Tn(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),c=this._map.options.zoomSnap||0;s._stop();var m=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,_=c?Math.ceil(m/c)*c:m,w=s._limitZoom(u+(this._delta>0?_:-_))-u;this._delta=0,this._startTime=null,w&&("center"===s.options.scrollWheelZoom?s.setZoom(u+w):s.setZoomAround(this._lastMousePos,u+w))}});ge.addInitHook("addHandler","scrollWheelZoom",zt);ge.mergeOptions({tapHold:k.touchNative&&k.safari&&k.mobile,tapTolerance:15});var Yo=Hn.extend({addHooks:function(){ne(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Be(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),1===s.touches.length){var u=s.touches[0];this._startPos=this._newPos=new ee(u.clientX,u.clientY),this._holdTimeout=setTimeout(Ne(function(){this._cancel(),this._isTapValid()&&(ne(document,"touchend",st),ne(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),600),ne(document,"touchend touchcancel contextmenu",this._cancel,this),ne(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Be(document,"touchend",st),Be(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Be(document,"touchend touchcancel contextmenu",this._cancel,this),Be(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new ee(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var c=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});c._simulated=!0,u.target.dispatchEvent(c)}});ge.addInitHook("addHandler","tapHold",Yo),ge.mergeOptions({touchZoom:k.touch,bounceAtZoomLimits:!0});var Ss=Hn.extend({addHooks:function(){ae(this._map._container,"leaflet-touch-zoom"),ne(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$e(this._map._container,"leaflet-touch-zoom"),Be(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(s.touches&&2===s.touches.length&&!u._animatingZoom&&!this._zooming){var c=u.mouseEventToContainerPoint(s.touches[0]),f=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),"center"!==u.options.touchZoom&&(this._pinchStartLatLng=u.containerPointToLatLng(c.add(f)._divideBy(2))),this._startDist=c.distanceTo(f),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),ne(document,"touchmove",this._onTouchMove,this),ne(document,"touchend touchcancel",this._onTouchEnd,this),st(s)}},_onTouchMove:function(s){if(s.touches&&2===s.touches.length&&this._zooming){var u=this._map,c=u.mouseEventToContainerPoint(s.touches[0]),f=u.mouseEventToContainerPoint(s.touches[1]),m=c.distanceTo(f)/this._startDist;if(this._zoom=u.getScaleZoom(m,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&m<1||this._zoom>u.getMaxZoom()&&m>1)&&(this._zoom=u._limitZoom(this._zoom)),"center"===u.options.touchZoom){if(this._center=this._startLatLng,1===m)return}else{var _=c._add(f)._divideBy(2)._subtract(this._centerPoint);if(1===m&&0===_.x&&0===_.y)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),At(this._animRequest);var w=Ne(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Mt(w,this,!0),st(s)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,At(this._animRequest),Be(document,"touchmove",this._onTouchMove,this),Be(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});ge.addInitHook("addHandler","touchZoom",Ss),ge.BoxZoom=Qo,ge.DoubleClickZoom=Nu,ge.Drag=bs,ge.Keyboard=Ou,ge.ScrollWheelZoom=zt,ge.TapHold=Yo,ge.TouchZoom=Ss,I.Bounds=Se,I.Browser=k,I.CRS=an,I.Canvas=yh,I.Circle=Ht,I.CircleMarker=li,I.Class=ri,I.Control=ot,I.DivIcon=gh,I.DivOverlay=qn,I.DomEvent=ah,I.DomUtil=ke,I.Draggable=cn,I.Evented=nr,I.FeatureGroup=Ie,I.GeoJSON=Ut,I.GridLayer=Cs,I.Handler=Hn,I.Icon=hn,I.ImageOverlay=Zo,I.LatLng=Q,I.LatLngBounds=Ct,I.Layer=mt,I.LayerGroup=Ze,I.LineUtil=It,I.Map=ge,I.Marker=ur,I.Mixin=ar,I.Path=We,I.Point=ee,I.PolyUtil=Fi,I.Polygon=Zn,I.Polyline=$n,I.Popup=qo,I.PosAnimation=jn,I.Projection=R,I.Rectangle=Ru,I.Renderer=di,I.SVG=dr,I.SVGOverlay=mh,I.TileLayer=Br,I.Tooltip=Wo,I.Transformation=lu,I.Util=Ii,I.VideoOverlay=Iu,I.bind=Ne,I.bounds=Et,I.canvas=vh,I.circle=function(s,u,c){return new Ht(s,u,c)},I.circleMarker=function(s,u){return new li(s,u)},I.control=vt,I.divIcon=function(s){return new gh(s)},I.extend=Pe,I.featureGroup=function(s,u){return new Ie(s,u)},I.geoJSON=nn,I.geoJson=fh,I.gridLayer=function(s){return new Cs(s)},I.icon=function(s){return new hn(s)},I.imageOverlay=function(s,u,c){return new Zo(s,u,c)},I.latLng=U,I.latLngBounds=ve,I.layerGroup=function(s,u){return new Ze(s,u)},I.map=function(s,u){return new ge(s,u)},I.marker=function(s,u){return new ur(s,u)},I.point=K,I.polygon=function(s,u){return new Zn(s,u)},I.polyline=function(s,u){return new $n(s,u)},I.popup=function(s,u){return new qo(s,u)},I.rectangle=function(s,u){return new Ru(s,u)},I.setOptions=He,I.stamp=De,I.svg=xu,I.svgOverlay=function(s,u,c){return new mh(s,u,c)},I.tileLayer=_h,I.tooltip=function(s,u){return new Wo(s,u)},I.transformation=cs,I.version="1.9.3",I.videoOverlay=function(s,u,c){return new Iu(s,u,c)};var Dh=window.L;I.noConflict=function(){return window.L=Dh,this},window.L=I}(Dt)},244:(Yt,Dt,I)=>{"use strict";function Le(t){return"function"==typeof t}function Pe(t){const n=t(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Xi=Pe(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ne(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class kt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(Le(i))try{i()}catch(o){e=o instanceof Xi?o.errors:[o]}const{_teardowns:r}=this;if(r){this._teardowns=null;for(const o of r)try{er(o)}catch(a){e=null!=e?e:[],a instanceof Xi?e=[...e,...a.errors]:e.push(a)}}if(e)throw new Xi(e)}}add(e){var n;if(e&&e!==this)if(this.closed)er(e);else{if(e instanceof kt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ne(n,e)}remove(e){const{_teardowns:n}=this;n&&Ne(n,e),e instanceof kt&&e._removeParent(this)}}kt.EMPTY=(()=>{const t=new kt;return t.closed=!0,t})();const De=kt.EMPTY;function To(t){return t instanceof kt||t&&"closed"in t&&Le(t.remove)&&Le(t.add)&&Le(t.unsubscribe)}function er(t){Le(t)?t():t.unsubscribe()}const Re={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Bt={setTimeout(...t){const{delegate:e}=Bt;return((null==e?void 0:e.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:e}=Bt;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function is(t){Bt.setTimeout(()=>{const{onUnhandledError:e}=Re;if(!e)throw t;e(t)})}function bn(){}const He=rs("C",void 0,void 0);function rs(t,e,n){return{kind:t,value:e,error:n}}let ht=null;function tr(t){if(Re.useDeprecatedSynchronousErrorHandling){const e=!ht;if(e&&(ht={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:i}=ht;if(ht=null,n)throw i}}else t()}class Ar extends kt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,To(e)&&e.add(this)):this.destination=Mt}static create(e,n,i){return new os(e,n,i)}next(e){this.isStopped?ls(rs("N",e,void 0),this):this._next(e)}error(e){this.isStopped?ls(rs("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ls(He,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class os extends Ar{constructor(e,n,i){let r;if(super(),Le(e))r=e;else if(e){let o;({next:r,error:n,complete:i}=e),this&&Re.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe()):o=e,r=null==r?void 0:r.bind(o),n=null==n?void 0:n.bind(o),i=null==i?void 0:i.bind(o)}this.destination={next:r?as(r):bn,error:as(null!=n?n:us),complete:i?as(i):bn}}}function as(t,e){return(...n)=>{try{t(...n)}catch(i){Re.useDeprecatedSynchronousErrorHandling?function(t){Re.useDeprecatedSynchronousErrorHandling&&ht&&(ht.errorThrown=!0,ht.error=t)}(i):is(i)}}}function us(t){throw t}function ls(t,e){const{onStoppedNotification:n}=Re;n&&Bt.setTimeout(()=>n(t,e))}const Mt={closed:!0,next:bn,error:us,complete:bn},At="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ii(t){return t}let ye=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){const o=function(t){return t&&t instanceof Ar||function(t){return t&&Le(t.next)&&Le(t.error)&&Le(t.complete)}(t)&&To(t)}(n)?n:new os(n,i,r);return tr(()=>{const{operator:a,source:l}=this;o.add(a?a.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=nr(i))((r,o)=>{let a;a=this.subscribe(l=>{try{n(l)}catch(h){o(h),null==a||a.unsubscribe()}},o,r)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[At](){return this}pipe(...n){return function(t){return 0===t.length?Ii:1===t.length?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}(n)(this)}toPromise(n){return new(n=nr(n))((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return t.create=e=>new t(e),t})();function nr(t){var e;return null!==(e=null!=t?t:Re.Promise)&&void 0!==e?e:Promise}const K=Pe(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Se=(()=>{class t extends ye{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new Et(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new K}next(n){tr(()=>{if(this._throwIfClosed(),!this.isStopped){const i=this.observers.slice();for(const r of i)r.next(n)}})}error(n){tr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){tr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:r,observers:o}=this;return i||r?De:(o.push(n),new kt(()=>Ne(o,n)))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){const n=new ye;return n.source=this,n}}return t.create=(e,n)=>new Et(e,n),t})();class Et extends Se{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,e)}error(e){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==i?i:De}}function Ct(t){return Le(null==t?void 0:t.lift)}function ve(t){return e=>{if(Ct(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}class Q extends Ar{constructor(e,n,i,r,o){super(e),this.onFinalize=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function U(t,e){return ve((n,i)=>{let r=0;n.subscribe(new Q(i,o=>{i.next(t.call(e,o,r++))}))})}function si(t){return this instanceof si?(this.v=t,this):new si(t)}function Hc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(y){i[y]&&(r[y]=function(v){return new Promise(function(D,C){o.push([y,v,D,C])>1||l(y,v)})})}function l(y,v){try{!function(y){y.value instanceof si?Promise.resolve(y.value.v).then(d,p):g(o[0][2],y)}(i[y](v))}catch(D){g(o[0][3],D)}}function d(y){l("next",y)}function p(y){l("throw",y)}function g(y,v){y(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Po(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(a){return new Promise(function(l,h){!function(o,a,l,h){Promise.resolve(h).then(function(d){o({value:d,done:l})},a)}(l,h,(a=t[o](a)).done,a.value)})}}}const Io=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function hs(t){return Le(null==t?void 0:t.then)}function xo(t){return Le(t[At])}function pu(t){return Symbol.asyncIterator&&Le(null==t?void 0:t[Symbol.asyncIterator])}function ir(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const mu="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Ro(t){return Le(null==t?void 0:t[mu])}function Lo(t){return Hc(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:i,done:r}=yield si(n.read());if(r)return yield si(void 0);yield yield si(i)}}finally{n.releaseLock()}})}function No(t){return Le(null==t?void 0:t.getReader)}function kn(t){if(t instanceof ye)return t;if(null!=t){if(xo(t))return function(t){return new ye(e=>{const n=t[At]();if(Le(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Io(t))return function(t){return new ye(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(hs(t))return function(t){return new ye(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,is)})}(t);if(pu(t))return gu(t);if(Ro(t))return function(t){return new ye(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(No(t))return function(t){return gu(Lo(t))}(t)}throw ir(t)}function gu(t){return new ye(e=>{(function(t,e){var n,i,r,o;return function(t,e,n,i){return new(n||(n=Promise))(function(o,a){function l(p){try{d(i.next(p))}catch(g){a(g)}}function h(p){try{d(i.throw(p))}catch(g){a(g)}}function d(p){p.done?o(p.value):function(o){return o instanceof n?o:new n(function(a){a(o)})}(p.value).then(l,h)}d((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Po(t);!(i=yield n.next()).done;)if(e.next(i.value),e.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Bn(t,e,n,i=0,r=!1){const o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function it(t,e,n=1/0){return Le(e)?it((i,r)=>U((o,a)=>e(i,o,r,a))(kn(t(i,r))),n):("number"==typeof e&&(n=e),ve((i,r)=>function(t,e,n,i,r,o,a,l){const h=[];let d=0,p=0,g=!1;const y=()=>{g&&!h.length&&!d&&e.complete()},v=C=>d<i?D(C):h.push(C),D=C=>{d++;let T=!1;kn(n(C,p++)).subscribe(new Q(e,A=>{e.next(A)},()=>{T=!0},void 0,()=>{if(T)try{for(d--;h.length&&d<i;){const A=h.shift();D(A)}y()}catch(A){e.error(A)}}))};return t.subscribe(new Q(e,v,()=>{g=!0,y()})),()=>{}}(i,r,t,n)))}function Pt(t=1/0){return it(Ii,t)}const k=new ye(t=>t.complete());function ds(t){return t[t.length-1]}function rr(t){return function(t){return t&&Le(t.schedule)}(ds(t))?t.pop():void 0}function ko(t,e=0){return ve((n,i)=>{n.subscribe(new Q(i,r=>Bn(i,t,()=>i.next(r),e),()=>Bn(i,t,()=>i.complete(),e),r=>Bn(i,t,()=>i.error(r),e)))})}function vu(t,e=0){return ve((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function Du(t,e){if(!t)throw new Error("Iterable cannot be null");return new ye(n=>{Bn(n,e,()=>{const i=t[Symbol.asyncIterator]();Bn(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function dt(t,e){return e?function(t,e){if(null!=t){if(xo(t))return function(t,e){return kn(t).pipe(vu(e),ko(e))}(t,e);if(Io(t))return function(t,e){return new ye(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}(t,e);if(hs(t))return function(t,e){return kn(t).pipe(vu(e),ko(e))}(t,e);if(pu(t))return Du(t,e);if(Ro(t))return function(t,e){return new ye(n=>{let i;return Bn(n,e,()=>{i=t[mu](),Bn(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){return void n.error(a)}o?n.complete():n.next(r)},0,!0)}),()=>Le(null==i?void 0:i.return)&&i.return()})}(t,e);if(No(t))return function(t,e){return Du(Lo(t),e)}(t,e)}throw ir(t)}(t,e):kn(t)}function ps(t){return t<=0?()=>k:ve((e,n)=>{let i=0;e.subscribe(new Q(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Ir(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(ps(1)).subscribe(()=>t())}function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ri(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Ee=Te({__forward_ref__:Te});function Fe(t){return t.__forward_ref__=Fe,t.toString=function(){return me(this())},t}function Y(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(Ee)&&t.__forward_ref__===Fe}(t)?t():t}class bt extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function W(t){return"string"==typeof t?t:null==t?"":String(t)}function rt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():W(t)}function Sn(t,e){const n=e?` in ${e}`:"";throw new bt("201",`No provider for ${rt(t)} found${n}`)}function St(t,e){null==t&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}(e,t,null,"!=")}function se(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ln(t){return{providers:t.providers||[],imports:t.imports||[]}}function Lr(t){return oi(t,Tn)||oi(t,Uo)}function oi(t,e){return t.hasOwnProperty(e)?t[e]:null}function st(t){return t&&(t.hasOwnProperty(vs)||t.hasOwnProperty(oh))?t[vs]:null}const Tn=Te({\u0275prov:Te}),vs=Te({\u0275inj:Te}),Uo=Te({ngInjectableDef:Te}),oh=Te({ngInjectorDef:Te});var J=(()=>((J=J||{})[J.Default=0]="Default",J[J.Host=1]="Host",J[J.Self=2]="Self",J[J.SkipSelf=4]="SkipSelf",J[J.Optional=8]="Optional",J))();let Or;function jn(t){const e=Or;return Or=t,e}function ge(t,e,n){const i=Lr(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&J.Optional?null:void 0!==e?e:void Sn(me(t),"Injector")}function ot(t){return{toString:t}.toString()}var vt=(()=>((vt=vt||{})[vt.OnPush=0]="OnPush",vt[vt.Default=1]="Default",vt))(),Vt=(()=>{return(t=Vt||(Vt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Vt;var t})();const lh="undefined"!=typeof globalThis&&globalThis,Tu="undefined"!=typeof window&&window,ch="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ae=lh||"undefined"!=typeof global&&global||Tu||ch,ar={},xe=[],cn=Te({\u0275cmp:Te}),ws=Te({\u0275dir:Te}),Ds=Te({\u0275pipe:Te}),Mu=Te({\u0275mod:Te}),Un=Te({\u0275fac:Te}),Ni=Te({__NG_ELEMENT_ID__:Te});let hh=0;function Oi(t){return ot(()=>{const n={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===vt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||xe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Vt.Emulated,id:"c",styles:t.styles||xe,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,o=t.features,a=t.pipes;return i.id+=hh++,i.inputs=zo(t.inputs,n),i.outputs=zo(t.outputs),o&&o.forEach(l=>l(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(Fr):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(ai):null,i})}function Fr(t){return pt(t)||function(t){return t[ws]||null}(t)}function ai(t){return function(t){return t[Ds]||null}(t)}const Pu={};function Xt(t){return ot(()=>{const e={type:t.type,bootstrap:t.bootstrap||xe,declarations:t.declarations||xe,imports:t.imports||xe,exports:t.exports||xe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Pu[t.id]=t.type),e})}function zo(t,e){if(null==t)return ar;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,e&&(e[r]=o)}return n}const ft=Oi;function It(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function pt(t){return t[cn]||null}function xt(t,e){const n=t[Mu]||null;if(!n&&!0===e)throw new Error(`Type ${me(t)} does not have '\u0275mod' property.`);return n}function tn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Lt(t){return Array.isArray(t)&&!0===t[1]}function hi(t){return 0!=(8&t.flags)}function ji(t){return 2==(2&t.flags)}function hr(t){return 1==(1&t.flags)}function nn(t){return null!==t.template}function fh(t){return 0!=(512&t[2])}function dn(t,e){return t.hasOwnProperty(Un)?t[Un]:null}class wh{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Mn(){return dr}function dr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ru),xu}function xu(){const t=Qo(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===ar)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function Ru(t,e,n,i){const r=Qo(t)||function(t,e){return t[Lu]=e}(t,{previous:ar,current:null}),o=r.current||(r.current={}),a=r.previous,l=this.declaredInputs[n],h=a[l];o[l]=new wh(h&&h.currentValue,e,a===ar),t[i]=e}Mn.ngInherit=!0;const Lu="__ngSimpleChanges__";function Qo(t){return t[Lu]||null}let Ss;function c(t){return!!t.listen}const f={createRenderer:(t,e)=>void 0!==Ss?Ss:"undefined"!=typeof document?document:void 0};function _(t){for(;Array.isArray(t);)t=t[0];return t}function M(t,e){return _(e[t.index])}function Z(t,e){return t.data[e]}function re(t,e){return t[e]}function Ue(t,e){const n=e[t];return tn(n)?n:n[0]}function fr(t){return 128==(128&t[2])}function An(t,e){return null==e?null:t[e]}function ku(t){t[18]=0}function Jo(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const G={lFrame:Pm(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vr(){return G.bindingsEnabled}function P(){return G.lFrame.lView}function fe(){return G.lFrame.tView}function et(){let t=Cm();for(;null!==t&&64===t.type;)t=t.parent;return t}function Cm(){return G.lFrame.currentTNode}function mi(t,e){const n=G.lFrame;n.currentTNode=t,n.isParent=e}function Th(){return G.lFrame.isParent}function ju(){return G.isInCheckNoChangesMode}function Hu(t){G.isInCheckNoChangesMode=t}function $t(){const t=G.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ts(){return G.lFrame.bindingIndex++}function kC(t,e){const n=G.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ah(e)}function Ah(t){G.lFrame.currentDirectiveIndex=t}function Ih(t){G.lFrame.currentQueryIndex=t}function VC(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Mm(t,e,n){if(n&J.SkipSelf){let r=e,o=t;for(;!(r=r.parent,null!==r||n&J.Host||(r=VC(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;e=r,t=o}const i=G.lFrame=Am();return i.currentTNode=e,i.lView=t,!0}function Uu(t){const e=Am(),n=t[1];G.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Am(){const t=G.lFrame,e=null===t?null:t.child;return null===e?Pm(t):e}function Pm(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Im(){const t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const xm=Im;function zu(){const t=Im();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Zt(){return G.lFrame.selectedIndex}function pr(t){G.lFrame.selectedIndex=t}function Ye(){const t=G.lFrame;return Z(t.tView,t.selectedIndex)}function $u(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:h,ngAfterViewChecked:d,ngOnDestroy:p}=o;a&&(t.contentHooks||(t.contentHooks=[])).push(-n,a),l&&((t.contentHooks||(t.contentHooks=[])).push(n,l),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,l)),h&&(t.viewHooks||(t.viewHooks=[])).push(-n,h),d&&((t.viewHooks||(t.viewHooks=[])).push(n,d),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,d)),null!=p&&(t.destroyHooks||(t.destroyHooks=[])).push(n,p)}}function Zu(t,e,n){Rm(t,e,3,n)}function qu(t,e,n,i){(3&t[2])===n&&Rm(t,e,n,i)}function xh(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Rm(t,e,n,i){const o=null!=i?i:-1,a=e.length-1;let l=0;for(let h=void 0!==i?65535&t[18]:0;h<a;h++)if("number"==typeof e[h+1]){if(l=e[h],null!=i&&l>=i)break}else e[h]<0&&(t[18]+=65536),(l<o||-1==o)&&(GC(t,n,e,h),t[18]=(4294901760&t[18])+h+2),h++}function GC(t,e,n,i){const r=n[i]<0,o=n[i+1],l=t[r?-n[i]:n[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(l)}finally{}}}else try{o.call(l)}finally{}}class ea{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Wu(t,e,n){const i=c(t);let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const a=n[r++],l=n[r++],h=n[r++];i?t.setAttribute(e,l,h,a):e.setAttributeNS(a,l,h)}else{const a=o,l=n[++r];Lh(a)?i&&t.setProperty(e,a,l):i?t.setAttribute(e,a,l):e.setAttribute(a,l),r++}}return r}function Lm(t){return 3===t||4===t||6===t}function Lh(t){return 64===t.charCodeAt(0)}function Gu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||Nm(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function Nm(t,e,n,i,r){let o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){const l=t[o++];if("number"==typeof l){if(l===e){a=-1;break}if(l>e){a=o-1;break}}}for(;o<t.length;){const l=t[o];if("number"==typeof l)break;if(l===n){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}function Om(t){return-1!==t}function Ms(t){return 32767&t}function As(t,e){let n=function(t){return t>>16}(t),i=e;for(;n>0;)i=i[15],n--;return i}let Nh=!0;function Ku(t){const e=Nh;return Nh=t,e}let eb=0;function na(t,e){const n=Fh(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Oh(i.data,t),Oh(e,null),Oh(i.blueprint,null));const r=Qu(t,e),o=t.injectorIndex;if(Om(r)){const a=Ms(r),l=As(r,e),h=l[1].data;for(let d=0;d<8;d++)e[o+d]=l[a+d]|h[a+d]}return e[o+8]=r,o}function Oh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Fh(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Qu(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const o=r[1],a=o.type;if(i=2===a?o.declTNode:1===a?r[6]:null,null===i)return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function Yu(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Ni)&&(i=n[Ni]),null==i&&(i=n[Ni]=eb++);const r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function Bm(t,e,n){if(n&J.Optional)return t;Sn(e,"NodeInjector")}function Vm(t,e,n,i){if(n&J.Optional&&void 0===i&&(i=null),0==(n&(J.Self|J.Host))){const r=t[9],o=jn(void 0);try{return r?r.get(e,i,n&J.Optional):ge(e,i,n&J.Optional)}finally{jn(o)}}return Bm(i,e,n)}function jm(t,e,n,i=J.Default,r){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ni)?t[Ni]:void 0;return"number"==typeof e?e>=0?255&e:ib:e}(n);if("function"==typeof o){if(!Mm(e,t,i))return i&J.Host?Bm(r,n,i):Vm(e,n,i,r);try{const a=o(i);if(null!=a||i&J.Optional)return a;Sn(n)}finally{xm()}}else if("number"==typeof o){let a=null,l=Fh(t,e),h=-1,d=i&J.Host?e[16][6]:null;for((-1===l||i&J.SkipSelf)&&(h=-1===l?Qu(t,e):e[l+8],-1!==h&&zm(i,!1)?(a=e[1],l=Ms(h),e=As(h,e)):l=-1);-1!==l;){const p=e[1];if(Um(o,l,p.data)){const g=rb(l,e,n,a,i,d);if(g!==Hm)return g}h=e[l+8],-1!==h&&zm(i,e[1].data[l+8]===d)&&Um(o,l,e)?(a=p,l=Ms(h),e=As(h,e)):l=-1}}}return Vm(e,n,i,r)}const Hm={};function ib(){return new Ps(et(),P())}function rb(t,e,n,i,r,o){const a=e[1],l=a.data[t+8],p=function(t,e,n,i,r){const o=t.providerIndexes,a=e.data,l=1048575&o,h=t.directiveStart,p=o>>20,y=r?l+p:t.directiveEnd;for(let v=i?l:l+p;v<y;v++){const D=a[v];if(v<h&&n===D||v>=h&&D.type===n)return v}if(r){const v=a[h];if(v&&nn(v)&&v.type===n)return h}return null}(l,a,n,null==i?ji(l)&&Nh:i!=a&&0!=(3&l.type),r&J.Host&&o===l);return null!==p?ia(e,a,p,l):Hm}function ia(t,e,n,i){let r=t[n];const o=e.data;if(function(t){return t instanceof ea}(r)){const a=r;a.resolving&&function(t,e){throw new bt("200",`Circular dependency in DI detected for ${t}`)}(rt(o[n]));const l=Ku(a.canSeeViewProviders);a.resolving=!0;const h=a.injectImpl?jn(a.injectImpl):null;Mm(t,i,J.Default);try{r=t[n]=a.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const a=dr(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==h&&jn(h),Ku(l),a.resolving=!1,xm()}}return r}function Um(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function zm(t,e){return!(t&J.Self||t&J.Host&&e)}class Ps{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return jm(this._tNode,this._lView,e,i,n)}}const xs="__parameters__";function Ls(t,e,n){return ot(()=>{const i=function(t){return function(...n){if(t){const i=t(...n);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const a=new r(...o);return l.annotation=a,l;function l(h,d,p){const g=h.hasOwnProperty(xs)?h[xs]:Object.defineProperty(h,xs,{value:[]})[xs];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(a),h}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class be{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=se({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ub=new be("AnalyzeForEntryComponents");function gi(t,e){t.forEach(n=>Array.isArray(n)?gi(n,e):e(n))}function $m(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Xu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const la={},Uh="__NG_DI_FLAG__",tl="ngTempTokenPath",yb=/\n/gm,Km="__source",wb=Te({provide:String,useValue:Te});let ca;function Qm(t){const e=ca;return ca=t,e}function Db(t,e=J.Default){if(void 0===ca)throw new Error("inject() must be called from an injection context");return null===ca?ge(t,void 0,e):ca.get(t,e&J.Optional?null:void 0,e)}function j(t,e=J.Default){return(Or||Db)(Y(t),e)}function zh(t){const e=[];for(let n=0;n<t.length;n++){const i=Y(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let r,o=J.Default;for(let a=0;a<i.length;a++){const l=i[a],h=Eb(l);"number"==typeof h?-1===h?r=l.token:o|=h:r=l}e.push(j(r,o))}else e.push(j(i))}return e}function ha(t,e){return t[Uh]=e,t.prototype[Uh]=e,t}function Eb(t){return t[Uh]}const da=ha(Ls("Inject",t=>({token:t})),-1),_i=ha(Ls("Optional"),8),Os=ha(Ls("SkipSelf"),4);class sg{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const $b=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Zb=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ut=(()=>((ut=ut||{})[ut.NONE=0]="NONE",ut[ut.HTML=1]="HTML",ut[ut.STYLE=2]="STYLE",ut[ut.SCRIPT=3]="SCRIPT",ut[ut.URL=4]="URL",ut[ut.RESOURCE_URL=5]="RESOURCE_URL",ut))();function Yh(t){const e=function(){const t=P();return t&&t[12]}();return e?e.sanitize(ut.URL,t)||"":function(t,e){const n=function(t){return t instanceof sg&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?function(t){return t instanceof sg?t.changingThisBreaksApplicationSecurity:t}(t):function(t){return(t=String(t)).match($b)||t.match(Zb)?t:"unsafe:"+t}(W(t))}const mg="__ngContext__";function Nt(t,e){t[mg]=e}function Xh(t){const e=function(t){return t[mg]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function td(t){return t.ngOriginalError}function g0(t,...e){t.error(...e)}class Bs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),i=(t=e)&&t.ngErrorLogger||g0;var t;i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&td(e);for(;n&&td(n);)n=td(n);return n||null}}const wg=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ae))();function vi(t){return t instanceof Function?t():t}var pn=(()=>((pn=pn||{})[pn.Important=1]="Important",pn[pn.DashCase=2]="DashCase",pn))();function id(t,e){return undefined(t,e)}function ya(t){const e=t[3];return Lt(e)?e[3]:e}function rd(t){return Sg(t[13])}function sd(t){return Sg(t[4])}function Sg(t){for(;null!==t&&!Lt(t);)t=t[4];return t}function js(t,e,n,i,r){if(null!=i){let o,a=!1;Lt(i)?o=i:tn(i)&&(a=!0,i=i[0]);const l=_(i);0===t&&null!==n?null==r?xg(e,n,l):jr(e,n,l,r||null,!0):1===t&&null!==n?jr(e,n,l,r||null,!0):2===t?function(t,e,n){const i=al(t,e);i&&function(t,e,n,i){c(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,l,a):3===t&&e.destroyNode(l),null!=o&&function(t,e,n,i,r){const o=n[7];o!==_(n)&&js(e,t,i,o,r);for(let l=10;l<n.length;l++){const h=n[l];va(h[1],h,t,e,i,o)}}(e,t,o,n,r)}}function ad(t,e,n){return c(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Mg(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Jo(r,-1)),n.splice(i,1)}function ud(t,e){if(t.length<=10)return;const n=10+e,i=t[n];if(i){const r=i[17];null!==r&&r!==t&&Mg(r,i),e>0&&(t[n-1][4]=i[4]);const o=Xu(t,10+e);!function(t,e){va(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Ag(t,e){if(!(256&e[2])){const n=e[11];c(n)&&n.destroyNode&&va(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return ld(t[1],t);for(;e;){let n=null;if(tn(e))n=e[13];else{const i=e[10];i&&(n=i)}if(!n){for(;e&&!e[4]&&e!==t;)tn(e)&&ld(e[1],e),e=e[3];null===e&&(e=t),tn(e)&&ld(e[1],e),n=e&&e[4]}e=n}}(e)}}function ld(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const r=e[n[i]];if(!(r instanceof ea)){const o=n[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const l=r[o[a]],h=o[a+1];try{h.call(l)}finally{}}else try{o.call(r)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const a=n[o+1],l="function"==typeof a?a(e):_(e[a]),h=i[r=n[o+2]],d=n[o+3];"boolean"==typeof d?l.removeEventListener(n[o],h,d):d>=0?i[r=d]():i[r=-d].unsubscribe(),o+=2}else{const a=i[r=n[o+1]];n[o].call(a)}if(null!==i){for(let o=r+1;o<i.length;o++)i[o]();e[7]=null}}(t,e),1===e[1].type&&c(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Lt(e[3])){n!==e[3]&&Mg(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function Pg(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const r=t.data[i.directiveStart].encapsulation;if(r===Vt.None||r===Vt.Emulated)return null}return M(i,n)}(t,e.parent,n)}function jr(t,e,n,i,r){c(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function xg(t,e,n){c(t)?t.appendChild(e,n):e.appendChild(n)}function Rg(t,e,n,i,r){null!==i?jr(t,e,n,i,r):xg(t,e,n)}function al(t,e){return c(t)?t.parentNode(e):e.parentNode}let Og=function(t,e,n){return 40&t.type?M(t,n):null};function ul(t,e,n,i){const r=Pg(t,i,e),o=e[11],l=function(t,e,n){return Og(t,e,n)}(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(let h=0;h<n.length;h++)Rg(o,r,n[h],l,!1);else Rg(o,r,n,l,!1)}function ll(t,e){if(null!==e){const n=e.type;if(3&n)return M(e,t);if(4&n)return hd(-1,t[e.index]);if(8&n){const i=e.child;if(null!==i)return ll(t,i);{const r=t[e.index];return Lt(r)?hd(-1,r):_(r)}}if(32&n)return id(e,t)()||_(t[e.index]);{const i=kg(t,e);return null!==i?Array.isArray(i)?i[0]:ll(ya(t[16]),i):ll(t,e.next)}}return null}function kg(t,e){return null!==e?t[16][6].projection[e.projection]:null}function hd(t,e){const n=10+t+1;if(n<e.length){const i=e[n],r=i[1].firstChild;if(null!==r)return ll(i,r)}return e[7]}function dd(t,e,n,i,r,o,a){for(;null!=n;){const l=i[n.index],h=n.type;if(a&&0===e&&(l&&Nt(_(l),i),n.flags|=4),64!=(64&n.flags))if(8&h)dd(t,e,n.child,i,r,o,!1),js(e,t,r,l,o);else if(32&h){const d=id(n,i);let p;for(;p=d();)js(e,t,r,p,o);js(e,t,r,l,o)}else 16&h?Vg(t,e,i,n,r,o):js(e,t,r,l,o);n=a?n.projectionNext:n.next}}function va(t,e,n,i,r,o){dd(n,i,t.firstChild,e,r,o,!1)}function Vg(t,e,n,i,r,o){const a=n[16],h=a[6].projection[i.projection];if(Array.isArray(h))for(let d=0;d<h.length;d++)js(e,t,r,h[d],o);else dd(t,e,h,a[3],r,o,!0)}function jg(t,e,n){c(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function fd(t,e,n){c(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Hg(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}const Ug="ng-template";function $0(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==Hg(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function zg(t){return 4===t.type&&t.value!==Ug}function Z0(t,e,n){return e===(4!==t.type||n?t.value:Ug)}function q0(t,e,n){let i=4;const r=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Lm(t[e]))return e;return t.length}(r);let a=!1;for(let l=0;l<e.length;l++){const h=e[l];if("number"!=typeof h){if(!a)if(4&i){if(i=2|1&i,""!==h&&!Z0(t,h,n)||""===h&&1===e.length){if(Wn(i))return!1;a=!0}}else{const d=8&i?h:e[++l];if(8&i&&null!==t.attrs){if(!$0(t.attrs,d,n)){if(Wn(i))return!1;a=!0}continue}const g=W0(8&i?"class":h,r,zg(t),n);if(-1===g){if(Wn(i))return!1;a=!0;continue}if(""!==d){let y;y=g>o?"":r[g+1].toLowerCase();const v=8&i?y:null;if(v&&-1!==Hg(v,d,0)||2&i&&d!==y){if(Wn(i))return!1;a=!0}}}}else{if(!a&&!Wn(i)&&!Wn(h))return!1;if(a&&Wn(h))continue;a=!1,i=h|1&i}}return Wn(i)||a}function Wn(t){return 0==(1&t)}function W0(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){const a=e[r];if(a===t)return r;if(3===a||6===a)o=!0;else{if(1===a||2===a){let l=e[++r];for(;"string"==typeof l;)l=e[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=o?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function $g(t,e,n=!1){for(let i=0;i<e.length;i++)if(q0(t,e[i],n))return!0;return!1}function Zg(t,e){return t?":not("+e.trim()+")":e}function J0(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let a=t[n];if("string"==typeof a)if(2&i){const l=t[++n];r+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!Wn(a)&&(e+=Zg(o,r),r=""),i=a,o=o||!Wn(i);n++}return""!==r&&(e+=Zg(o,r)),e}const te={};function Ot(t){qg(fe(),P(),Zt()+t,ju())}function qg(t,e,n,i){if(!i)if(3==(3&e[2])){const o=t.preOrderCheckHooks;null!==o&&Zu(e,o,n)}else{const o=t.preOrderHooks;null!==o&&qu(e,o,0,n)}pr(n)}function i_(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],o=n[i+1];if(-1!==o){const a=t.data[o];Ih(r),a.contentQueries(2,e[o],o)}}}function wa(t,e,n,i,r,o,a,l,h,d){const p=e.blueprint.slice();return p[0]=r,p[2]=140|i,ku(p),p[3]=p[15]=t,p[8]=n,p[10]=a||t&&t[10],p[11]=l||t&&t[11],p[12]=h||t&&t[12]||null,p[9]=d||t&&t[9]||null,p[6]=o,p[16]=2==e.type?t[16]:p,p}function Hs(t,e,n,i,r){let o=t.data[e];if(null===o)o=function(t,e,n,i,r){const o=Cm(),a=Th(),h=t.data[e]=function(t,e,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=h),null!==o&&(a?null==o.child&&null!==h.parent&&(o.child=h):null===o.next&&(o.next=h)),h}(t,e,n,i,r),G.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const a=function(){const t=G.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return mi(o,!0),o}function Us(t,e,n,i){if(0===n)return-1;const r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function Da(t,e,n){Uu(e);try{const i=t.viewQuery;null!==i&&Nd(1,i,n);const r=t.template;null!==r&&r_(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&i_(t,e),t.staticViewQueries&&Nd(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)NS(t,e[n])}(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[2]&=-5,zu()}}function zs(t,e,n,i){const r=e[2];if(256==(256&r))return;Uu(e);const o=ju();try{ku(e),function(t){G.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&r_(t,e,n,2,i);const a=3==(3&r);if(!o)if(a){const d=t.preOrderCheckHooks;null!==d&&Zu(e,d,null)}else{const d=t.preOrderHooks;null!==d&&qu(e,d,0,null),xh(e,0)}if(function(t){for(let e=rd(t);null!==e;e=sd(e)){if(!e[2])continue;const n=e[9];for(let i=0;i<n.length;i++){const r=n[i],o=r[3];0==(1024&r[2])&&Jo(o,1),r[2]|=1024}}}(e),function(t){for(let e=rd(t);null!==e;e=sd(e))for(let n=10;n<e.length;n++){const i=e[n],r=i[1];fr(i)&&zs(r,i,r.template,i[8])}}(e),null!==t.contentQueries&&i_(t,e),!o)if(a){const d=t.contentCheckHooks;null!==d&&Zu(e,d)}else{const d=t.contentHooks;null!==d&&qu(e,d,1),xh(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const r=n[i];if(r<0)pr(~r);else{const o=r,a=n[++i],l=n[++i];kC(a,o),l(2,e[o])}}}finally{pr(-1)}}(t,e);const l=t.components;null!==l&&function(t,e){for(let n=0;n<e.length;n++)LS(t,e[n])}(e,l);const h=t.viewQuery;if(null!==h&&Nd(2,h,i),!o)if(a){const d=t.viewCheckHooks;null!==d&&Zu(e,d)}else{const d=t.viewHooks;null!==d&&qu(e,d,2),xh(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Jo(e[3],-1))}finally{zu()}}function pS(t,e,n,i){const r=e[10],o=!ju(),a=function(t){return 4==(4&t[2])}(e);try{o&&!a&&r.begin&&r.begin(),a&&Da(t,e,i),zs(t,e,n,i)}finally{o&&!a&&r.end&&r.end()}}function r_(t,e,n,i,r){const o=Zt(),a=2&i;try{pr(-1),a&&e.length>20&&qg(t,e,20,ju()),n(i,r)}finally{pr(o)}}function Td(t,e,n){!Vr()||(function(t,e,n,i){const r=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||na(n,e),Nt(i,e);const a=n.initialInputs;for(let l=r;l<o;l++){const h=t.data[l],d=nn(h);d&&AS(e,n,h);const p=ia(e,t,l,n);Nt(p,e),null!==a&&PS(0,l-r,p,h,0,a),d&&(Ue(n.index,e)[8]=p)}}(t,e,n,M(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,a=n.index,l=G.lFrame.currentDirectiveIndex;try{pr(a);for(let h=i;h<r;h++){const d=t.data[h],p=e[h];Ah(h),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&f_(d,p)}}finally{pr(-1),Ah(l)}}(t,e,n))}function Md(t,e,n=M){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const a=i[o+1],l=-1===a?n(e,t):t[a];t[r++]=l}}}function o_(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=fl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function fl(t,e,n,i,r,o,a,l,h,d){const p=20+i,g=p+r,y=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:te);return n}(p,g),v="function"==typeof d?d():d;return y[1]={type:t,blueprint:y,template:n,queries:null,viewQuery:l,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:h,consts:v,incompleteFirstPass:!1}}function c_(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Ad(t,e,n,i){let r=!1;if(Vr()){const o=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const a=i[o];$g(n,a.selectors,!1)&&(r||(r=[]),Yu(na(n,e),t,a.type),nn(a)?(p_(t,n),r.unshift(a)):r.push(a))}return r}(t,e,n),a=null===i?null:{"":-1};if(null!==o){r=!0,m_(n,t.data.length,o.length);for(let p=0;p<o.length;p++){const g=o[p];g.providersResolver&&g.providersResolver(g)}let l=!1,h=!1,d=Us(t,e,o.length,null);for(let p=0;p<o.length;p++){const g=o[p];n.mergedAttrs=Gu(n.mergedAttrs,g.hostAttrs),g_(t,n,e,d,g),MS(d,g,a),null!==g.contentQueries&&(n.flags|=8),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(n.flags|=128);const y=g.type.prototype;!l&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),l=!0),!h&&(y.ngOnChanges||y.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),h=!0),d++}!function(t,e){const i=e.directiveEnd,r=t.data,o=e.attrs,a=[];let l=null,h=null;for(let d=e.directiveStart;d<i;d++){const p=r[d],g=p.inputs,y=null===o||zg(e)?null:IS(g,o);a.push(y),l=c_(g,d,l),h=c_(p.outputs,d,h)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=16),l.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=a,e.inputs=l,e.outputs=h}(t,n)}a&&function(t,e,n){if(e){const i=t.localNames=[];for(let r=0;r<e.length;r+=2){const o=n[e[r+1]];if(null==o)throw new bt("301",`Export of name '${e[r+1]}' not found!`);i.push(e[r],o)}}}(n,i,a)}return n.mergedAttrs=Gu(n.mergedAttrs,n.attrs),r}function d_(t,e,n,i,r,o){const a=o.hostBindings;if(a){let l=t.hostBindingOpCodes;null===l&&(l=t.hostBindingOpCodes=[]);const h=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(l)!=h&&l.push(h),l.push(i,r,a)}}function f_(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function p_(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function MS(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;nn(e)&&(n[""]=t)}}function m_(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function g_(t,e,n,i,r){t.data[i]=r;const o=r.factory||(r.factory=dn(r.type)),a=new ea(o,nn(r),null);t.blueprint[i]=a,n[i]=a,d_(t,e,0,i,Us(t,n,r.hostVars,te),r)}function AS(t,e,n){const i=M(e,t),r=o_(n),o=t[10],a=pl(t,wa(t,r,null,n.onPush?64:16,i,e,o,o.createRenderer(i,n),null,null));t[e.index]=a}function wi(t,e,n,i,r,o){const a=M(t,e);!function(t,e,n,i,r,o,a){if(null==o)c(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const l=null==a?W(o):a(o,i||"",r);c(t)?t.setAttribute(e,r,l,n):n?e.setAttributeNS(n,r,l):e.setAttribute(r,l)}}(e[11],a,o,t.value,n,i,r)}function PS(t,e,n,i,r,o){const a=o[e];if(null!==a){const l=i.setInput;for(let h=0;h<a.length;){const d=a[h++],p=a[h++],g=a[h++];null!==l?i.setInput(n,g,d,p):n[p]=g}}}function IS(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function __(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function LS(t,e){const n=Ue(e,t);if(fr(n)){const i=n[1];80&n[2]?zs(i,n,i.template,n[8]):n[5]>0&&Id(n)}}function Id(t){for(let i=rd(t);null!==i;i=sd(i))for(let r=10;r<i.length;r++){const o=i[r];if(1024&o[2]){const a=o[1];zs(a,o,a.template,o[8])}else o[5]>0&&Id(o)}const n=t[1].components;if(null!==n)for(let i=0;i<n.length;i++){const r=Ue(n[i],t);fr(r)&&r[5]>0&&Id(r)}}function NS(t,e){const n=Ue(e,t),i=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(i,n),Da(i,n,n[8])}function pl(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function xd(t){for(;t;){t[2]|=64;const e=ya(t);if(fh(t)&&!e)return t;t=e}return null}function Ld(t,e,n){const i=e[10];i.begin&&i.begin();try{zs(t,e,t.template,n)}catch(r){throw E_(e,r),r}finally{i.end&&i.end()}}function y_(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=Xh(n),r=i[1];pS(r,i,r.template,n)}}(t[8])}function Nd(t,e,n){Ih(0),e(t,n)}const VS=(()=>Promise.resolve(null))();function v_(t){return t[7]||(t[7]=[])}function w_(t){return t.cleanup||(t.cleanup=[])}function E_(t,e){const n=t[9],i=n?n.get(Bs,null):null;i&&i.handleError(e)}function C_(t,e,n,i,r){for(let o=0;o<n.length;){const a=n[o++],l=n[o++],h=e[a],d=t.data[a];null!==d.setInput?d.setInput(h,r,i,l):h[l]=r}}function $i(t,e,n){const i=function(t,e){return _(e[t])}(e,t);!function(t,e,n){c(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}function ml(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(null!==e)for(let a=0;a<e.length;a++){const l=e[a];"number"==typeof l?o=l:1==o?r=Ri(r,l):2==o&&(i=Ri(i,l+": "+e[++a]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const Od=new be("INJECTOR",-1);class b_{get(e,n=la){if(n===la){const i=new Error(`NullInjectorError: No provider for ${me(e)}!`);throw i.name="NullInjectorError",i}return n}}const Fd=new be("Set Injector scope."),Ea={},US={};let kd;function S_(){return void 0===kd&&(kd=new b_),kd}function T_(t,e=null,n=null,i){const r=M_(t,e,n,i);return r._resolveInjectorDefTypes(),r}function M_(t,e=null,n=null,i){return new zS(t,n,e||S_(),i)}class zS{constructor(e,n,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];n&&gi(n,l=>this.processProvider(l,e,n)),gi([e],l=>this.processInjectorType(l,[],o)),this.records.set(Od,$s(void 0,this));const a=this.records.get(Fd);this.scope=null!=a?a.value:null,this.source=r||("object"==typeof e?null:me(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=la,i=J.Default){this.assertNotDestroyed();const r=Qm(this),o=jn(void 0);try{if(!(i&J.SkipSelf)){let l=this.records.get(e);if(void 0===l){const h=("function"==typeof(t=e)||"object"==typeof t&&t instanceof be)&&Lr(e);l=h&&this.injectableDefInScope(h)?$s(Bd(e),Ea):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&J.Self?S_():this.parent).get(e,n=i&J.Optional&&n===la?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[tl]=a[tl]||[]).unshift(me(e)),r)throw a;return function(t,e,n,i){const r=t[tl];throw e[Km]&&r.unshift(e[Km]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=me(e);if(Array.isArray(e))r=e.map(me).join(" -> ");else if("object"==typeof e){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let l=e[a];o.push(a+":"+("string"==typeof l?JSON.stringify(l):me(l)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(yb,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t[tl]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{jn(o),Qm(r)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,r)=>e.push(me(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,i){if(!(e=Y(e)))return!1;let r=st(e);const o=null==r&&e.ngModule||void 0,a=void 0===o?e:o,l=-1!==i.indexOf(a);if(void 0!==o&&(r=st(o)),null==r)return!1;if(null!=r.imports&&!l){let p;i.push(a);try{gi(r.imports,g=>{this.processInjectorType(g,n,i)&&(void 0===p&&(p=[]),p.push(g))})}finally{}if(void 0!==p)for(let g=0;g<p.length;g++){const{ngModule:y,providers:v}=p[g];gi(v,D=>this.processProvider(D,y,v||xe))}}this.injectorDefTypes.add(a);const h=dn(a)||(()=>new a);this.records.set(a,$s(h,Ea));const d=r.providers;if(null!=d&&!l){const p=e;gi(d,g=>this.processProvider(g,p,d))}return void 0!==o&&void 0!==e.providers}processProvider(e,n,i){let r=Zs(e=Y(e))?e:Y(e&&e.provide);const o=(t=e,P_(t)?$s(void 0,t.useValue):$s(function(t,e,n){let i;if(Zs(t)){const r=Y(t);return dn(r)||Bd(r)}if(P_(t))i=()=>Y(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...zh(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>j(Y(t.useExisting));else{const r=Y(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return dn(r)||Bd(r);i=()=>new r(...zh(t.deps))}return i}(t),Ea));var t;if(Zs(e)||!0!==e.multi)this.records.get(r);else{let a=this.records.get(r);a||(a=$s(void 0,Ea,!0),a.factory=()=>zh(a.multi),this.records.set(r,a)),r=e,a.multi.push(e)}this.records.set(r,o)}hydrate(e,n){return n.value===Ea&&(n.value=US,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(t=n.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var t}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Y(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Bd(t){const e=Lr(t),n=null!==e?e.factory:dn(t);if(null!==n)return n;if(t instanceof be)throw new Error(`Token ${me(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const i=function(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${me(t)}: (${i.join(", ")}).`)}const n=function(t){const e=t&&(t[Tn]||t[Uo]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function $s(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function P_(t){return null!==t&&"object"==typeof t&&wb in t}function Zs(t){return"function"==typeof t}let Wt=(()=>{class t{static create(n,i){var r;if(Array.isArray(n))return T_({name:""},i,n,"");{const o=null!=(r=n.name)?r:"";return T_({name:o},n.parent,n.providers,o)}}}return t.THROW_IF_NOT_FOUND=la,t.NULL=new b_,t.\u0275prov=se({token:t,providedIn:"any",factory:()=>j(Od)}),t.__NG_ELEMENT_ID__=-1,t})();function sT(t,e){$u(Xh(t)[1],et())}let gl=null;function qs(){if(!gl){const t=Ae.Symbol;if(t&&t.iterator)gl=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(gl=i)}}}return gl}function Ca(t){return!!Ud(t)&&(Array.isArray(t)||!(t instanceof Map)&&qs()in t)}function Ud(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Di(t,e,n){return t[e]=n}function Ft(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function zd(t,e,n,i){const r=P();return Ft(r,Ts(),e)&&(fe(),wi(Ye(),r,t,e,n,i)),zd}function V(t,e=J.Default){const n=P();return null===n?j(t,e):jm(et(),n,Y(t),e)}function Gd(){throw new Error("invalid")}function Sa(t,e,n){const i=P();return Ft(i,Ts(),e)&&function(t,e,n,i,r,o,a,l){const h=M(e,n);let p,d=e.inputs;!l&&null!=d&&(p=d[i])?(C_(t,n,p,i,r),ji(e)&&function(t,e){const n=Ue(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=a?a(r,e.value||"",i):r,c(o)?o.setProperty(h,i,r):Lh(i)||(h.setProperty?h.setProperty(i,r):h[i]=r))}(fe(),Ye(),i,t,e,i[11],n,!1),Sa}function Kd(t,e,n,i,r){const a=r?"class":"style";C_(t,n,e.inputs[a],a,i)}function he(t,e,n,i){const r=P(),o=fe(),a=20+t,l=r[11],h=r[a]=ad(l,e,G.lFrame.currentNamespace),d=o.firstCreatePass?function(t,e,n,i,r,o,a){const l=e.consts,d=Hs(e,t,2,r,An(l,o));return Ad(e,n,d,An(l,a)),null!==d.attrs&&ml(d,d.attrs,!1),null!==d.mergedAttrs&&ml(d,d.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,d),d}(a,o,r,0,e,n,i):o.data[a];mi(d,!0);const p=d.mergedAttrs;null!==p&&Wu(l,h,p);const g=d.classes;null!==g&&fd(l,h,g);const y=d.styles;null!==y&&jg(l,h,y),64!=(64&d.flags)&&ul(o,r,h,d),0===G.lFrame.elementDepthCount&&Nt(h,r),G.lFrame.elementDepthCount++,hr(d)&&(Td(o,r,d),function(t,e,n){if(hi(e)){const r=e.directiveEnd;for(let o=e.directiveStart;o<r;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}}(o,d,r)),null!==i&&Md(r,d)}function de(){let t=et();Th()?G.lFrame.isParent=!1:(t=t.parent,mi(t,!1));const e=t;G.lFrame.elementDepthCount--;const n=fe();n.firstCreatePass&&($u(n,t),hi(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Kd(n,e,P(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Kd(n,e,P(),e.stylesWithoutHost,!1)}function xn(t,e,n,i){he(t,e,n,i),de()}function vl(t){return!!t&&"function"==typeof t.then}const dy=function(t){return!!t&&"function"==typeof t.subscribe};function wl(t,e,n,i){const r=P(),o=fe(),a=et();return function(t,e,n,i,r,o,a,l){const h=hr(i),p=t.firstCreatePass&&w_(t),g=e[8],y=v_(e);let v=!0;if(3&i.type||l){const T=M(i,e),A=l?l(T):T,b=y.length,x=l?B=>l(_(B[i.index])):i.index;if(c(n)){let B=null;if(!l&&h&&(B=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const a=r[o];if(a===n&&r[o+1]===i){const l=e[7],h=r[o+2];return l.length>h?l[h]:null}"string"==typeof a&&(o+=2)}return null}(t,e,r,i.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,v=!1;else{o=Qd(i,e,g,o,!1);const oe=n.listen(A,r,o);y.push(o,oe),p&&p.push(r,x,b,b+1)}}else o=Qd(i,e,g,o,!0),A.addEventListener(r,o,a),y.push(o),p&&p.push(r,x,b,a)}else o=Qd(i,e,g,o,!1);const D=i.outputs;let C;if(v&&null!==D&&(C=D[r])){const T=C.length;if(T)for(let A=0;A<T;A+=2){const qe=e[C[A]][C[A+1]].subscribe(o),Ke=y.length;y.push(o,qe),p&&p.push(r,i.index,Ke,-(Ke+1))}}}(o,r,r[11],a,t,e,!!n,i),wl}function my(t,e,n,i){try{return!1!==n(i)}catch(r){return E_(t,r),!1}}function Qd(t,e,n,i,r){return function o(a){if(a===Function)return i;const l=2&t.flags?Ue(t.index,e):e;0==(32&e[2])&&xd(l);let h=my(e,0,i,a),d=o.__ngNextListenerFn__;for(;d;)h=my(e,0,d,a)&&h,d=d.__ngNextListenerFn__;return r&&!1===h&&(a.preventDefault(),a.returnValue=!1),h}}function je(t,e=""){const n=P(),i=fe(),r=t+20,o=i.firstCreatePass?Hs(i,r,1,e,null):i.data[r],a=n[r]=function(t,e){return c(t)?t.createText(e):t.createTextNode(e)}(n[11],e);ul(i,n,a,o),mi(o,!1)}function bi(t){return Ur("",t,""),bi}function Ur(t,e,n){const i=P(),r=function(t,e,n,i){return Ft(t,Ts(),n)?e+W(n)+i:te}(i,t,e,n);return r!==te&&$i(i,Zt(),r),Ur}const zr=void 0;var IM=["en",[["a","p"],["AM","PM"],zr],[["AM","PM"],zr,zr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zr,"{1} 'at' {0}",zr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let ro={};function Gt(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ov(e);if(n)return n;const i=e.split("-")[0];if(n=ov(i),n)return n;if("en"===i)return IM;throw new Error(`Missing locale data for the locale "${t}".`)}function ov(t){return t in ro||(ro[t]=Ae.ng&&Ae.ng.common&&Ae.ng.common.locales&&Ae.ng.common.locales[t]),ro[t]}var O=(()=>((O=O||{})[O.LocaleId=0]="LocaleId",O[O.DayPeriodsFormat=1]="DayPeriodsFormat",O[O.DayPeriodsStandalone=2]="DayPeriodsStandalone",O[O.DaysFormat=3]="DaysFormat",O[O.DaysStandalone=4]="DaysStandalone",O[O.MonthsFormat=5]="MonthsFormat",O[O.MonthsStandalone=6]="MonthsStandalone",O[O.Eras=7]="Eras",O[O.FirstDayOfWeek=8]="FirstDayOfWeek",O[O.WeekendRange=9]="WeekendRange",O[O.DateFormat=10]="DateFormat",O[O.TimeFormat=11]="TimeFormat",O[O.DateTimeFormat=12]="DateTimeFormat",O[O.NumberSymbols=13]="NumberSymbols",O[O.NumberFormats=14]="NumberFormats",O[O.CurrencyCode=15]="CurrencyCode",O[O.CurrencySymbol=16]="CurrencySymbol",O[O.CurrencyName=17]="CurrencyName",O[O.Currencies=18]="Currencies",O[O.Directionality=19]="Directionality",O[O.PluralCase=20]="PluralCase",O[O.ExtraData=21]="ExtraData",O))();const El="en-US";let av=El;class Rv{}class LA{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${me(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let oo=(()=>{class t{}return t.NULL=new LA,t})();function NA(){return ao(et(),P())}function ao(t,e){return new vr(M(t,e))}let vr=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=NA,t})();class xa{}let BA=(()=>{class t{}return t.\u0275prov=se({token:t,providedIn:"root",factory:()=>null}),t})();class Al{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const VA=new Al("13.0.3"),of={};function Pl(t,e,n,i,r=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&i.push(_(o)),Lt(o))for(let l=10;l<o.length;l++){const h=o[l],d=h[1].firstChild;null!==d&&Pl(h[1],h,d,i)}const a=n.type;if(8&a)Pl(t,e,n.child,i);else if(32&a){const l=id(n,e);let h;for(;h=l();)i.push(h)}else if(16&a){const l=kg(e,n);if(Array.isArray(l))i.push(...l);else{const h=ya(e[16]);Pl(h[1],h,l,i,!0)}}n=r?n.projectionNext:n.next}return i}class Ra{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Pl(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Lt(e)){const n=e[8],i=n?n.indexOf(this):-1;i>-1&&(ud(e,i),Xu(n,i))}this._attachedToViewContainer=!1}Ag(this._lView[1],this._lView)}onDestroy(e){!function(t,e,n,i){const r=v_(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&w_(t).push(i,r.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){xd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ld(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Hu(!0);try{Ld(t,e,n)}finally{Hu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,va(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class jA extends Ra{constructor(e){super(e),this._view=e}detectChanges(){y_(this._view)}checkNoChanges(){!function(t){Hu(!0);try{y_(t)}finally{Hu(!1)}}(this._view)}get context(){return null}}class Nv extends oo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=pt(e);return new af(n,this.ngModule)}}function Ov(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const UA=new be("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>wg});class af extends Rv{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=e.selectors.map(J0).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Ov(this.componentDef.inputs)}get outputs(){return Ov(this.componentDef.outputs)}create(e,n,i,r){const o=(r=r||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const o=t.get(n,of,r);return o!==of||i===of?o:e.get(n,i,r)}}}(e,r.injector):e,a=o.get(xa,f),l=o.get(BA,null),h=a.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",p=i?function(t,e,n){if(c(t))return t.selectRootElement(e,n===Vt.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(h,i,this.componentDef.encapsulation):ad(a.createRenderer(null,this.componentDef),d,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(d)),g=this.componentDef.onPush?576:528,y=function(t,e){return{components:[],scheduler:t||wg,clean:VS,playerHandler:e||null,flags:0}}(),v=fl(0,null,null,1,0,null,null,null,null,null),D=wa(null,v,y,g,null,null,a,h,l,o);let C,T;Uu(D);try{const A=function(t,e,n,i,r,o){const a=n[1];n[20]=t;const h=Hs(a,20,2,"#host",null),d=h.mergedAttrs=e.hostAttrs;null!==d&&(ml(h,d,!0),null!==t&&(Wu(r,t,d),null!==h.classes&&fd(r,t,h.classes),null!==h.styles&&jg(r,t,h.styles)));const p=i.createRenderer(t,e),g=wa(n,o_(e),null,e.onPush?64:16,n[20],h,i,p,o||null,null);return a.firstCreatePass&&(Yu(na(h,n),a,e.type),p_(a,h),m_(h,n.length,1)),pl(n,g),n[20]=g}(p,this.componentDef,D,a,h);if(p)if(i)Wu(h,p,["ng-version",VA.full]);else{const{attrs:b,classes:x}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&e.push(o,t[++i]):8===r&&n.push(o);else{if(!Wn(r))break;r=o}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);b&&Wu(h,p,b),x&&x.length>0&&fd(h,p,x.join(" "))}if(T=Z(v,20),void 0!==n){const b=T.projection=[];for(let x=0;x<this.ngContentSelectors.length;x++){const B=n[x];b.push(null!=B?Array.from(B):null)}}C=function(t,e,n,i,r){const o=n[1],a=function(t,e,n){const i=et();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),g_(t,i,e,Us(t,e,1,null),n));const r=ia(e,t,i.directiveStart,i);Nt(r,e);const o=M(i,e);return o&&Nt(o,e),r}(o,n,e);if(i.components.push(a),t[8]=a,r&&r.forEach(h=>h(a,e)),e.contentQueries){const h=et();e.contentQueries(1,a,h.directiveStart)}const l=et();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(pr(l.index),d_(n[1],l,0,l.directiveStart,l.directiveEnd,e),f_(e,a)),a}(A,this.componentDef,D,y,[sT]),Da(v,D,null)}finally{zu()}return new ZA(this.componentType,C,ao(T,D),D,T)}}class ZA extends class{}{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new jA(r),this.componentType=e}get injector(){return new Ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Zi{}class Fv{}const uo=new Map;class Vv extends Zi{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Nv(this);const i=xt(e);this._bootstrapComponents=vi(i.bootstrap),this._r3Injector=M_(e,n,[{provide:Zi,useValue:this},{provide:oo,useValue:this.componentFactoryResolver}],me(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Wt.THROW_IF_NOT_FOUND,i=J.Default){return e===Wt||e===Zi||e===Od?this:this._r3Injector.get(e,n,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class uf extends Fv{constructor(e){super(),this.moduleType=e,null!==xt(e)&&function(t){const e=new Set;!function n(i){const r=xt(i,!0),o=r.id;null!==o&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${me(e)} vs ${me(e.name)}`)}(o,uo.get(o),i),uo.set(o,i));const a=vi(r.imports);for(const l of a)e.has(l)||(e.add(l),n(l))}(t)}(e)}create(e){return new Vv(this.moduleType,e)}}function La(t,e){const n=t[e];return n===te?void 0:n}function Uv(t,e,n,i,r,o){const a=e+n;return Ft(t,a,r)?Di(t,a+1,o?i.call(o,r):i(r)):La(t,a+1)}function zv(t,e,n,i,r,o,a){const l=e+n;return function(t,e,n,i){const r=Ft(t,e,n);return Ft(t,e+1,i)||r}(t,l,r,o)?Di(t,l+2,a?i.call(a,r,o):i(r,o)):La(t,l+2)}function lo(t,e){const n=fe();let i;const r=t+20;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const o=i.factory||(i.factory=dn(i.type)),a=jn(V);try{const l=Ku(!1),h=o();return Ku(l),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(n,P(),r,h),h}finally{jn(a)}}function Il(t,e,n){const i=t+20,r=P(),o=re(r,i);return Na(r,i)?Uv(r,$t(),e,o.transform,n,o):o.transform(n)}function lf(t,e,n,i){const r=t+20,o=P(),a=re(o,r);return Na(o,r)?zv(o,$t(),e,a.transform,n,i,a):a.transform(n,i)}function Na(t,e){return t[1].data[e].pure}function cf(t){return e=>{setTimeout(t,void 0,e)}}const Kt=class extends Se{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,i){var h,d,p;let r=e,o=n||(()=>null),a=i;if(e&&"object"==typeof e){const g=e;r=null==(h=g.next)?void 0:h.bind(g),o=null==(d=g.error)?void 0:d.bind(g),a=null==(p=g.complete)?void 0:p.bind(g)}this.__isAsync&&(o=cf(o),r&&(r=cf(r)),a&&(a=cf(a)));const l=super.subscribe({next:r,error:o,complete:a});return e instanceof kt&&e.add(l),l}};Symbol;let qi=(()=>{class t{}return t.__NG_ELEMENT_ID__=cP,t})();const uP=qi,lP=class extends uP{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(e){const n=this._declarationTContainer.tViews,i=wa(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(n)),Da(n,i,e),new Ra(i)}};function cP(){return t=et(),e=P(),4&t.type?new lP(e,t,ao(t,e)):null;var t,e}let Jn=(()=>{class t{}return t.__NG_ELEMENT_ID__=hP,t})();function hP(){return function(t,e){let n;const i=e[t.index];if(Lt(i))n=i;else{let r;if(8&t.type)r=_(i);else{const o=e[11];r=o.createComment("");const a=M(t,e);jr(o,al(o,a),r,function(t,e){return c(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=__(i,e,r,t),pl(e,n)}return new Wv(n,t,e)}(et(),P())}const dP=Jn,Wv=class extends dP{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return ao(this._hostTNode,this._hostLView)}get injector(){return new Ps(this._hostTNode,this._hostLView)}get parentInjector(){const e=Qu(this._hostTNode,this._hostLView);if(Om(e)){const n=As(e,this._hostLView),i=Ms(e);return new Ps(n[1].data[i+8],n)}return new Ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Gv(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,i){const r=e.createEmbeddedView(n||{});return this.insert(r,i),r}createComponent(e,n,i,r,o){const a=e&&!("function"==typeof e);let l;if(a)l=n;else{const g=n||{};l=g.index,i=g.injector,r=g.projectableNodes,o=g.ngModuleRef}const h=a?e:new af(pt(e)),d=i||this.parentInjector;if(!o&&null==h.ngModule&&d){const g=d.get(Zi,null);g&&(o=g)}const p=h.create(d,r,void 0,o);return this.insert(p.hostView,l),p}insert(e,n){const i=e._lView,r=i[1];if(Lt(i[3])){const p=this.indexOf(e);if(-1!==p)this.detach(p);else{const g=i[3],y=new Wv(g,g[6],g[3]);y.detach(y.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;!function(t,e,n,i){const r=10+i,o=n.length;i>0&&(n[r-1][4]=e),i<o-10?(e[4]=n[r],$m(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;const a=e[17];null!==a&&n!==a&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);const l=e[19];null!==l&&l.insertView(t),e[2]|=128}(r,i,a,o);const l=hd(o,a),h=i[11],d=al(h,a[7]);return null!==d&&function(t,e,n,i,r,o){i[0]=r,i[6]=e,va(t,i,n,1,r,o)}(r,a[6],h,i,d,l),e.attachToViewContainerRef(),$m(df(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Gv(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),i=ud(this._lContainer,n);i&&(Xu(df(this._lContainer),n),Ag(i[1],i))}detach(e){const n=this._adjustIndex(e,-1),i=ud(this._lContainer,n);return i&&null!=Xu(df(this._lContainer),n)?new Ra(i):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function Gv(t){return t[8]}function df(t){return t[8]||(t[8]=[])}function Nl(...t){}const Ol=new be("Application Initializer");let ho=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Nl,this.reject=Nl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(vl(o))n.push(o);else if(dy(o)){const a=new Promise((l,h)=>{o.subscribe({complete:l,error:h})});n.push(a)}}Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(j(Ol,8))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const Fa=new be("AppId"),HP={provide:Fa,useFactory:function(){return`${Tf()}${Tf()}${Tf()}`},deps:[]};function Tf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yw=new be("Platform Initializer"),Mf=new be("Platform ID"),vw=new be("appBootstrapListener");let ww=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const wr=new be("LocaleId"),Dw=new be("DefaultCurrencyCode");class UP{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Fl=(()=>{class t{compileModuleSync(n){return new uf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),o=vi(xt(n).declarations).reduce((a,l)=>{const h=pt(l);return h&&a.push(new af(h)),a},[]);return new UP(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const $P=(()=>Promise.resolve(0))();function Af(t){"undefined"==typeof Zone?$P.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class tt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kt(!1),this.onMicrotaskEmpty=new Kt(!1),this.onStable=new Kt(!1),this.onError=new Kt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=Ae.requestAnimationFrame,e=Ae.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ae,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,If(t),t.isCheckStableRunning=!0,Pf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),If(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,a,l)=>{try{return Ew(t),n.invokeTask(r,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Cw(t)}},onInvoke:(n,i,r,o,a,l,h)=>{try{return Ew(t),n.invoke(r,o,a,l,h)}finally{t.shouldCoalesceRunChangeDetection&&e(),Cw(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,If(t),Pf(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(tt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,e,qP,Nl,Nl);try{return o.runTask(a,n,i)}finally{o.cancelTask(a)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}}const qP={};function Pf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function If(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ew(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cw(t){t._nesting--,Pf(t)}class KP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kt,this.onMicrotaskEmpty=new Kt,this.onStable=new Kt,this.onError=new Kt}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}}let xf=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tt.assertNotInAngularZone(),Af(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Af(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,i,r){return[]}}return t.\u0275fac=function(n){return new(n||t)(j(tt))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})(),bw=(()=>{class t{constructor(){this._applications=new Map,Rf.addToWindow(this)}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Rf.findTestabilityInTree(this,n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();class QP{addToWindow(e){}findTestabilityInTree(e,n,i){return null}}let Xn,Rf=new QP;const Sw=new be("AllowMultipleToken");class Tw{constructor(e,n){this.name=e,this.token=n}}function Mw(t,e,n=[]){const i=`Platform: ${e}`,r=new be(i);return(o=[])=>{let a=Aw();if(!a||a.injector.get(Sw,!1))if(t)t(n.concat(o).concat({provide:r,useValue:!0}));else{const l=n.concat(o).concat({provide:r,useValue:!0},{provide:Fd,useValue:"platform"});!function(t){if(Xn&&!Xn.destroyed&&!Xn.injector.get(Sw,!1))throw new bt("400","");Xn=t.get(Pw);const e=t.get(yw,null);e&&e.forEach(n=>n())}(Wt.create({providers:l,name:i}))}return function(t){const e=Aw();if(!e)throw new bt("401","");return e}()}}function Aw(){return Xn&&!Xn.destroyed?Xn:null}let Pw=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const l=function(t,e){let n;return n="noop"===t?new KP:("zone.js"===t?void 0:t)||new tt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),h=[{provide:tt,useValue:l}];return l.run(()=>{const d=Wt.create({providers:h,parent:this.injector,name:n.moduleType.name}),p=n.create(d),g=p.injector.get(Bs,null);if(!g)throw new bt("402","");return l.runOutsideAngular(()=>{const y=l.onError.subscribe({next:v=>{g.handleError(v)}});p.onDestroy(()=>{Lf(this._modules,p),y.unsubscribe()})}),function(t,e,n){try{const i=n();return vl(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(g,l,()=>{const y=p.injector.get(ho);return y.runInitializers(),y.donePromise.then(()=>(function(t){St(t,"Expected localeId to be defined"),"string"==typeof t&&(av=t.toLowerCase().replace(/_/g,"-"))}(p.injector.get(wr,El)||El),this._moduleDoBootstrap(p),p))})})}bootstrapModule(n,i=[]){const r=Iw({},i);return function(t,e,n){const i=new uf(n);return Promise.resolve(i)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(n){const i=n.injector.get(ka);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new bt("403","");n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new bt("404","");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(j(Wt))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();function Iw(t,e){return Array.isArray(e)?e.reduce(Iw,t):$($({},t),e)}let ka=(()=>{class t{constructor(n,i,r,o,a){this._zone=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new ye(d=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{d.next(this._stable),d.complete()})}),h=new ye(d=>{let p;this._zone.runOutsideAngular(()=>{p=this._zone.onStable.subscribe(()=>{tt.assertNotInAngularZone(),Af(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,d.next(!0))})})});const g=this._zone.onUnstable.subscribe(()=>{tt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{d.next(!1)}))});return()=>{p.unsubscribe(),g.unsubscribe()}});this.isStable=function(...t){const e=rr(t),n=function(t,e){return"number"==typeof ds(t)?t.pop():1/0}(t),i=t;return i.length?1===i.length?kn(i[0]):Pt(n)(dt(i,e)):k}(l,h.pipe(function(t={}){const{connector:e=(()=>new Se),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let a=null,l=null,h=null,d=0,p=!1,g=!1;const y=()=>{null==l||l.unsubscribe(),l=null},v=()=>{y(),a=h=null,p=g=!1},D=()=>{const C=a;v(),null==C||C.unsubscribe()};return ve((C,T)=>{d++,!g&&!p&&y();const A=h=null!=h?h:e();T.add(()=>{d--,0===d&&!g&&!p&&(l=Ir(D,r))}),A.subscribe(T),a||(a=new os({next:b=>A.next(b),error:b=>{g=!0,y(),l=Ir(v,n,b),A.error(b)},complete:()=>{p=!0,y(),l=Ir(v,i),A.complete()}}),dt(C).subscribe(a))})(o)}}()))}bootstrap(n,i){if(!this._initStatus.done)throw new bt("405","");let r;r=n instanceof Rv?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(r.componentType);const o=function(t){return t.isBoundToModule}(r)?void 0:this._injector.get(Zi),l=r.create(Wt.NULL,[],i||r.selector,o),h=l.location.nativeElement,d=l.injector.get(xf,null),p=d&&l.injector.get(bw);return d&&p&&p.registerApplication(h,d),l.onDestroy(()=>{this.detachView(l.hostView),Lf(this.components,l),p&&p.unregisterApplication(h)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new bt("101","");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Lf(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(vw,[]).concat(this._bootstrapListeners).forEach(r=>r(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(j(tt),j(Wt),j(Bs),j(oo),j(ho))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();function Lf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Rw=!0,Nf=(()=>{class t{}return t.__NG_ELEMENT_ID__=aI,t})();function aI(t){return function(t,e,n){if(ji(t)&&!n){const i=Ue(t.index,e);return new Ra(i,i)}return 47&t.type?new Ra(e[16],e):null}(et(),P(),16==(16&t))}class Vw{constructor(){}supports(e){return Ca(e)}create(e){return new pI(e)}}const fI=(t,e)=>e;class pI{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||fI}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){const a=!i||n&&n.currentIndex<Hw(i,r,o)?n:i,l=Hw(a,r,o),h=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(n=n._next,null==a.previousIndex)r++;else{o||(o=[]);const d=l-r,p=h-r;if(d!=p){for(let y=0;y<d;y++){const v=y<o.length?o[y]:o[y]=0,D=v+y;p<=D&&D<d&&(o[y]=v+1)}o[a.previousIndex]=p-d}}l!==h&&e(a,l,h)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Ca(e))throw new Error(`Error trying to diff '${me(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,a,n=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)o=e[l],a=this._trackByFn(l,o),null!==n&&Object.is(n.trackById,a)?(i&&(n=this._verifyReinsertion(n,o,a,l)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,a,l),i=!0),n=n._next}else r=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[qs()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(e,l=>{a=this._trackByFn(r,l),null!==n&&Object.is(n.trackById,a)?(i&&(n=this._verifyReinsertion(n,l,a,r)),Object.is(n.item,l)||this._addIdentityChange(n,l)):(n=this._mismatch(n,l,a,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new mI(n,i),o,r),e}_verifyReinsertion(e,n,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){const r=null===n?this._itHead:n._next;return e._next=r,e._prev=n,null===r?this._itTail=e:r._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new jw),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,i=e._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jw),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class mI{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gI{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const n=e._prevDup,i=e._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class jw{constructor(){this.map=new Map}put(e){const n=e.trackById;let i=this.map.get(n);i||(i=new gI,this.map.set(n,i)),i.add(e)}get(e,n){const r=this.map.get(e);return r?r.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Hw(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class Uw{constructor(){}supports(e){return e instanceof Map||Ud(e)}create(){return new _I}}class _I{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Ud(e)))throw new Error(`Error trying to diff '${me(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,n);const o=r._prev,a=r._next;return o&&(o._next=a),a&&(a._prev=o),r._next=null,r._prev=null,r}const i=new yI(e);return this._records.set(e,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(i=>n(e[i],i))}}class yI{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zw(){return new Ba([new Vw])}let Ba=(()=>{class t{constructor(n){this.factories=n}static create(n,i){if(null!=i){const r=i.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||zw()),deps:[[t,new Os,new _i]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=se({token:t,providedIn:"root",factory:zw}),t})();function $w(){return new fo([new Uw])}let fo=(()=>{class t{constructor(n){this.factories=n}static create(n,i){if(i){const r=i.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||$w()),deps:[[t,new Os,new _i]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(i)return i;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=se({token:t,providedIn:"root",factory:$w}),t})();const wI=[new Uw],EI=new Ba([new Vw]),CI=new fo(wI),bI=Mw(null,"core",[{provide:Mf,useValue:"unknown"},{provide:Pw,deps:[Wt]},{provide:bw,deps:[]},{provide:ww,deps:[]}]),PI=[{provide:ka,useClass:ka,deps:[tt,Wt,Bs,oo,ho]},{provide:UA,deps:[tt],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:ho,useClass:ho,deps:[[new _i,Ol]]},{provide:Fl,useClass:Fl,deps:[]},HP,{provide:Ba,useFactory:function(){return EI},deps:[]},{provide:fo,useFactory:function(){return CI},deps:[]},{provide:wr,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||El},deps:[[new da(wr),new _i,new Os]]},{provide:Dw,useValue:"USD"}];let xI=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(j(ka))},t.\u0275mod=Xt({type:t}),t.\u0275inj=ln({providers:PI}),t})(),Bl=null;function Dr(){return Bl}const rn=new be("DocumentToken");let Zr=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:function(){return j(Zw)},providedIn:"platform"}),t})();const FI=new be("Location Initialized");let Zw=(()=>{class t extends Zr{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Dr().getBaseHref(this._doc)}onPopState(n){const i=Dr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=Dr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,i,r){qw()?this._history.pushState(n,i,r):this.location.hash=r}replaceState(n,i,r){qw()?this._history.replaceState(n,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(j(rn))},t.\u0275prov=se({token:t,factory:function(){return new Zw(j(rn))},providedIn:"platform"}),t})();function qw(){return!!window.history.pushState}function Vf(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Ww(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Wi(t){return t&&"?"!==t[0]?"?"+t:t}let po=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:function(){return function(t){const e=j(rn).location;return new Gw(j(Zr),e&&e.origin||"")}()},providedIn:"root"}),t})();const jf=new be("appBaseHref");let Gw=(()=>{class t extends po{constructor(n,i){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Vf(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+Wi(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){const a=this.prepareExternalUrl(r+Wi(o));this._platformLocation.pushState(n,i,a)}replaceState(n,i,r,o){const a=this.prepareExternalUrl(r+Wi(o));this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var i,r;null==(r=(i=this._platformLocation).historyGo)||r.call(i,n)}}return t.\u0275fac=function(n){return new(n||t)(j(Zr),j(jf,8))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})(),VI=(()=>{class t extends po{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=Vf(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let a=this.prepareExternalUrl(r+Wi(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,i,a)}replaceState(n,i,r,o){let a=this.prepareExternalUrl(r+Wi(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var i,r;null==(r=(i=this._platformLocation).historyGo)||r.call(i,n)}}return t.\u0275fac=function(n){return new(n||t)(j(Zr),j(jf,8))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})(),Hf=(()=>{class t{constructor(n,i){this._subject=new Kt,this._urlChangeListeners=[],this._platformStrategy=n;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ww(Kw(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Wi(i))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Kw(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._platformStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wi(i)),r)}replaceState(n,i="",r=null){this._platformStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wi(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var i,r;null==(r=(i=this._platformStrategy).historyGo)||r.call(i,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}}return t.normalizeQueryParams=Wi,t.joinWithSlash=Vf,t.stripTrailingSlash=Ww,t.\u0275fac=function(n){return new(n||t)(j(po),j(Zr))},t.\u0275prov=se({token:t,factory:function(){return new Hf(j(po),j(Zr))},providedIn:"root"}),t})();function Kw(t){return t.replace(/\/index.html$/,"")}var sn=(()=>((sn=sn||{})[sn.Decimal=0]="Decimal",sn[sn.Percent=1]="Percent",sn[sn.Currency=2]="Currency",sn[sn.Scientific=3]="Scientific",sn))(),lt=(()=>((lt=lt||{})[lt.Zero=0]="Zero",lt[lt.One=1]="One",lt[lt.Two=2]="Two",lt[lt.Few=3]="Few",lt[lt.Many=4]="Many",lt[lt.Other=5]="Other",lt))(),nt=(()=>((nt=nt||{})[nt.Format=0]="Format",nt[nt.Standalone=1]="Standalone",nt))(),_e=(()=>((_e=_e||{})[_e.Narrow=0]="Narrow",_e[_e.Abbreviated=1]="Abbreviated",_e[_e.Wide=2]="Wide",_e[_e.Short=3]="Short",_e))(),Ge=(()=>((Ge=Ge||{})[Ge.Short=0]="Short",Ge[Ge.Medium=1]="Medium",Ge[Ge.Long=2]="Long",Ge[Ge.Full=3]="Full",Ge))(),z=(()=>((z=z||{})[z.Decimal=0]="Decimal",z[z.Group=1]="Group",z[z.List=2]="List",z[z.PercentSign=3]="PercentSign",z[z.PlusSign=4]="PlusSign",z[z.MinusSign=5]="MinusSign",z[z.Exponential=6]="Exponential",z[z.SuperscriptingExponent=7]="SuperscriptingExponent",z[z.PerMille=8]="PerMille",z[z.Infinity=9]="Infinity",z[z.NaN=10]="NaN",z[z.TimeSeparator=11]="TimeSeparator",z[z.CurrencyDecimal=12]="CurrencyDecimal",z[z.CurrencyGroup=13]="CurrencyGroup",z))();function Vl(t,e){return Ln(Gt(t)[O.DateFormat],e)}function jl(t,e){return Ln(Gt(t)[O.TimeFormat],e)}function Hl(t,e){return Ln(Gt(t)[O.DateTimeFormat],e)}function Rn(t,e){const n=Gt(t),i=n[O.NumberSymbols][e];if(void 0===i){if(e===z.CurrencyDecimal)return n[O.NumberSymbols][z.Decimal];if(e===z.CurrencyGroup)return n[O.NumberSymbols][z.Group]}return i}const GI=function(t){return Gt(t)[O.PluralCase]};function Yw(t){if(!t[O.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[O.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ln(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function zf(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const ex=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Va={},tx=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var yt=(()=>((yt=yt||{})[yt.Short=0]="Short",yt[yt.ShortGMT=1]="ShortGMT",yt[yt.Long=2]="Long",yt[yt.Extended=3]="Extended",yt))(),q=(()=>((q=q||{})[q.FullYear=0]="FullYear",q[q.Month=1]="Month",q[q.Date=2]="Date",q[q.Hours=3]="Hours",q[q.Minutes=4]="Minutes",q[q.Seconds=5]="Seconds",q[q.FractionalSeconds=6]="FractionalSeconds",q[q.Day=7]="Day",q))(),ue=(()=>((ue=ue||{})[ue.DayPeriods=0]="DayPeriods",ue[ue.Days=1]="Days",ue[ue.Months=2]="Months",ue[ue.Eras=3]="Eras",ue))();function nx(t,e,n,i){let r=function(t){if(eD(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[r,o=1,a=1]=t.split("-").map(l=>+l);return Ul(r,o-1,a)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let i;if(i=t.match(ex))return function(t){const e=new Date(0);let n=0,i=0;const r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const a=Number(t[4]||0)-n,l=Number(t[5]||0)-i,h=Number(t[6]||0),d=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,l,h,d),e}(i)}const e=new Date(t);if(!eD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Gi(n,e)||e;let l,a=[];for(;e;){if(l=tx.exec(e),!l){a.push(e);break}{a=a.concat(l.slice(1));const p=a.pop();if(!p)break;e=p}}let h=r.getTimezoneOffset();i&&(h=Xw(i,h),r=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Xw(e,r)-r))}(r,i));let d="";return a.forEach(p=>{const g=function(t){if(Zf[t])return Zf[t];let e;switch(t){case"G":case"GG":case"GGG":e=ze(ue.Eras,_e.Abbreviated);break;case"GGGG":e=ze(ue.Eras,_e.Wide);break;case"GGGGG":e=ze(ue.Eras,_e.Narrow);break;case"y":e=ct(q.FullYear,1,0,!1,!0);break;case"yy":e=ct(q.FullYear,2,0,!0,!0);break;case"yyy":e=ct(q.FullYear,3,0,!1,!0);break;case"yyyy":e=ct(q.FullYear,4,0,!1,!0);break;case"Y":e=ql(1);break;case"YY":e=ql(2,!0);break;case"YYY":e=ql(3);break;case"YYYY":e=ql(4);break;case"M":case"L":e=ct(q.Month,1,1);break;case"MM":case"LL":e=ct(q.Month,2,1);break;case"MMM":e=ze(ue.Months,_e.Abbreviated);break;case"MMMM":e=ze(ue.Months,_e.Wide);break;case"MMMMM":e=ze(ue.Months,_e.Narrow);break;case"LLL":e=ze(ue.Months,_e.Abbreviated,nt.Standalone);break;case"LLLL":e=ze(ue.Months,_e.Wide,nt.Standalone);break;case"LLLLL":e=ze(ue.Months,_e.Narrow,nt.Standalone);break;case"w":e=$f(1);break;case"ww":e=$f(2);break;case"W":e=$f(1,!0);break;case"d":e=ct(q.Date,1);break;case"dd":e=ct(q.Date,2);break;case"c":case"cc":e=ct(q.Day,1);break;case"ccc":e=ze(ue.Days,_e.Abbreviated,nt.Standalone);break;case"cccc":e=ze(ue.Days,_e.Wide,nt.Standalone);break;case"ccccc":e=ze(ue.Days,_e.Narrow,nt.Standalone);break;case"cccccc":e=ze(ue.Days,_e.Short,nt.Standalone);break;case"E":case"EE":case"EEE":e=ze(ue.Days,_e.Abbreviated);break;case"EEEE":e=ze(ue.Days,_e.Wide);break;case"EEEEE":e=ze(ue.Days,_e.Narrow);break;case"EEEEEE":e=ze(ue.Days,_e.Short);break;case"a":case"aa":case"aaa":e=ze(ue.DayPeriods,_e.Abbreviated);break;case"aaaa":e=ze(ue.DayPeriods,_e.Wide);break;case"aaaaa":e=ze(ue.DayPeriods,_e.Narrow);break;case"b":case"bb":case"bbb":e=ze(ue.DayPeriods,_e.Abbreviated,nt.Standalone,!0);break;case"bbbb":e=ze(ue.DayPeriods,_e.Wide,nt.Standalone,!0);break;case"bbbbb":e=ze(ue.DayPeriods,_e.Narrow,nt.Standalone,!0);break;case"B":case"BB":case"BBB":e=ze(ue.DayPeriods,_e.Abbreviated,nt.Format,!0);break;case"BBBB":e=ze(ue.DayPeriods,_e.Wide,nt.Format,!0);break;case"BBBBB":e=ze(ue.DayPeriods,_e.Narrow,nt.Format,!0);break;case"h":e=ct(q.Hours,1,-12);break;case"hh":e=ct(q.Hours,2,-12);break;case"H":e=ct(q.Hours,1);break;case"HH":e=ct(q.Hours,2);break;case"m":e=ct(q.Minutes,1);break;case"mm":e=ct(q.Minutes,2);break;case"s":e=ct(q.Seconds,1);break;case"ss":e=ct(q.Seconds,2);break;case"S":e=ct(q.FractionalSeconds,1);break;case"SS":e=ct(q.FractionalSeconds,2);break;case"SSS":e=ct(q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=$l(yt.Short);break;case"ZZZZZ":e=$l(yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$l(yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=$l(yt.Long);break;default:return null}return Zf[t]=e,e}(p);d+=g?g(r,n,h):"''"===p?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function Ul(t,e,n){const i=new Date(0);return i.setFullYear(t,e,n),i.setHours(0,0,0),i}function Gi(t,e){const n=function(t){return Gt(t)[O.LocaleId]}(t);if(Va[n]=Va[n]||{},Va[n][e])return Va[n][e];let i="";switch(e){case"shortDate":i=Vl(t,Ge.Short);break;case"mediumDate":i=Vl(t,Ge.Medium);break;case"longDate":i=Vl(t,Ge.Long);break;case"fullDate":i=Vl(t,Ge.Full);break;case"shortTime":i=jl(t,Ge.Short);break;case"mediumTime":i=jl(t,Ge.Medium);break;case"longTime":i=jl(t,Ge.Long);break;case"fullTime":i=jl(t,Ge.Full);break;case"short":const r=Gi(t,"shortTime"),o=Gi(t,"shortDate");i=zl(Hl(t,Ge.Short),[r,o]);break;case"medium":const a=Gi(t,"mediumTime"),l=Gi(t,"mediumDate");i=zl(Hl(t,Ge.Medium),[a,l]);break;case"long":const h=Gi(t,"longTime"),d=Gi(t,"longDate");i=zl(Hl(t,Ge.Long),[h,d]);break;case"full":const p=Gi(t,"fullTime"),g=Gi(t,"fullDate");i=zl(Hl(t,Ge.Full),[p,g])}return i&&(Va[n][e]=i),i}function zl(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,i){return null!=e&&i in e?e[i]:n})),t}function ei(t,e,n="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,o=n));let a=String(t);for(;a.length<e;)a="0"+a;return i&&(a=a.substr(a.length-e)),o+a}function ct(t,e,n=0,i=!1,r=!1){return function(o,a){let l=function(t,e){switch(t){case q.FullYear:return e.getFullYear();case q.Month:return e.getMonth();case q.Date:return e.getDate();case q.Hours:return e.getHours();case q.Minutes:return e.getMinutes();case q.Seconds:return e.getSeconds();case q.FractionalSeconds:return e.getMilliseconds();case q.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||l>-n)&&(l+=n),t===q.Hours)0===l&&-12===n&&(l=12);else if(t===q.FractionalSeconds)return function(t,e){return ei(t,3).substr(0,e)}(l,e);const h=Rn(a,z.MinusSign);return ei(l,e,h,i,r)}}function ze(t,e,n=nt.Format,i=!1){return function(r,o){return function(t,e,n,i,r,o){switch(n){case ue.Months:return function(t,e,n){const i=Gt(t),o=Ln([i[O.MonthsFormat],i[O.MonthsStandalone]],e);return Ln(o,n)}(e,r,i)[t.getMonth()];case ue.Days:return function(t,e,n){const i=Gt(t),o=Ln([i[O.DaysFormat],i[O.DaysStandalone]],e);return Ln(o,n)}(e,r,i)[t.getDay()];case ue.DayPeriods:const a=t.getHours(),l=t.getMinutes();if(o){const d=function(t){const e=Gt(t);return Yw(e),(e[O.ExtraData][2]||[]).map(i=>"string"==typeof i?zf(i):[zf(i[0]),zf(i[1])])}(e),p=function(t,e,n){const i=Gt(t);Yw(i);const o=Ln([i[O.ExtraData][0],i[O.ExtraData][1]],e)||[];return Ln(o,n)||[]}(e,r,i),g=d.findIndex(y=>{if(Array.isArray(y)){const[v,D]=y,C=a>=v.hours&&l>=v.minutes,T=a<D.hours||a===D.hours&&l<D.minutes;if(v.hours<D.hours){if(C&&T)return!0}else if(C||T)return!0}else if(y.hours===a&&y.minutes===l)return!0;return!1});if(-1!==g)return p[g]}return function(t,e,n){const i=Gt(t),o=Ln([i[O.DayPeriodsFormat],i[O.DayPeriodsStandalone]],e);return Ln(o,n)}(e,r,i)[a<12?0:1];case ue.Eras:return function(t,e){return Ln(Gt(t)[O.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(r,o,t,e,n,i)}}function $l(t){return function(e,n,i){const r=-1*i,o=Rn(n,z.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case yt.Short:return(r>=0?"+":"")+ei(a,2,o)+ei(Math.abs(r%60),2,o);case yt.ShortGMT:return"GMT"+(r>=0?"+":"")+ei(a,1,o);case yt.Long:return"GMT"+(r>=0?"+":"")+ei(a,2,o)+":"+ei(Math.abs(r%60),2,o);case yt.Extended:return 0===i?"Z":(r>=0?"+":"")+ei(a,2,o)+":"+ei(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function Jw(t){return Ul(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function $f(t,e=!1){return function(n,i){let r;if(e){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();r=1+Math.floor((a+o)/7)}else{const o=Jw(n),a=function(t){const e=Ul(t,0,1).getDay();return Ul(t,0,1+(e<=4?4:11)-e)}(o.getFullYear()),l=o.getTime()-a.getTime();r=1+Math.round(l/6048e5)}return ei(r,t,Rn(i,z.MinusSign))}}function ql(t,e=!1){return function(n,i){return ei(Jw(n).getFullYear(),t,Rn(i,z.MinusSign),e)}}const Zf={};function Xw(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function eD(t){return t instanceof Date&&!isNaN(t.valueOf())}const fx=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Kf(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class Gl{}let Cx=(()=>{class t extends Gl{constructor(n){super(),this.locale=n}getPluralCategory(n,i){switch(GI(i||this.locale)(n)){case lt.Zero:return"zero";case lt.One:return"one";case lt.Two:return"two";case lt.Few:return"few";case lt.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(j(wr))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();class Mx{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rD=(()=>{class t{constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const i=[];n.forEachOperation((r,o,a)=>{if(null==r.previousIndex){const l=this._viewContainer.createEmbeddedView(this._template,new Mx(null,this._ngForOf,-1,-1),null===a?void 0:a),h=new sD(r,l);i.push(h)}else if(null==a)this._viewContainer.remove(null===o?void 0:o);else if(null!==o){const l=this._viewContainer.get(o);this._viewContainer.move(l,a);const h=new sD(r,l);i.push(h)}});for(let r=0;r<i.length;r++)this._perViewChange(i[r].view,i[r].record);for(let r=0,o=this._viewContainer.length;r<o;r++){const a=this._viewContainer.get(r);a.context.index=r,a.context.count=o,a.context.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{this._viewContainer.get(r.currentIndex).context.$implicit=r.item})}_perViewChange(n,i){n.context.$implicit=i.item}static ngTemplateContextGuard(n,i){return!0}}return t.\u0275fac=function(n){return new(n||t)(V(Jn),V(qi),V(Ba))},t.\u0275dir=ft({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class sD{constructor(e,n){this.record=e,this.view=n}}function ti(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${me(t)}'`)}const Zx=new be("DATE_PIPE_DEFAULT_TIMEZONE");let Jf=(()=>{class t{constructor(n,i){this.locale=n,this.defaultTimezone=i}transform(n,i="mediumDate",r,o){var a;if(null==n||""===n||n!=n)return null;try{return nx(n,i,o||this.locale,null!=(a=null!=r?r:this.defaultTimezone)?a:void 0)}catch(l){throw ti(t,l.message)}}}return t.\u0275fac=function(n){return new(n||t)(V(wr,16),V(Zx,24))},t.\u0275pipe=It({name:"date",type:t,pure:!0}),t})(),lD=(()=>{class t{constructor(n){this._locale=n}transform(n,i,r){if(!function(t){return!(null==t||""===t||t!=t)}(n))return null;r=r||this._locale;try{return function(t,e,n){return function(t,e,n,i,r,o,a=!1){let l="",h=!1;if(isFinite(t)){let d=function(t){let i,r,o,a,l,e=Math.abs(t)+"",n=0;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(r<0&&(r=o),r+=+e.slice(o+1),e=e.substring(0,o)):r<0&&(r=e.length),o=0;"0"===e.charAt(o);o++);if(o===(l=e.length))i=[0],r=1;else{for(l--;"0"===e.charAt(l);)l--;for(r-=o,i=[],a=0;o<=l;o++,a++)i[a]=Number(e.charAt(o))}return r>22&&(i=i.splice(0,21),n=r-1,r=1),{digits:i,exponent:n,integerLen:r}}(t);a&&(d=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(d));let p=e.minInt,g=e.minFrac,y=e.maxFrac;if(o){const b=o.match(fx);if(null===b)throw new Error(`${o} is not a valid digit info`);const x=b[1],B=b[3],oe=b[5];null!=x&&(p=Kf(x)),null!=B&&(g=Kf(B)),null!=oe?y=Kf(oe):null!=B&&g>y&&(y=g)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,r=i.length-t.integerLen;const o=Math.min(Math.max(e,r),n);let a=o+t.integerLen,l=i[a];if(a>0){i.splice(Math.max(t.integerLen,a));for(let g=a;g<i.length;g++)i[g]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(let g=1;g<a;g++)i[g]=0}if(l>=5)if(a-1<0){for(let g=0;g>a;g--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);let h=0!==o;const d=e+t.integerLen,p=i.reduceRight(function(g,y,v,D){return D[v]=(y+=g)<10?y:y-10,h&&(0===D[v]&&v>=d?D.pop():h=!1),y>=10?1:0},0);p&&(i.unshift(p),t.integerLen++)}(d,g,y);let v=d.digits,D=d.integerLen;const C=d.exponent;let T=[];for(h=v.every(b=>!b);D<p;D++)v.unshift(0);for(;D<0;D++)v.unshift(0);D>0?T=v.splice(D,v.length):(T=v,v=[0]);const A=[];for(v.length>=e.lgSize&&A.unshift(v.splice(-e.lgSize,v.length).join(""));v.length>e.gSize;)A.unshift(v.splice(-e.gSize,v.length).join(""));v.length&&A.unshift(v.join("")),l=A.join(Rn(n,i)),T.length&&(l+=Rn(n,r)+T.join("")),C&&(l+=Rn(n,z.Exponential)+"+"+C)}else l=Rn(n,z.Infinity);return l=t<0&&!h?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf,l}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),r=i[0],o=i[1],a=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],l=a[0],h=a[1]||"";n.posPre=l.substr(0,l.indexOf("#"));for(let p=0;p<h.length;p++){const g=h.charAt(p);"0"===g?n.minFrac=n.maxFrac=p+1:"#"===g?n.maxFrac=p+1:n.posSuf+=g}const d=l.split(",");if(n.gSize=d[1]?d[1].length:0,n.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,o){const p=r.length-n.posPre.length-n.posSuf.length,g=o.indexOf("#");n.negPre=o.substr(0,g).replace(/'/g,""),n.negSuf=o.substr(g+p).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Gt(t)[O.NumberFormats][e]}(e,sn.Decimal),Rn(e,z.MinusSign)),e,z.Group,z.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(n),r,i)}catch(o){throw ti(t,o.message)}}}return t.\u0275fac=function(n){return new(n||t)(V(wr,16))},t.\u0275pipe=It({name:"number",type:t,pure:!0}),t})();let tR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=ln({providers:[{provide:Gl,useClass:Cx}]}),t})();let sR=(()=>{class t{}return t.\u0275prov=se({token:t,providedIn:"root",factory:()=>new oR(j(rn),window)}),t})();class oR{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const a=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=hD(this.window.history)||hD(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function hD(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class tp extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new tp,Bl||(Bl=t)}onAndCancel(e,n,i){return e.addEventListener(n,i,!1),()=>{e.removeEventListener(n,i,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(Ha=Ha||document.querySelector("base"),Ha?Ha.getAttribute("href"):null);return null==n?null:function(t){Kl=Kl||document.createElement("a"),Kl.setAttribute("href",t);const e=Kl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ha=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const i=n.indexOf("="),[r,o]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Kl,Ha=null;const dD=new be("TRANSITION_ID"),fR=[{provide:Ol,useFactory:function(t,e,n){return()=>{n.get(ho).donePromise.then(()=>{const i=Dr(),r=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[dD,rn,Wt],multi:!0}];class np{static init(){var t;t=new np,Rf=t}addToWindow(e){Ae.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Ae.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ae.getAllAngularRootElements=()=>e.getAllRootElements(),Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(i=>{const r=Ae.getAllAngularTestabilities();let o=r.length,a=!1;const l=function(h){a=a||h,o--,0==o&&i(a)};r.forEach(function(h){h.whenStable(l)})})}findTestabilityInTree(e,n,i){if(null==n)return null;const r=e.getTestability(n);return null!=r?r:i?Dr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let pR=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const Ql=new be("EventManagerPlugins");let Yl=(()=>{class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>r.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}addGlobalEventListener(n,i,r){return this._findPluginFor(i).addGlobalEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){const i=this._eventNameToPlugin.get(n);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const a=r[o];if(a.supports(n))return this._eventNameToPlugin.set(n,a),a}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(j(Ql),j(tt))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();class fD{constructor(e){this._doc=e}addGlobalEventListener(e,n,i){const r=Dr().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${n}`);return this.addEventListener(r,n,i)}}let pD=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const i=new Set;n.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})(),Ua=(()=>{class t extends pD{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,i,r){n.forEach(o=>{const a=this._doc.createElement("style");a.textContent=o,r.push(i.appendChild(a))})}addHost(n){const i=[];this._addStylesToHost(this._stylesSet,n,i),this._hostNodes.set(n,i)}removeHost(n){const i=this._hostNodes.get(n);i&&i.forEach(mD),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(n,r,i)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(mD))}}return t.\u0275fac=function(n){return new(n||t)(j(rn))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();function mD(t){Dr().remove(t)}const ip={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rp=/%COMP%/g;function Jl(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Jl(t,r,n):(r=r.replace(rp,t),n.push(r))}return n}function yD(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Xl=(()=>{class t{constructor(n,i,r){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new sp(n)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;switch(i.encapsulation){case Vt.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new wR(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(n),r}case 1:case Vt.ShadowDom:return new DR(this.eventManager,this.sharedStylesHost,n,i);default:if(!this.rendererByCompId.has(i.id)){const r=Jl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(j(Yl),j(Ua),j(Fa))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();class sp{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(ip[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,i){e&&e.insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;const o=ip[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){const r=ip[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(pn.DashCase|pn.Important)?e.style.setProperty(n,i,r&pn.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&pn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e[n]=i}setValue(e,n){e.nodeValue=n}listen(e,n,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,yD(i)):this.eventManager.addEventListener(e,n,yD(i))}}class wR extends sp{constructor(e,n,i,r){super(e),this.component=i;const o=Jl(r+"-"+i.id,i.styles,[]);n.addStyles(o),this.contentAttr="_ngcontent-%COMP%".replace(rp,r+"-"+i.id),this.hostAttr="_nghost-%COMP%".replace(rp,r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}}class DR extends sp{constructor(e,n,i,r){super(e),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Jl(r.id,r.styles,[]);for(let a=0;a<o.length;a++){const l=document.createElement("style");l.textContent=o[a],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ER=(()=>{class t extends fD{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}}return t.\u0275fac=function(n){return new(n||t)(j(rn))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const wD=["alt","control","meta","shift"],bR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DD={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},SR={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let TR=(()=>{class t extends fD{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,i,r){const o=t.parseEventName(i),a=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dr().onAndCancel(n,o.domEventName,a))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=t._normalizeKey(i.pop());let a="";if(wD.forEach(h=>{const d=i.indexOf(h);d>-1&&(i.splice(d,1),a+=h+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=a,l}static getEventFullKey(n){let i="",r=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&DD.hasOwnProperty(e)&&(e=DD[e]))}return bR[e]||e}(n);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),wD.forEach(o=>{o!=r&&SR[o](n)&&(i+=o+".")}),i+=r,i}static eventCallback(n,i,r){return o=>{t.getEventFullKey(o)===n&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(j(rn))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const xR=Mw(bI,"browser",[{provide:Mf,useValue:"browser"},{provide:yw,useValue:function(){tp.makeCurrent(),np.init()},multi:!0},{provide:rn,useFactory:function(){return t=document,Ss=t,document;var t},deps:[]}]),RR=[{provide:Fd,useValue:"root"},{provide:Bs,useFactory:function(){return new Bs},deps:[]},{provide:Ql,useClass:ER,multi:!0,deps:[rn,tt,Mf]},{provide:Ql,useClass:TR,multi:!0,deps:[rn]},{provide:Xl,useClass:Xl,deps:[Yl,Ua,Fa]},{provide:xa,useExisting:Xl},{provide:pD,useExisting:Ua},{provide:Ua,useClass:Ua,deps:[rn]},{provide:xf,useClass:xf,deps:[tt]},{provide:Yl,useClass:Yl,deps:[Ql,tt]},{provide:class{},useClass:pR,deps:[]}];let ED=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Fa,useValue:n.appId},{provide:dD,useExisting:Fa},fR]}}}return t.\u0275fac=function(n){return new(n||t)(j(t,12))},t.\u0275mod=Xt({type:t}),t.\u0275inj=ln({providers:RR,imports:[tR,xI]}),t})();function le(...t){return dt(t,rr(t))}"undefined"!=typeof window&&window;class ni extends Se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:zR}=Array,{getPrototypeOf:$R,prototype:ZR,keys:qR}=Object;const{isArray:KR}=Array;function XR(...t){const e=rr(t),n=function(t){return Le(ds(t))?t.pop():void 0}(t),{args:i,keys:r}=function(t){if(1===t.length){const e=t[0];if(zR(e))return{args:e,keys:null};if(function(t){return t&&"object"==typeof t&&$R(t)===ZR}(e)){const n=qR(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}(t);if(0===i.length)return dt([],e);const o=new ye(function(t,e,n=Ii){return i=>{SD(e,()=>{const{length:r}=t,o=new Array(r);let a=r,l=r;for(let h=0;h<r;h++)SD(e,()=>{const d=dt(t[h],e);let p=!1;d.subscribe(new Q(i,g=>{o[h]=g,p||(p=!0,l--),l||i.next(n(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,e,r?a=>function(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}(r,a):Ii));return n?o.pipe(function(t){return U(e=>function(t,e){return KR(e)?t(...e):t(e)}(t,e))}(n)):o}function SD(t,e,n){t?Bn(n,t,e):e()}const ec=Pe(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ap(...t){return Pt(1)(dt(t,rr(t)))}function TD(t){return new ye(e=>{kn(t()).subscribe(e)})}function MD(){return ve((t,e)=>{let n=null;t._refCount++;const i=new Q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}class nL extends ye{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ct(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new kt;const n=this.getSubject();e.add(this.source.subscribe(new Q(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=kt.EMPTY)}return e}refCount(){return MD()(this)}}function qr(t,e){return ve((n,i)=>{let r=null,o=0,a=!1;const l=()=>a&&!r&&i.complete();n.subscribe(new Q(i,h=>{null==r||r.unsubscribe();let d=0;const p=o++;kn(t(h,p)).subscribe(r=new Q(i,g=>i.next(e?e(h,g,p,d++):g),()=>{r=null,l()}))},()=>{a=!0,l()}))})}function rL(t,e,n,i,r){return(o,a)=>{let l=n,h=e,d=0;o.subscribe(new Q(a,p=>{const g=d++;h=l?t(h,p,g):(l=!0,p),i&&a.next(h)},r&&(()=>{l&&a.next(h),a.complete()})))}}function AD(t,e){return ve(rL(t,e,arguments.length>=2,!0))}function mo(t,e){return ve((n,i)=>{let r=0;n.subscribe(new Q(i,o=>t.call(e,o,r++)&&i.next(o)))})}function Cr(t){return ve((e,n)=>{let o,i=null,r=!1;i=e.subscribe(new Q(n,void 0,void 0,a=>{o=kn(t(a,Cr(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function za(t,e){return Le(e)?it(t,e,1):it(t,1)}function up(t){return t<=0?()=>k:ve((e,n)=>{let i=[];e.subscribe(new Q(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(const r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function PD(t=sL){return ve((e,n)=>{let i=!1;e.subscribe(new Q(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function sL(){return new ec}function ID(t){return ve((e,n)=>{let i=!1;e.subscribe(new Q(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function go(t,e){const n=arguments.length>=2;return i=>i.pipe(t?mo((r,o)=>t(r,o,i)):Ii,ps(1),n?ID(e):PD(()=>new ec))}function gn(t,e,n){const i=Le(t)||e||n?{next:t,error:e,complete:n}:t;return i?ve((r,o)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let l=!0;r.subscribe(new Q(o,h=>{var d;null===(d=i.next)||void 0===d||d.call(i,h),o.next(h)},()=>{var h;l=!1,null===(h=i.complete)||void 0===h||h.call(i),o.complete()},h=>{var d;l=!1,null===(d=i.error)||void 0===d||d.call(i,h),o.error(h)},()=>{var h,d;l&&(null===(h=i.unsubscribe)||void 0===h||h.call(i)),null===(d=i.finalize)||void 0===d||d.call(i)}))}):Ii}class Ki{constructor(e,n){this.id=e,this.url=n}}class lp extends Ki{constructor(e,n,i="imperative",r=null){super(e,n),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $a extends Ki{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xD extends Ki{constructor(e,n,i){super(e,n),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class uL extends Ki{constructor(e,n,i){super(e,n),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lL extends Ki{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cL extends Ki{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hL extends Ki{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dL extends Ki{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fL extends Ki{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RD{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class LD{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pL{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mL{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gL{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _L{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ND{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pe="primary";class yL{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function _o(t){return new yL(t)}const OD="ngNavigationCancelingError";function cp(t){const e=Error("NavigationCancelingError: "+t);return e[OD]=!0,e}function wL(t,e,n){const i=n.path.split("/");if(i.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const a=i[o],l=t[o];if(a.startsWith(":"))r[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Si(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!FD(t[r],e[r]))return!1;return!0}function FD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}return t===e}function kD(t){return Array.prototype.concat.apply([],t)}function BD(t){return t.length>0?t[t.length-1]:null}function Tt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ti(t){return dy(t)?t:vl(t)?dt(Promise.resolve(t)):le(t)}const CL={exact:function HD(t,e,n){if(!Gr(t.segments,e.segments)||!tc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!t.children[i]||!HD(t.children[i],e.children[i],n))return!1;return!0},subset:UD},VD={exact:function(t,e){return Si(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>FD(t[n],e[n]))},ignored:()=>!0};function jD(t,e,n){return CL[n.paths](t.root,e.root,n.matrixParams)&&VD[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function UD(t,e,n){return zD(t,e,e.segments,n)}function zD(t,e,n,i){if(t.segments.length>n.length){const r=t.segments.slice(0,n.length);return!(!Gr(r,n)||e.hasChildren()||!tc(r,n,i))}if(t.segments.length===n.length){if(!Gr(t.segments,n)||!tc(t.segments,n,i))return!1;for(const r in e.children)if(!t.children[r]||!UD(t.children[r],e.children[r],i))return!1;return!0}{const r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Gr(t.segments,r)&&tc(t.segments,r,i)&&t.children[pe])&&zD(t.children[pe],e,o,i)}}function tc(t,e,n){return e.every((i,r)=>VD[n](t[r].parameters,i.parameters))}class Wr{constructor(e,n,i){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_o(this.queryParams)),this._queryParamMap}toString(){return AL.serialize(this)}}class we{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Tt(n,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nc(this)}}class Za{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=_o(this.parameters)),this._parameterMap}toString(){return GD(this)}}function Gr(t,e){return t.length===e.length&&t.every((n,i)=>n.path===e[i].path)}class $D{}class ZD{parse(e){const n=new kL(e);return new Wr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${qa(e.root,!0)}`,i=function(t){const e=Object.keys(t).map(n=>{const i=t[n];return Array.isArray(i)?i.map(r=>`${ic(n)}=${ic(r)}`).join("&"):`${ic(n)}=${ic(i)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);var t;return`${n}${i}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const AL=new ZD;function nc(t){return t.segments.map(e=>GD(e)).join("/")}function qa(t,e){if(!t.hasChildren())return nc(t);if(e){const n=t.children[pe]?qa(t.children[pe],!1):"",i=[];return Tt(t.children,(r,o)=>{o!==pe&&i.push(`${o}:${qa(r,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function(t,e){let n=[];return Tt(t.children,(i,r)=>{r===pe&&(n=n.concat(e(i,r)))}),Tt(t.children,(i,r)=>{r!==pe&&(n=n.concat(e(i,r)))}),n}(t,(i,r)=>r===pe?[qa(t.children[pe],!1)]:[`${r}:${qa(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[pe]?`${nc(t)}/${n[0]}`:`${nc(t)}/(${n.join("//")})`}}function qD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ic(t){return qD(t).replace(/%3B/gi,";")}function hp(t){return qD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rc(t){return decodeURIComponent(t)}function WD(t){return rc(t.replace(/\+/g,"%20"))}function GD(t){return`${hp(t.path)}${function(t){return Object.keys(t).map(e=>`;${hp(e)}=${hp(t[e])}`).join("")}(t.parameters)}`}const RL=/^[^\/()?;=#]+/;function sc(t){const e=t.match(RL);return e?e[0]:""}const LL=/^[^=?&#]+/,OL=/^[^&#]+/;class kL{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[pe]=new we(e,n)),i}parseSegment(){const e=sc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Za(rc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=sc(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=sc(this.remaining);r&&(i=r,this.capture(i))}e[rc(n)]=rc(i)}parseQueryParam(e){const n=function(t){const e=t.match(LL);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const a=function(t){const e=t.match(OL);return e?e[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=WD(n),o=WD(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(o)}else e[r]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=sc(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=pe);const a=this.parseChildren();n[o]=1===Object.keys(a).length?a[pe]:new we([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class KD{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=dp(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){const n=dp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=fp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return fp(e,this._root).map(n=>n.value)}}function dp(t,e){if(t===e.value)return e;for(const n of e.children){const i=dp(t,n);if(i)return i}return null}function fp(t,e){if(t===e.value)return[e];for(const n of e.children){const i=fp(t,n);if(i.length)return i.unshift(e),i}return[]}class Qi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function yo(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class QD extends KD{constructor(e,n){super(e),this.snapshot=n,pp(this,e)}toString(){return this.snapshot.toString()}}function YD(t,e){const n=function(t,e){const a=new oc([],{},{},"",{},pe,e,null,t.root,-1,{});return new XD("",new Qi(a,[]))}(t,e),i=new ni([new Za("",{})]),r=new ni({}),o=new ni({}),a=new ni({}),l=new ni(""),h=new Kr(i,r,a,l,o,pe,e,n.root);return h.snapshot=n.root,new QD(new Qi(h,[]),n)}class Kr{constructor(e,n,i,r,o,a,l,h){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=l,this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(U(e=>_o(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(U(e=>_o(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function JD(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function(t){return t.reduce((e,n)=>({params:$($({},e.params),n.params),data:$($({},e.data),n.data),resolve:$($({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class oc{constructor(e,n,i,r,o,a,l,h,d,p,g){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=l,this.routeConfig=h,this._urlSegment=d,this._lastPathIndex=p,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_o(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_o(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class XD extends KD{constructor(e,n){super(n),this.url=e,pp(this,n)}toString(){return eE(this._root)}}function pp(t,e){e.value._routerState=t,e.children.forEach(n=>pp(t,n))}function eE(t){const e=t.children.length>0?` { ${t.children.map(eE).join(", ")} } `:"";return`${t.value}${e}`}function mp(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Si(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Si(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Si(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Si(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function gp(t,e){const n=Si(t.params,e.params)&&function(t,e){return Gr(t,e)&&t.every((n,i)=>Si(n.parameters,e[i].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||gp(t.parent,e.parent))}function Wa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(i=>{for(const r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Wa(t,i,r);return Wa(t,i)})}(t,e,n);return new Qi(i,r)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(l=>Wa(t,l)),a}}const i=function(t){return new Kr(new ni(t.url),new ni(t.params),new ni(t.queryParams),new ni(t.fragment),new ni(t.data),t.outlet,t.component,t)}(e.value),r=e.children.map(o=>Wa(t,o));return new Qi(i,r)}}function ac(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ga(t){return"object"==typeof t&&null!=t&&t.outlets}function _p(t,e,n,i,r){let o={};return i&&Tt(i,(a,l)=>{o[l]=Array.isArray(a)?a.map(h=>`${h}`):`${a}`}),new Wr(n.root===t?e:tE(n.root,t,e),o,r)}function tE(t,e,n){const i={};return Tt(t.children,(r,o)=>{i[o]=r===e?n:tE(r,e,n)}),new we(t.segments,i)}class nE{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&ac(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Ga);if(r&&r!==BD(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yp{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}}function iE(t,e,n){if(t||(t=new we([],{})),0===t.segments.length&&t.hasChildren())return uc(t,e,n);const i=function(t,e,n){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;const a=t.segments[r],l=n[i];if(Ga(l))break;const h=`${l}`,d=i<n.length-1?n[i+1]:null;if(r>0&&void 0===h)break;if(h&&d&&"object"==typeof d&&void 0===d.outlets){if(!sE(h,d,a))return o;i+=2}else{if(!sE(h,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const o=new we(t.segments.slice(0,i.pathIndex),{});return o.children[pe]=new we(t.segments.slice(i.pathIndex),t.children),uc(o,0,r)}return i.match&&0===r.length?new we(t.segments,{}):i.match&&!t.hasChildren()?vp(t,e,n):i.match?uc(t,0,r):vp(t,e,n)}function uc(t,e,n){if(0===n.length)return new we(t.segments,{});{const i=function(t){return Ga(t[0])?t[0].outlets:{[pe]:t}}(n),r={};return Tt(i,(o,a)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[a]=iE(t.children[a],e,o))}),Tt(t.children,(o,a)=>{void 0===i[a]&&(r[a]=o)}),new we(t.segments,r)}}function vp(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const o=n[r];if(Ga(o)){const h=KL(o.outlets);return new we(i,h)}if(0===r&&ac(n[0])){i.push(new Za(t.segments[e].path,rE(n[0]))),r++;continue}const a=Ga(o)?o.outlets[pe]:`${o}`,l=r<n.length-1?n[r+1]:null;a&&l&&ac(l)?(i.push(new Za(a,rE(l))),r+=2):(i.push(new Za(a,{})),r++)}return new we(i,{})}function KL(t){const e={};return Tt(t,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[i]=vp(new we([],{}),0,n))}),e}function rE(t){const e={};return Tt(t,(n,i)=>e[i]=`${n}`),e}function sE(t,e,n){return t==n.path&&Si(e,n.parameters)}class YL{constructor(e,n,i,r){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r}activate(e){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),mp(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){const r=yo(n);e.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Tt(r,(o,a)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){const r=e.value,o=n?n.value:null;if(r===o)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=yo(e);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);if(i&&i.outlet){const a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,n){const i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=yo(e);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,n,i){const r=yo(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new _L(o.value.snapshot))}),e.children.length&&this.forwardEvent(new mL(e.value.snapshot))}activateRoutes(e,n,i){const r=e.value,o=n?n.value:null;if(mp(r),r===o)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),mp(l.route.value),this.activateChildRoutes(e,null,a.children)}else{const l=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),h=l?l.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=h,a.outlet&&a.outlet.activateWith(r,h),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}}class wp{constructor(e,n){this.routes=e,this.module=n}}function br(t){return"function"==typeof t}function Qr(t){return t instanceof Wr}const Ka=Symbol("INITIAL_VALUE");function Qa(){return qr(t=>XR(t.map(e=>e.pipe(ps(1),function(...t){const e=rr(t);return ve((n,i)=>{(e?ap(t,n,e):ap(t,n)).subscribe(i)})}(Ka)))).pipe(AD((e,n)=>{let i=!1;return n.reduce((r,o,a)=>r!==Ka?r:(o===Ka&&(i=!0),i||!1!==o&&a!==n.length-1&&!Qr(o)?r:o),e)},Ka),mo(e=>e!==Ka),U(e=>Qr(e)?e:!0===e),ps(1)))}class r1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ya,this.attachRef=null}}class Ya{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const i=this.getOrCreateContext(e);i.outlet=n,this.contexts.set(e,i)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new r1,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let Dp=(()=>{class t{constructor(n,i,r,o,a){this.parentContexts=n,this.location=i,this.resolver=r,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new Kt,this.deactivateEvents=new Kt,this.attachEvents=new Kt,this.detachEvents=new Kt,this.name=o||pe,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const a=(i=i||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),l=this.parentContexts.getOrCreateContext(this.name).children,h=new s1(n,l,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,h),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(V(Ya),V(Jn),V(oo),function(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const i=n.length;let r=0;for(;r<i;){const o=n[r];if(Lm(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(o===e)return n[r+1];r+=2}}}return null}(et(),t)}("name"),V(Nf))},t.\u0275dir=ft({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class s1{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Kr?this.route:e===Ya?this.childContexts:this.parent.get(e,n)}}let oE=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Oi({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,i){1&n&&xn(0,"router-outlet")},directives:[Dp],encapsulation:2}),t})();function aE(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];o1(i,a1(e,i))}}function o1(t,e){t.children&&aE(t.children,e)}function a1(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ep(t){const e=t.children&&t.children.map(Ep),n=e?on($({},t),{children:e}):$({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==pe&&(n.component=oE),n}function Nn(t){return t.outlet||pe}function uE(t,e){const n=t.filter(i=>Nn(i)===e);return n.push(...t.filter(i=>Nn(i)!==e)),n}const lE={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function lc(t,e,n){var l;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?$({},lE):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||wL)(n,t,e);if(!r)return $({},lE);const o={};Tt(r.posParams,(h,d)=>{o[d]=h.path});const a=r.consumed.length>0?$($({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a,positionalParamSegments:null!=(l=r.posParams)?l:{}}}function cc(t,e,n,i,r="corrected"){if(n.length>0&&function(t,e,n){return n.some(i=>hc(t,e,i)&&Nn(i)!==pe)}(t,n,i)){const a=new we(e,function(t,e,n,i){const r={};r[pe]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Nn(o)!==pe){const a=new we([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,r[Nn(o)]=a}return r}(t,e,i,new we(n,t.children)));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(i=>hc(t,e,i))}(t,n,i)){const a=new we(t.segments,function(t,e,n,i,r,o){const a={};for(const l of i)if(hc(t,n,l)&&!r[Nn(l)]){const h=new we([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===o?t.segments.length:e.length,a[Nn(l)]=h}return $($({},r),a)}(t,e,n,i,t.children,r));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}const o=new we(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function hc(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function cE(t,e,n,i){return!!(Nn(t)===i||i!==pe&&hc(e,n,t))&&("**"===t.path||lc(e,t,n).matched)}function hE(t,e,n){return 0===e.length&&!t.children[n]}class Ja{constructor(e){this.segmentGroup=e||null}}class dE{constructor(e){this.urlTree=e}}function dc(t){return new ye(e=>e.error(new Ja(t)))}function fE(t){return new ye(e=>e.error(new dE(t)))}function d1(t){return new ye(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class m1{constructor(e,n,i,r,o){this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(Zi)}apply(){const e=cc(this.urlTree.root,[],[],this.config).segmentGroup,n=new we(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,pe).pipe(U(o=>this.createUrlTree(Cp(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cr(o=>{if(o instanceof dE)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Ja?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,pe).pipe(U(r=>this.createUrlTree(Cp(r),e.queryParams,e.fragment))).pipe(Cr(r=>{throw r instanceof Ja?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,i){const r=e.segments.length>0?new we([],{[pe]:e}):e;return new Wr(r,n,i)}expandSegmentGroup(e,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,n,i).pipe(U(o=>new we([],o))):this.expandSegment(e,i,n,i.segments,r,!0)}expandChildren(e,n,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return dt(r).pipe(za(o=>{const a=i.children[o],l=uE(n,o);return this.expandSegmentGroup(e,l,a,o).pipe(U(h=>({segment:h,outlet:o})))}),AD((o,a)=>(o[a.outlet]=a.segment,o),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?mo((r,o)=>t(r,o,i)):Ii,up(1),n?ID(e):PD(()=>new ec))}())}expandSegment(e,n,i,r,o,a){return dt(i).pipe(za(l=>this.expandSegmentAgainstRoute(e,n,i,l,r,o,a).pipe(Cr(d=>{if(d instanceof Ja)return le(null);throw d}))),go(l=>!!l),Cr((l,h)=>{if(l instanceof ec||"EmptyError"===l.name){if(hE(n,r,o))return le(new we([],{}));throw new Ja(n)}throw l}))}expandSegmentAgainstRoute(e,n,i,r,o,a,l){return cE(r,n,o,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,n,r,o,a):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,a):dc(n):dc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,r,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?fE(o):this.lineralizeSegments(i,o).pipe(it(a=>{const l=new we(a,{});return this.expandSegment(e,l,n,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,r,o,a){const{matched:l,consumedSegments:h,lastChild:d,positionalParamSegments:p}=lc(n,r,o);if(!l)return dc(n);const g=this.applyRedirectCommands(h,r.redirectTo,p);return r.redirectTo.startsWith("/")?fE(g):this.lineralizeSegments(r,g).pipe(it(y=>this.expandSegment(e,n,i,y.concat(o.slice(d)),a,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?le(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(U(y=>(i._loadedConfig=y,new we(r,{})))):le(new we(r,{}));const{matched:a,consumedSegments:l,lastChild:h}=lc(n,i,r);if(!a)return dc(n);const d=r.slice(h);return this.getChildConfig(e,i,r).pipe(it(g=>{const y=g.module,v=g.routes,{segmentGroup:D,slicedSegments:C}=cc(n,l,d,v),T=new we(D.segments,D.children);if(0===C.length&&T.hasChildren())return this.expandChildren(y,v,T).pipe(U(B=>new we(l,B)));if(0===v.length&&0===C.length)return le(new we(l,{}));const A=Nn(i)===o;return this.expandSegment(y,T,v,C,A?pe:o,!0).pipe(U(x=>new we(l.concat(x.segments),x.children)))}))}getChildConfig(e,n,i){return n.children?le(new wp(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?le(n._loadedConfig):this.runCanLoadGuards(e.injector,n,i).pipe(it(r=>{return r?this.configLoader.load(e.injector,n).pipe(U(o=>(n._loadedConfig=o,o))):(t=n,new ye(e=>e.error(cp(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):le(new wp([],e))}runCanLoadGuards(e,n,i){const r=n.canLoad;return r&&0!==r.length?le(r.map(a=>{const l=e.get(a);let h;if((t=l)&&br(t.canLoad))h=l.canLoad(n,i);else{if(!br(l))throw new Error("Invalid CanLoad guard");h=l(n,i)}var t;return Ti(h)})).pipe(Qa(),gn(a=>{if(!Qr(a))return;const l=cp(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw l.url=a,l}),U(a=>!0===a)):le(!0)}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return le(i);if(r.numberOfChildren>1||!r.children[pe])return d1(e.redirectTo);r=r.children[pe]}}applyRedirectCommands(e,n,i){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,i)}applyRedirectCreatreUrlTree(e,n,i,r){const o=this.createSegmentGroup(e,n.root,i,r);return new Wr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const i={};return Tt(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const l=r.substring(1);i[o]=n[l]}else i[o]=r}),i}createSegmentGroup(e,n,i,r){const o=this.createSegments(e,n.segments,i,r);let a={};return Tt(n.children,(l,h)=>{a[h]=this.createSegmentGroup(e,l,i,r)}),new we(o,a)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){const r=i[n.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return r}findOrReturn(e,n){let i=0;for(const r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}}function Cp(t){const e={};for(const i of Object.keys(t.children)){const o=Cp(t.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children[pe]){const e=t.children[pe];return new we(t.segments.concat(e.segments),e.children)}return t}(new we(t.segments,e))}class pE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class fc{constructor(e,n){this.component=e,this.route=n}}function y1(t,e,n){const i=t._root;return Xa(i,e?e._root:null,n,[i.value])}function pc(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Xa(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=yo(e);return t.children.forEach(a=>{(function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,a=e?e.value:null,l=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const h=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Gr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Gr(t.url,e.url)||!Si(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gp(t,e)||!Si(t.queryParams,e.queryParams);default:return!gp(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new pE(i)):(o.data=a.data,o._resolvedData=a._resolvedData),Xa(t,e,o.component?l?l.children:null:n,i,r),h&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new fc(l.outlet.component,a))}else a&&eu(e,l,r),r.canActivateChecks.push(new pE(i)),Xa(t,null,o.component?l?l.children:null:n,i,r)})(a,o[a.value.outlet],n,i.concat([a.value]),r),delete o[a.value.outlet]}),Tt(o,(a,l)=>eu(a,n.getContext(l),r)),r}function eu(t,e,n){const i=yo(t),r=t.value;Tt(i,(o,a)=>{eu(o,r.component?e?e.children.getContext(a):null:e,n)}),n.canDeactivateChecks.push(new fc(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class x1{}function mE(t){return new ye(e=>e.error(t))}class L1{constructor(e,n,i,r,o,a){this.rootComponentType=e,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}recognize(){const e=cc(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,pe);if(null===n)return null;const i=new oc([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,{},pe,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Qi(i,n),o=new XD(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(e){const n=e.value,i=JD(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,i)}processChildren(e,n){const i=[];for(const o of Object.keys(n.children)){const a=n.children[o],l=uE(e,o),h=this.processSegmentGroup(l,a,o);if(null===h)return null;i.push(...h)}const r=gE(i);return r.sort((e,n)=>e.value.outlet===pe?-1:n.value.outlet===pe?1:e.value.outlet.localeCompare(n.value.outlet)),r}processSegment(e,n,i,r){for(const o of e){const a=this.processSegmentAgainstRoute(o,n,i,r);if(null!==a)return a}return hE(n,i,r)?[]:null}processSegmentAgainstRoute(e,n,i,r){if(e.redirectTo||!cE(e,n,i,r))return null;let o,a=[],l=[];if("**"===e.path){const v=i.length>0?BD(i).parameters:{};o=new oc(i,v,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,vE(e),Nn(e),e.component,e,_E(n),yE(n)+i.length,wE(e))}else{const v=lc(n,e,i);if(!v.matched)return null;a=v.consumedSegments,l=i.slice(v.lastChild),o=new oc(a,v.parameters,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,vE(e),Nn(e),e.component,e,_E(n),yE(n)+a.length,wE(e))}const h=(t=e).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:d,slicedSegments:p}=cc(n,a,l,h.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution);var t;if(0===p.length&&d.hasChildren()){const v=this.processChildren(h,d);return null===v?null:[new Qi(o,v)]}if(0===h.length&&0===p.length)return[new Qi(o,[])];const g=Nn(e)===r,y=this.processSegment(h,d,p,g?pe:r);return null===y?null:[new Qi(o,y)]}}function F1(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function gE(t){const e=[],n=new Set;for(const i of t){if(!F1(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):e.push(i)}for(const i of n){const r=gE(i.children);e.push(new Qi(i.value,r))}return e.filter(i=>!n.has(i))}function _E(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function yE(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function vE(t){return t.data||{}}function wE(t){return t.resolve||{}}function bp(t){return qr(e=>{const n=t(e);return n?dt(n).pipe(U(()=>e)):le(e)})}class $1 extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Sp=new be("ROUTES");class DE{constructor(e,n,i,r){this.injector=e,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const r=this.loadModuleFactory(n.loadChildren).pipe(U(o=>{this.onLoadEndListener&&this.onLoadEndListener(n);const a=o.create(e);return new wp(kD(a.injector.get(Sp,void 0,J.Self|J.Optional)).map(Ep),a)}),Cr(o=>{throw n._loader$=void 0,o}));return n._loader$=new nL(r,()=>new Se).pipe(MD()),n._loader$}loadModuleFactory(e){return Ti(e()).pipe(it(n=>n instanceof Fv?le(n):dt(this.compiler.compileModuleAsync(n))))}}class q1{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function W1(t){throw t}function G1(t,e,n){return e.parse("/")}function EE(t,e){return le(null)}const K1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Q1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _n=(()=>{class t{constructor(n,i,r,o,a,l,h){this.rootComponentType=n,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Se,this.errorHandler=W1,this.malformedUriErrorHandler=G1,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:EE,afterPreactivation:EE},this.urlHandlingStrategy=new q1,this.routeReuseStrategy=new $1,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(Zi),this.console=a.get(ww);const g=a.get(tt);this.isNgZoneEnabled=g instanceof tt&&tt.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=new Wr(new we([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new DE(a,l,y=>this.triggerEvent(new RD(y)),y=>this.triggerEvent(new LD(y))),this.routerState=YD(this.currentUrlTree,this.rootComponentType),this.transitions=new ni({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null==(n=this.location.getState())?void 0:n.\u0275routerPageId}setupNavigations(n){const i=this.events;return n.pipe(mo(r=>0!==r.id),U(r=>on($({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),qr(r=>{let o=!1,a=!1;return le(r).pipe(gn(l=>{this.currentNavigation={id:l.id,initialUrl:l.currentRawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?on($({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),qr(l=>{const h=this.browserUrlTree.toString(),d=!this.navigated||l.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||d)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return mc(l.source)&&(this.browserUrlTree=l.extractedUrl),le(l).pipe(qr(g=>{const y=this.transitions.getValue();return i.next(new lp(g.id,this.serializeUrl(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions.getValue()?k:Promise.resolve(g)}),function(t,e,n,i){return qr(r=>function(t,e,n,i,r){return new m1(t,e,n,i,r).apply()}(t,e,n,r.extractedUrl,i).pipe(U(o=>on($({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),gn(g=>{this.currentNavigation=on($({},this.currentNavigation),{finalUrl:g.urlAfterRedirects})}),function(t,e,n,i,r){return it(o=>function(t,e,n,i,r="emptyOnly",o="legacy"){try{const a=new L1(t,e,n,i,r,o).recognize();return null===a?mE(new x1):le(a)}catch(a){return mE(a)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),i,r).pipe(U(a=>on($({},o),{targetSnapshot:a}))))}(this.rootComponentType,this.config,g=>this.serializeUrl(g),this.paramsInheritanceStrategy,this.relativeLinkResolution),gn(g=>{if("eager"===this.urlUpdateStrategy){if(!g.extras.skipLocationChange){const v=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);this.setBrowserUrl(v,g)}this.browserUrlTree=g.urlAfterRedirects}const y=new lL(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);i.next(y)}));if(d&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:y,extractedUrl:v,source:D,restoredState:C,extras:T}=l,A=new lp(y,this.serializeUrl(v),D,C);i.next(A);const b=YD(v,this.rootComponentType).snapshot;return le(on($({},l),{targetSnapshot:b,urlAfterRedirects:v,extras:on($({},T),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=l.rawUrl,l.resolve(null),k}),bp(l=>{const{targetSnapshot:h,id:d,extractedUrl:p,rawUrl:g,extras:{skipLocationChange:y,replaceUrl:v}}=l;return this.hooks.beforePreactivation(h,{navigationId:d,appliedUrlTree:p,rawUrlTree:g,skipLocationChange:!!y,replaceUrl:!!v})}),gn(l=>{const h=new cL(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(h)}),U(l=>on($({},l),{guards:y1(l.targetSnapshot,l.currentSnapshot,this.rootContexts)})),function(t,e){return it(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return 0===a.length&&0===o.length?le(on($({},n),{guardsResult:!0})):function(t,e,n,i){return dt(t).pipe(it(r=>function(t,e,n,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?le(o.map(l=>{const h=pc(l,e,r);let d;if(function(t){return t&&br(t.canDeactivate)}(h))d=Ti(h.canDeactivate(t,e,n,i));else{if(!br(h))throw new Error("Invalid CanDeactivate guard");d=Ti(h(t,e,n,i))}return d.pipe(go())})).pipe(Qa()):le(!0)}(r.component,r.route,n,e,i)),go(r=>!0!==r,!0))}(a,i,r,t).pipe(it(l=>l&&function(t){return"boolean"==typeof t}(l)?function(t,e,n,i){return dt(e).pipe(za(r=>ap(function(t,e){return null!==t&&e&&e(new pL(t)),le(!0)}(r.route.parent,i),function(t,e){return null!==t&&e&&e(new gL(t)),le(!0)}(r.route,i),function(t,e,n){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(a)).filter(a=>null!==a).map(a=>TD(()=>le(a.guards.map(h=>{const d=pc(h,a.node,n);let p;if(function(t){return t&&br(t.canActivateChild)}(d))p=Ti(d.canActivateChild(i,t));else{if(!br(d))throw new Error("Invalid CanActivateChild guard");p=Ti(d(i,t))}return p.pipe(go())})).pipe(Qa())));return le(o).pipe(Qa())}(t,r.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return le(!0);const r=i.map(o=>TD(()=>{const a=pc(o,e,n);let l;if(function(t){return t&&br(t.canActivate)}(a))l=Ti(a.canActivate(e,t));else{if(!br(a))throw new Error("Invalid CanActivate guard");l=Ti(a(e,t))}return l.pipe(go())}));return le(r).pipe(Qa())}(t,r.route,n))),go(r=>!0!==r,!0))}(i,o,t,e):le(l)),U(l=>on($({},n),{guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),gn(l=>{if(Qr(l.guardsResult)){const d=cp(`Redirecting to "${this.serializeUrl(l.guardsResult)}"`);throw d.url=l.guardsResult,d}const h=new hL(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(h)}),mo(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,""),!1)),bp(l=>{if(l.guards.canActivateChecks.length)return le(l).pipe(gn(h=>{const d=new dL(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(d)}),qr(h=>{let d=!1;return le(h).pipe(function(t,e){return it(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return le(n);let o=0;return dt(r).pipe(za(a=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return le({});const o={};return dt(r).pipe(it(a=>function(t,e,n,i){const r=pc(t,e,i);return Ti(r.resolve?r.resolve(e,n):r(e,n))}(t[a],e,n,i).pipe(gn(l=>{o[a]=l}))),up(1),it(()=>Object.keys(o).length===r.length?le(o):k))}(t._resolve,t,e,i).pipe(U(o=>(t._resolvedData=o,t.data=$($({},t.data),JD(t,n).resolve),null)))}(a.route,i,t,e)),gn(()=>o++),up(1),it(a=>o===r.length?le(n):k))})}(this.paramsInheritanceStrategy,this.ngModule.injector),gn({next:()=>d=!0,complete:()=>{d||(this.restoreHistory(h),this.cancelNavigationTransition(h,"At least one route resolver didn't emit any value."))}}))}),gn(h=>{const d=new fL(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(d)}))}),bp(l=>{const{targetSnapshot:h,id:d,extractedUrl:p,rawUrl:g,extras:{skipLocationChange:y,replaceUrl:v}}=l;return this.hooks.afterPreactivation(h,{navigationId:d,appliedUrlTree:p,rawUrlTree:g,skipLocationChange:!!y,replaceUrl:!!v})}),U(l=>{const h=function(t,e,n){const i=Wa(t,e._root,n?n._root:void 0);return new QD(i,e)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return on($({},l),{targetRouterState:h})}),gn(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((t,e,n)=>U(i=>(new YL(e,i.targetRouterState,i.currentRouterState,n).activate(t),i)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),gn({next(){o=!0},complete(){o=!0}}),function(t){return ve((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var l;o||a||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null==(l=this.currentNavigation)?void 0:l.id)===r.id&&(this.currentNavigation=null)}),Cr(l=>{if(a=!0,function(t){return t&&t[OD]}(l)){const h=Qr(l.url);h||(this.navigated=!0,this.restoreHistory(r,!0));const d=new xD(r.id,this.serializeUrl(r.extractedUrl),l.message);i.next(d),h?setTimeout(()=>{const p=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),g={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mc(r.source)};this.scheduleNavigation(p,"imperative",null,g,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const h=new uL(r.id,this.serializeUrl(r.extractedUrl),l);i.next(h);try{r.resolve(this.errorHandler(l))}catch(d){r.reject(d)}}return k}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next($($({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var l;const r={replaceUrl:!0},o=(null==(l=n.state)?void 0:l.navigationId)?n.state:null;if(o){const h=$({},o);delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){aE(n),this.config=n.map(Ep),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,i={}){const{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:h}=i,d=r||this.routerState.root,p=h?this.currentUrlTree.fragment:a;let g=null;switch(l){case"merge":g=$($({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}return null!==g&&(g=this.removeEmptyProps(g)),function(t,e,n,i,r){if(0===n.length)return _p(e.root,e.root,e,i,r);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new nE(!0,0,t);let e=0,n=!1;const i=t.reduce((r,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const l={};return Tt(o.outlets,(h,d)=>{l[d]="string"==typeof h?h.split("/"):h}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===a?(o.split("/").forEach((l,h)=>{0==h&&"."===l||(0==h&&""===l?n=!0:".."===l?e++:""!=l&&r.push(l))}),r):[...r,o]},[]);return new nE(n,e,i)}(n);if(o.toRoot())return _p(e.root,new we([],{}),e,i,r);const a=function(t,e,n){if(t.isAbsolute)return new yp(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const o=n.snapshot._urlSegment;return new yp(o,o===e.root,0)}const i=ac(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new yp(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),l=a.processChildren?uc(a.segmentGroup,a.index,o.commands):iE(a.segmentGroup,a.index,o.commands);return _p(a.segmentGroup,l,e,i,r)}(d,this.currentUrlTree,n,g,null!=p?p:null)}navigateByUrl(n,i={skipLocationChange:!1}){const r=Qr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(n,i={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,n)}return i}isActive(n,i){let r;if(r=!0===i?$({},K1):!1===i?$({},Q1):i,Qr(n))return jD(this.currentUrlTree,n,r);const o=this.parseUrl(n);return jD(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.keys(n).reduce((i,r)=>{const o=n[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new $a(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,i,r,o,a){var A,b,x;if(this.disposed)return Promise.resolve(!1);const l=this.transitions.value,h=mc(i)&&l&&!mc(l.source),d=l.rawUrl.toString()===n.toString(),p=l.id===(null==(A=this.currentNavigation)?void 0:A.id);if(h&&d&&p)return Promise.resolve(!0);let y,v,D;a?(y=a.resolve,v=a.reject,D=a.promise):D=new Promise((B,oe)=>{y=B,v=oe});const C=++this.navigationId;let T;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),T=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!=(b=this.browserPageId)?b:0:(null!=(x=this.browserPageId)?x:0)+1):T=0,this.setTransition({id:C,targetPageId:T,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:o,resolve:y,reject:v,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(B=>Promise.reject(B))}setBrowserUrl(n,i){const r=this.urlSerializer.serialize(n),o=$($({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(n,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(r=this.currentNavigation)?void 0:r.finalUrl)||0===a?this.currentUrlTree===(null==(o=this.currentNavigation)?void 0:o.finalUrl)&&0===a&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,i){const r=new xD(n.id,this.serializeUrl(n.extractedUrl),i);this.triggerEvent(r),n.resolve(!1)}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return t.\u0275fac=function(n){Gd()},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();function mc(t){return"imperative"!==t}let tu=(()=>{class t{constructor(n,i,r){this.router=n,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Se,this.subscription=n.events.subscribe(o=>{o instanceof $a&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,i,r,o,a){if(0!==n||i||r||o||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const l={skipLocationChange:vo(this.skipLocationChange),replaceUrl:vo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,l),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:vo(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(V(_n),V(Kr),V(po))},t.\u0275dir=ft({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,i){1&n&&wl("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&zd("target",i.target)("href",i.href,Yh)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Mn]}),t})();function vo(t){return""===t||!!t}class CE{}class bE{preload(e,n){return le(null)}}let SE=(()=>{class t{constructor(n,i,r,o){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=new DE(r,i,h=>n.triggerEvent(new RD(h)),h=>n.triggerEvent(new LD(h)))}setUpPreloading(){this.subscription=this.router.events.pipe(mo(n=>n instanceof $a),za(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(Zi);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(n,o)):o.children&&r.push(this.processRoutes(n,o.children));return dt(r).pipe(Pt(),U(o=>{}))}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?le(i._loadedConfig):this.loader.load(n.injector,i)).pipe(it(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(j(_n),j(Fl),j(Wt),j(CE))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})(),Mp=(()=>{class t{constructor(n,i,r={}){this.router=n,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof lp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof $a&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof ND&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.router.triggerEvent(new ND(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Gd()},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const Yr=new be("ROUTER_CONFIGURATION"),TE=new be("ROUTER_FORROOT_GUARD"),tN=[Hf,{provide:$D,useClass:ZD},{provide:_n,useFactory:function(t,e,n,i,r,o,a={},l,h){const d=new _n(null,t,e,n,i,r,kD(o));return l&&(d.urlHandlingStrategy=l),h&&(d.routeReuseStrategy=h),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(a,d),a.enableTracing&&d.events.subscribe(p=>{var g,y;null==(g=console.group)||g.call(console,`Router Event: ${p.constructor.name}`),console.log(p.toString()),console.log(p),null==(y=console.groupEnd)||y.call(console)}),d},deps:[$D,Ya,Hf,Wt,Fl,Sp,Yr,[class{},new _i],[class{},new _i]]},Ya,{provide:Kr,useFactory:function(t){return t.routerState.root},deps:[_n]},SE,bE,class{preload(e,n){return n().pipe(Cr(()=>le(null)))}},{provide:Yr,useValue:{enableTracing:!1}}];function nN(){return new Tw("Router",_n)}let ME=(()=>{class t{constructor(n,i){}static forRoot(n,i){return{ngModule:t,providers:[tN,AE(n),{provide:TE,useFactory:sN,deps:[[_n,new _i,new Os]]},{provide:Yr,useValue:i||{}},{provide:po,useFactory:rN,deps:[Zr,[new da(jf),new _i],Yr]},{provide:Mp,useFactory:iN,deps:[_n,sR,Yr]},{provide:CE,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:bE},{provide:Tw,multi:!0,useFactory:nN},[Ap,{provide:Ol,multi:!0,useFactory:lN,deps:[Ap]},{provide:PE,useFactory:cN,deps:[Ap]},{provide:vw,multi:!0,useExisting:PE}]]}}static forChild(n){return{ngModule:t,providers:[AE(n)]}}}return t.\u0275fac=function(n){return new(n||t)(j(TE,8),j(_n,8))},t.\u0275mod=Xt({type:t}),t.\u0275inj=ln({}),t})();function iN(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Mp(t,e,n)}function rN(t,e,n={}){return n.useHash?new VI(t,e):new Gw(t,e)}function sN(t){return"guarded"}function AE(t){return[{provide:ub,multi:!0,useValue:t},{provide:Sp,multi:!0,useValue:t}]}let Ap=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Se}appInitializer(){return this.injector.get(FI,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(l=>i=l),o=this.injector.get(_n),a=this.injector.get(Yr);return"disabled"===a.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?le(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(n){const i=this.injector.get(Yr),r=this.injector.get(SE),o=this.injector.get(Mp),a=this.injector.get(_n),l=this.injector.get(ka);n===l.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&a.initialNavigation(),r.setUpPreloading(),o.init(),a.resetRootComponentType(l.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(j(Wt))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();function lN(t){return t.appInitializer.bind(t)}function cN(t){return t.bootstrapListener.bind(t)}const PE=new be("Router Initializer"),Pp=[{id:1,name:"Biking to work",date:new Date("07/26/2017"),distance:1.01,comments:"Nice day",gpxData:"../../assets/gpx/1.gpx"},{id:2,name:"Biking to home",date:new Date("07/27/2017"),distance:2.01,comments:"Nice day",gpxData:"../../assets/gpx/2.gpx"},{id:3,name:"Biking to souk",date:new Date("07/28/2017"),distance:3.01,comments:"Nice day",gpxData:"../../assets/gpx/3.gpx"},{id:4,name:"Biking to hamam",date:new Date("07/29/2017"),distance:5.01,comments:"Nice day",gpxData:"../../assets/gpx/4.gpx"}];let IE=(()=>{class t{constructor(){}getActivities(){return Pp.slice(0)}getTotalActivities(n){return n.length}getTotalDistance(n){var i,r;let o=0;for(let a=0;a<n.length;a++)o+=null!==(r=null===(i=n[a])||void 0===i?void 0:i.distance)&&void 0!==r?r:0;return o}getFirstDate(n){let i=n[0].date;for(let r=1;r<n.length;r++)n[r].date<i&&(i=n[r].date);return i}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const dN=function(t){return["/runs",t]};function fN(t,e){if(1&t&&(he(0,"tr"),he(1,"a",6),he(2,"td"),je(3),de(),de(),he(4,"td"),je(5),de(),he(6,"td"),je(7),de(),he(8,"td"),je(9),lo(10,"date"),de(),de()),2&t){const n=e.$implicit;Ot(1),Sa("routerLink",function(t,e,n,i){return Uv(P(),$t(),t,e,n,i)}(7,dN,n.id)),Ot(2),bi(n.name),Ot(2),bi(n.distance),Ot(2),bi(n.comments),Ot(2),bi(Il(10,5,n.date))}}let pN=(()=>{class t{constructor(n){this.activityService=n,this.activities=[]}ngOnInit(){this.activities=this.activityService.getActivities(),this.totalActivities=this.activityService.getTotalActivities(this.activities),this.totalDistance=this.activityService.getTotalDistance(this.activities),this.firstDate=this.activityService.getFirstDate(this.activities)}}return t.\u0275fac=function(n){return new(n||t)(V(IE))},t.\u0275cmp=Oi({type:t,selectors:[["app-activity-list"]],decls:30,vars:11,consts:[[1,"row","row-run"],[1,"heading"],[1,"summary"],[1,"summary-item"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(n,i){1&n&&(he(0,"div",0),he(1,"h2",1),je(2,"My Runs : "),de(),xn(3,"hr"),he(4,"div",2),je(5," You have logged a Total Distance of "),he(6,"p",3),je(7),lo(8,"number"),de(),je(9," and a Total Activity of "),he(10,"p",3),je(11),lo(12,"number"),de(),je(13," you started the Run since: "),he(14,"p",3),je(15),lo(16,"date"),de(),de(),he(17,"table",4),he(18,"thead"),he(19,"tr"),he(20,"th"),je(21,"Activity"),de(),he(22,"th"),je(23,"Distance"),de(),he(24,"th"),je(25,"Comment"),de(),he(26,"th"),je(27,"Date"),de(),de(),de(),he(28,"tbody"),function(t,e,n,i,r,o,a,l){const h=P(),d=fe(),p=t+20,g=d.firstCreatePass?function(t,e,n,i,r,o,a,l,h){const d=e.consts,p=Hs(e,t,4,a||null,An(d,l));Ad(e,n,p,An(d,h)),$u(e,p);const g=p.tViews=fl(2,p,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d);return null!==e.queries&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}(p,d,h,e,n,i,r,o,a):d.data[p];mi(g,!1);const y=h[11].createComment("");ul(d,h,y,g),Nt(y,h),pl(h,h[p]=__(y,h,y,g)),hr(g)&&Td(d,h,g),null!=a&&Md(h,g,l)}(29,fN,11,9,"tr",5),de(),de(),de()),2&n&&(Ot(7),Ur("",Il(8,4,i.totalDistance)," km"),Ot(4),Ur("",Il(12,6,i.totalActivities)," activity"),Ot(4),bi(lf(16,8,i.firstDate,"longDate")),Ot(14),Sa("ngForOf",i.activities))},directives:[rD,tu],pipes:[lD,Jf],styles:['.row-run[_ngcontent-%COMP%]{background-color:#fffffff0;padding:10px 32px}td[_ngcontent-%COMP%]{font-size:1.4em}table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{background-color:#fff}td[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#ff1744}td[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#ff5252}hr[_ngcontent-%COMP%]{border-color:#ddd}.summary[_ngcontent-%COMP%]{font-size:1.4em}.heading[_ngcontent-%COMP%]{font-family:"Fjalla One",sans-serif}.summary-item[_ngcontent-%COMP%]{display:inline;font-family:"Fjalla One",sans-serif;color:#333;margin:2px}']}),t})();var Ip=I(869);let xE=(()=>{class t{constructor(){}getActivity(n){return Pp.slice(0).find(i=>i.id==n)}plotActivity(n){var i;const o=Ip.map("map").setView([40,-80],8);Ip.tileLayer("\thttps://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xa9 <a href="http://mapbox.com">Mapbox</a>',maxZoom:18,id:"mapbox.dark",accessToken:"environment.mapbox_api_key"}).addTo(o);var a=Ip.geoJson().setStyle({color:"#3949AB",weight:5,opacity:.95}),l=omnivore.gpx(null===(i=Pp.slice(0).find(h=>h.id==n))||void 0===i?void 0:i.gpxData,null,a).on("ready",function(){o.fitBounds(l.getBounds())}).addTo(o)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const _N=[{path:"runs",component:pN},{path:"runs/:id",component:(()=>{class t{constructor(n,i){this._route=n,this.mapservice=i}ngOnInit(){this.activity=this.mapservice.getActivity(+this._route.snapshot.params.id),this.activityName=this.activity.name,this.activtyComments=this.activity.comments,this.activityDistance=this.activity.distance,this.activityDate=this.activity.date,this.gpx=this.activity.gpxData}ngAfterViewInit(){this.mapservice.plotActivity(+this._route.snapshot.params.id)}}return t.\u0275fac=function(n){return new(n||t)(V(Kr),V(xE))},t.\u0275cmp=Oi({type:t,selectors:[["app-activity-detail"]],decls:33,vars:7,consts:[[1,"row","row-map"],[1,"col-md-9"],[1,"heading"],["id","map"],[1,"col-md-3","info-container"],["id","run-info"],[1,"data-heading"],[1,"data-entry"]],template:function(n,i){1&n&&(he(0,"div",0),he(1,"div",1),he(2,"h2",2),je(3,"Map"),de(),xn(4,"hr"),xn(5,"div",3),de(),he(6,"div",4),he(7,"div",5),he(8,"h2",2),je(9,"Run Data"),de(),xn(10,"hr"),he(11,"div",6),je(12,"Route Name:"),de(),he(13,"p",7),je(14),de(),xn(15,"hr"),he(16,"div",6),je(17,"Date:"),de(),he(18,"p",7),je(19),lo(20,"date"),de(),xn(21,"p"),xn(22,"hr"),he(23,"div",6),je(24,"Total Distance:"),de(),he(25,"p",7),je(26),de(),xn(27,"hr"),he(28,"div",6),je(29,"Comments:"),de(),he(30,"p",7),je(31),de(),xn(32,"hr"),de(),de(),de()),2&n&&(Ot(14),bi(i.activityName),Ot(5),Ur("",lf(20,4,i.activityDate,"longDate")," "),Ot(7),Ur("",i.activityDistance," miles"),Ot(5),bi(i.activtyComments))},pipes:[Jf],styles:['#map[_ngcontent-%COMP%]{height:100%;width:100%}.match-parent[_ngcontent-%COMP%]{width:100%;height:100%}.row-map[_ngcontent-%COMP%]{background-color:#fffffff0;padding:10px 32px;min-height:640px}.heading[_ngcontent-%COMP%]{font-family:"Fjalla One",sans-serif;font-size:2.2em}.data-heading[_ngcontent-%COMP%]{font-family:"Fjalla One",sans-serif;font-size:1.6em;color:#333}.data-entry[_ngcontent-%COMP%]{padding:8px 0 2px 16px;font-size:1.5em}']}),t})()},{path:"",redirectTo:"/runs",pathMatch:"full"}];let yN=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=ln({imports:[[ME.forRoot(_N)],ME]}),t})();const vN=function(){return["/"]};let wN=(()=>{class t{constructor(){this.title="testupload"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Oi({type:t,selectors:[["app-root"]],decls:6,vars:3,consts:[[1,"container"],[1,"navbar","navbar-custom"],[1,"navbar-brand",3,"routerLink"],[1,"logo"]],template:function(n,i){1&n&&(he(0,"div",0),he(1,"nav",1),he(2,"a",2),he(3,"p",3),je(4),de(),de(),de(),de(),xn(5,"router-outlet")),2&n&&(Ot(2),Sa("routerLink",function(t,e,n){const i=$t()+t,r=P();return r[i]===te?Di(r,i,n?e.call(n):e()):function(t,e){return t[e]}(r,i)}(2,vN)),Ot(2),bi(i.title))},directives:[tu,Dp],styles:['.logo[_ngcontent-%COMP%]{color:#6586cc;font-size:2em;font-family:"Fjalla One",sans-serif;font-style:italic;background-color:#000;padding:22px 16px}.navbar-custom[_ngcontent-%COMP%]{margin-top:10px;padding-bottom:12px}.main-content[_ngcontent-%COMP%]{height:100%;width:60%}#topRow[_ngcontent-%COMP%]{border-top-left-radius:4px;border-top-right-radius:4px}#btmRow[_ngcontent-%COMP%]{border-bottom-left-radius:4px;border-bottom-right-radius:4px;padding-bottom:8px;margin-bottom:30px}.map-container[_ngcontent-%COMP%]{height:500px}.info-container[_ngcontent-%COMP%]{height:500px;background-color:#fff}']}),t})();class RE{}const Yi="*";function LE(t,e=null){return{type:2,steps:t,options:e}}function NE(t){return{type:6,styles:t,offset:null}}function OE(t){Promise.resolve(null).then(t)}class wo{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){OE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class FE{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0;const o=this.players.length;0==o?OE(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++n==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((n,i)=>null===n||i.totalTime>n.totalTime?i:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}function kE(){return"undefined"!=typeof window&&void 0!==window.document}function Rp(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Sr(t){switch(t.length){case 0:return new wo;case 1:return t[0];default:return new FE(t)}}function BE(t,e,n,i,r={},o={}){const a=[],l=[];let h=-1,d=null;if(i.forEach(p=>{const g=p.offset,y=g==h,v=y&&d||{};Object.keys(p).forEach(D=>{let C=D,T=p[D];if("offset"!==D)switch(C=e.normalizePropertyName(C,a),T){case"!":T=r[D];break;case Yi:T=o[D];break;default:T=e.normalizeStyleValue(D,C,T,a)}v[C]=T}),y||l.push(v),d=v,h=g}),a.length){const p="\n - ";throw new Error(`Unable to animate due to the following errors:${p}${a.join(p)}`)}return l}function Lp(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&Np(n,"start",t)));break;case"done":t.onDone(()=>i(n&&Np(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&Np(n,"destroy",t)))}}function Np(t,e,n){const i=n.totalTime,o=Op(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),a=t._data;return null!=a&&(o._data=a),o}function Op(t,e,n,i,r="",o=0,a){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function yn(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function VE(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Fp=(t,e)=>!1,kp=(t,e)=>!1,jE=(t,e,n)=>[];const HE=Rp();(HE||"undefined"!=typeof Element)&&(Fp=kE()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),kp=(()=>{if(HE||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(n,i)=>e.apply(n,[i]):kp}})(),jE=(t,e,n)=>{let i=[];if(n){const r=t.querySelectorAll(e);for(let o=0;o<r.length;o++)i.push(r[o])}else{const r=t.querySelector(e);r&&i.push(r)}return i});let Jr=null,UE=!1;function Bp(t){Jr||(Jr=("undefined"!=typeof document?document.body:null)||{},UE=!!Jr.style&&"WebkitAppearance"in Jr.style);let e=!0;return Jr.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Jr.style,!e&&UE&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Jr.style)),e}const Vp=kp,jp=Fp,Hp=jE;function zE(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let $E=(()=>{class t{validateStyleProperty(n){return Bp(n)}matchesElement(n,i){return Vp(n,i)}containsElement(n,i){return jp(n,i)}query(n,i,r){return Hp(n,i,r)}computeStyle(n,i,r){return r||""}animate(n,i,r,o,a,l=[],h){return new wo(r,o)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})(),Up=(()=>{class t{}return t.NOOP=new $E,t})();const zp="ng-enter",gc="ng-leave",_c="ng-trigger",yc=".ng-trigger",qE="ng-animating",$p=".ng-animating";function Xr(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Zp(parseFloat(e[1]),e[2])}function Zp(t,e){return"s"===e?1e3*t:t}function vc(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,o=0,a="";if("string"==typeof t){const l=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Zp(parseFloat(l[1]),l[2]);const h=l[3];null!=h&&(o=Zp(parseFloat(h),l[4]));const d=l[5];d&&(a=d)}else r=t;if(!n){let l=!1,h=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),l=!0),o<0&&(e.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&e.splice(h,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:o,easing:a}}(t,e,n)}function Do(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Tr(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else Do(t,n);return n}function GE(t,e,n){return n?e+":"+n+";":""}function KE(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=GE(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=GE(0,PN(n),t.style[n]));t.setAttribute("style",e)}function Mi(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=Wp(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),Rp()&&KE(t))}function es(t,e){t.style&&(Object.keys(e).forEach(n=>{const i=Wp(n);t.style[i]=""}),Rp()&&KE(t))}function nu(t){return Array.isArray(t)?1==t.length?t[0]:LE(t):t}const qp=new RegExp("{{\\s*(.+?)\\s*}}","g");function QE(t){let e=[];if("string"==typeof t){let n;for(;n=qp.exec(t);)e.push(n[1]);qp.lastIndex=0}return e}function wc(t,e,n){const i=t.toString(),r=i.replace(qp,(o,a)=>{let l=e[a];return e.hasOwnProperty(a)||(n.push(`Please provide a value for the animation param ${a}`),l=""),l.toString()});return r==i?t:r}function Dc(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const AN=/-+([a-z0-9])/g;function Wp(t){return t.replace(AN,(...e)=>e[1].toUpperCase())}function PN(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function YE(t,e){return 0===t||0===e}function JE(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let o=e[0],a=[];if(i.forEach(l=>{o.hasOwnProperty(l)||a.push(l),o[l]=n[l]}),a.length)for(var r=1;r<e.length;r++){let l=e[r];a.forEach(function(h){l[h]=Gp(t,h)})}}return e}function vn(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Gp(t,e){return window.getComputedStyle(t)[e]}function IN(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function(t,e,n){if(":"==t[0]){const h=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof h)return void e.push(h);t=h}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],o=i[2],a=i[3];e.push(XE(r,a));"<"==o[0]&&!("*"==r&&"*"==a)&&e.push(XE(a,r))}(i,n,e)):n.push(t),n}const Cc=new Set(["true","1"]),bc=new Set(["false","0"]);function XE(t,e){const n=Cc.has(t)||bc.has(t),i=Cc.has(e)||bc.has(e);return(r,o)=>{let a="*"==t||t==r,l="*"==e||e==o;return!a&&n&&"boolean"==typeof r&&(a=r?Cc.has(t):bc.has(t)),!l&&i&&"boolean"==typeof o&&(l=o?Cc.has(e):bc.has(e)),a&&l}}const LN=new RegExp("s*:selfs*,?","g");function Kp(t,e,n){return new NN(t).build(e,n)}class NN{constructor(e){this._driver=e}build(e,n){const i=new kN(n);return this._resetContextStyleTimingState(i),vn(this,nu(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0;const o=[],a=[];return"@"==e.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(n),0==l.type){const h=l,d=h.name;d.toString().split(/\s*,\s*/).forEach(p=>{h.name=p,o.push(this.visitState(h,n))}),h.name=d}else if(1==l.type){const h=this.visitTransition(l,n);i+=h.queryCount,r+=h.depCount,a.push(h)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(e,n){const i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,a=r||{};if(i.styles.forEach(l=>{if(Sc(l)){const h=l;Object.keys(h).forEach(d=>{QE(h[d]).forEach(p=>{a.hasOwnProperty(p)||o.add(p)})})}}),o.size){const l=Dc(o.values());n.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${l.join(", ")}`)}}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const i=vn(this,nu(e.animation),n);return{type:1,matchers:IN(e.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:ts(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(i=>vn(this,i,n)),options:ts(e.options)}}visitGroup(e,n){const i=n.currentTime;let r=0;const o=e.steps.map(a=>{n.currentTime=i;const l=vn(this,a,n);return r=Math.max(r,n.currentTime),l});return n.currentTime=r,{type:3,steps:o,options:ts(e.options)}}visitAnimate(e,n){const i=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Qp(vc(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Qp(0,0,"");return o.dynamic=!0,o.strValue=i,o}return n=n||vc(i,e),Qp(n.duration,n.delay,n.easing)}(e.timings,n.errors);n.currentAnimateTimings=i;let r,o=e.styles?e.styles:NE({});if(5==o.type)r=this.visitKeyframes(o,n);else{let a=e.styles,l=!1;if(!a){l=!0;const d={};i.easing&&(d.easing=i.easing),a=NE(d)}n.currentTime+=i.duration+i.delay;const h=this.visitStyle(a,n);h.isEmptyStep=l,r=h}return n.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,n){const i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){const i=[];Array.isArray(e.styles)?e.styles.forEach(a=>{"string"==typeof a?a==Yi?i.push(a):n.errors.push(`The provided style string value ${a} is not allowed.`):i.push(a)}):i.push(e.styles);let r=!1,o=null;return i.forEach(a=>{if(Sc(a)){const l=a,h=l.easing;if(h&&(o=h,delete l.easing),!r)for(let d in l)if(l[d].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,n){const i=n.currentAnimateTimings;let r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(l=>{if(!this._driver.validateStyleProperty(l))return void n.errors.push(`The provided animation property "${l}" is not a supported CSS property for animations`);const h=n.collectedStyles[n.currentQuerySelector],d=h[l];let p=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(n.errors.push(`The CSS property "${l}" that exists between the times of "${d.startTime}ms" and "${d.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${r}ms"`),p=!1),o=d.startTime),p&&(h[l]={startTime:o,endTime:r}),n.options&&function(t,e,n){const i=e.params||{},r=QE(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(`Unable to resolve the local animation param ${o} in the given list of values`)})}(a[l],n.options,n.errors)})})}visitKeyframes(e,n){const i={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),i;let o=0;const a=[];let l=!1,h=!1,d=0;const p=e.steps.map(A=>{const b=this._makeStyleAst(A,n);let x=null!=b.offset?b.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(Sc(n)&&n.hasOwnProperty("offset")){const i=n;e=parseFloat(i.offset),delete i.offset}});else if(Sc(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(b.styles),B=0;return null!=x&&(o++,B=b.offset=x),h=h||B<0||B>1,l=l||B<d,d=B,a.push(B),b});h&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),l&&n.errors.push("Please ensure that all keyframe offsets are in order");const g=e.steps.length;let y=0;o>0&&o<g?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(y=1/(g-1));const v=g-1,D=n.currentTime,C=n.currentAnimateTimings,T=C.duration;return p.forEach((A,b)=>{const x=y>0?b==v?1:y*b:a[b],B=x*T;n.currentTime=D+C.delay+B,C.duration=B,this._validateStyleAst(A,n),A.offset=x,i.styles.push(A)}),i}visitReference(e,n){return{type:8,animation:vn(this,nu(e.animation),n),options:ts(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:ts(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:ts(e.options)}}visitQuery(e,n){const i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;const[o,a]=function(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(LN,"")),t=t.replace(/@\*/g,yc).replace(/@\w+/g,n=>yc+"-"+n.substr(1)).replace(/:animating/g,$p),[t,e]}(e.selector);n.currentQuerySelector=i.length?i+" "+o:o,yn(n.collectedStyles,n.currentQuerySelector,{});const l=vn(this,nu(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:e.selector,options:ts(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:vc(e.timings,n.errors,!0);return{type:12,animation:vn(this,nu(e.animation),n),timings:i,options:null}}}class kN{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Sc(t){return!Array.isArray(t)&&"object"==typeof t}function ts(t){return t?(t=Do(t)).params&&(t.params=function(t){return t?Do(t):null}(t.params)):t={},t}function Qp(t,e,n){return{duration:t,delay:e,easing:n}}function Yp(t,e,n,i,r,o,a=null,l=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:l}}class Tc{constructor(){this._map=new Map}consume(e){let n=this._map.get(e);return n?this._map.delete(e):n=[],n}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const UN=new RegExp(":enter","g"),$N=new RegExp(":leave","g");function Jp(t,e,n,i,r,o={},a={},l,h,d=[]){return(new ZN).buildKeyframes(t,e,n,i,r,o,a,l,h,d)}class ZN{buildKeyframes(e,n,i,r,o,a,l,h,d,p=[]){d=d||new Tc;const g=new Xp(e,n,d,r,o,p,[]);g.options=h,g.currentTimeline.setStyles([a],null,g.errors,h),vn(this,i,g);const y=g.timelines.filter(v=>v.containsAnimation());if(y.length&&Object.keys(l).length){const v=y[y.length-1];v.allowOnlyTimelineStyles()||v.setStyles([l],null,g.errors,h)}return y.length?y.map(v=>v.buildKeyframes()):[Yp(n,[],[],[],0,0,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const i=n.subInstructions.consume(n.element);if(i){const r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&n.transformIntoNewTimeline(a)}n.previousNode=e}visitAnimateRef(e,n){const i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_visitSubInstructions(e,n,i){let o=n.currentTimeline.currentTime;const a=null!=i.duration?Xr(i.duration):null,l=null!=i.delay?Xr(i.delay):null;return 0!==a&&e.forEach(h=>{const d=n.appendInstructionToTimeline(h,a,l);o=Math.max(o,d.duration+d.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),vn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const i=n.subContextCount;let r=n;const o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Mc);const a=Xr(o.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>vn(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const i=[];let r=n.currentTimeline.currentTime;const o=e.options&&e.options.delay?Xr(e.options.delay):0;e.steps.forEach(a=>{const l=n.createSubContext(e.options);o&&l.delayNextStep(o),vn(this,a,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(a=>n.currentTimeline.mergeTimelineCollectedStyles(a)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const i=e.strValue;return vc(n.params?wc(i,n.params,n.errors):i,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,l=n.createSubContext().currentTimeline;l.easing=i.easing,e.styles.forEach(h=>{l.forwardTime((h.offset||0)*o),l.setStyles(h.styles,h.easing,n.errors,n.options),l.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(l),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){const i=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?Xr(r.delay):0;o&&(6===n.previousNode.type||0==i&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Mc);let a=i;const l=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=l.length;let h=null;l.forEach((d,p)=>{n.currentQueryIndex=p;const g=n.createSubContext(e.options,d);o&&g.delayNextStep(o),d===n.element&&(h=g.currentTimeline),vn(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,g.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(a),h&&(n.currentTimeline.mergeTimelineCollectedStyles(h),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const i=n.parentContext,r=n.currentTimeline,o=e.timings,a=Math.abs(o.duration),l=a*(n.currentQueryTotal-1);let h=a*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":h=l-h;break;case"full":h=i.currentStaggerTime}const p=n.currentTimeline;h&&p.delayNextStep(h);const g=p.currentTime;vn(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-g+(r.startTime-i.currentTimeline.startTime)}}const Mc={};class Xp{constructor(e,n,i,r,o,a,l,h){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Mc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new Ac(this._driver,n,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Xr(i.duration)),null!=i.delay&&(r.delay=Xr(i.delay));const o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(l=>{(!n||!a.hasOwnProperty(l))&&(a[l]=wc(o[l],a,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){const r=n||this.element,o=new Xp(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Mc,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){const r={duration:null!=n?n:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},o=new qN(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,o,a){let l=[];if(r&&l.push(this.element),e.length>0){e=(e=e.replace(UN,"."+this._enterClassName)).replace($N,"."+this._leaveClassName);let d=this._driver.query(this.element,e,1!=i);0!==i&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),l.push(...d)}return!o&&0==l.length&&a.push(`\`query("${n}")\` returned zero elements. (Use \`query("${n}", { optional: true })\` if you wish to allow this.)`),l}}class Ac{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new Ac(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles[e]=n,this._globalTimelineStyles[e]=n,this._styleSummary[e]={time:this.currentTime,value:n}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(n=>{this._backFill[n]=this._globalTimelineStyles[n]||Yi,this._currentKeyframe[n]=Yi}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&(this._previousKeyframe.easing=n);const o=r&&r.params||{},a=function(t,e){const n={};let i;return t.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(o=>{n[o]=Yi})):Tr(r,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(a).forEach(l=>{const h=wc(a[l],o,i);this._pendingStyles[l]=h,this._localTimelineStyles.hasOwnProperty(l)||(this._backFill[l]=this._globalTimelineStyles.hasOwnProperty(l)?this._globalTimelineStyles[l]:Yi),this._updateStyle(l,h)})}applyStylesToKeyframe(){const e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const n=this._localTimelineStyles[e];this._pendingStyles[e]=n,this._updateStyle(e,n)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(n=>{const i=this._styleSummary[n],r=e._styleSummary[n];(!i||r.time>i.time)&&this._updateStyle(n,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((l,h)=>{const d=Tr(l,!0);Object.keys(d).forEach(p=>{const g=d[p];"!"==g?e.add(p):g==Yi&&n.add(p)}),i||(d.offset=h/this.duration),r.push(d)});const o=e.size?Dc(e.values()):[],a=n.size?Dc(n.values()):[];if(i){const l=r[0],h=Do(l);l.offset=0,h.offset=1,r=[l,h]}return Yp(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}}class qN extends Ac{constructor(e,n,i,r,o,a,l=!1){super(e,n,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){const o=[],a=i+n,l=n/a,h=Tr(e[0],!1);h.offset=0,o.push(h);const d=Tr(e[0],!1);d.offset=nC(l),o.push(d);const p=e.length-1;for(let g=1;g<=p;g++){let y=Tr(e[g],!1);y.offset=nC((n+y.offset*i)/a),o.push(y)}i=a,n=0,r="",e=o}return Yp(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}function nC(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class em{}class GN extends em{normalizePropertyName(e,n){return Wp(e)}normalizeStyleValue(e,n,i,r){let o="";const a=i.toString().trim();if(KN[n]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push(`Please provide a CSS unit value for ${e}:${i}`)}return a+o}}const KN=(()=>function(t){const e={};return t.forEach(n=>e[n]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function iC(t,e,n,i,r,o,a,l,h,d,p,g,y){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:a,timelines:l,queriedElements:h,preStyleProps:d,postStyleProps:p,totalTime:g,errors:y}}const tm={};class rC{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return function(t,e,n,i,r){return t.some(o=>o(e,n,i,r))}(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){const r=this._stateStyles["*"],o=this._stateStyles[e],a=r?r.buildStyles(n,i):{};return o?o.buildStyles(n,i):a}build(e,n,i,r,o,a,l,h,d,p){const g=[],y=this.ast.options&&this.ast.options.params||tm,D=this.buildStyles(i,l&&l.params||tm,g),C=h&&h.params||tm,T=this.buildStyles(r,C,g),A=new Set,b=new Map,x=new Map,B="void"===r,oe={params:$($({},y),C)},qe=p?[]:Jp(e,n,this.ast.animation,o,a,D,T,oe,d,g);let Ke=0;if(qe.forEach(Dn=>{Ke=Math.max(Dn.duration+Dn.delay,Ke)}),g.length)return iC(n,this._triggerName,i,r,B,D,T,[],[],b,x,Ke,g);qe.forEach(Dn=>{const En=Dn.element,Co=yn(b,En,{});Dn.preStyleProps.forEach(ii=>Co[ii]=!0);const Ji=yn(x,En,{});Dn.postStyleProps.forEach(ii=>Ji[ii]=!0),En!==n&&A.add(En)});const wn=Dc(A.values());return iC(n,this._triggerName,i,r,B,D,T,qe,wn,b,x,Ke)}}class JN{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){const i={},r=Do(this.defaultParams);return Object.keys(e).forEach(o=>{const a=e[o];null!=a&&(r[o]=a)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const a=o;Object.keys(a).forEach(l=>{let h=a[l];h.length>1&&(h=wc(h,r,n));const d=this.normalizer.normalizePropertyName(l,n);h=this.normalizer.normalizeStyleValue(l,d,h,n),i[d]=h})}}),i}}class eO{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states={},n.states.forEach(r=>{this.states[r.name]=new JN(r.style,r.options&&r.options.params||{},i)}),sC(this.states,"true","1"),sC(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new rC(e,r,this.states))}),this.fallbackTransition=function(t,e,n){return new rC(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(a=>a.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}}function sC(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const nO=new Tc;class iO{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,n){const i=[],r=Kp(this._driver,n,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[e]=r}_buildPlayer(e,n,i){const r=e.element,o=BE(0,this._normalizer,0,e.keyframes,n,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){const r=[],o=this._animations[e];let a;const l=new Map;if(o?(a=Jp(this._driver,n,o,zp,gc,{},{},i,nO,r),a.forEach(p=>{const g=yn(l,p.element,{});p.postStyleProps.forEach(y=>g[y]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),a=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);l.forEach((p,g)=>{Object.keys(p).forEach(y=>{p[y]=this._driver.computeStyle(g,y,Yi)})});const d=Sr(a.map(p=>{const g=l.get(p.element);return this._buildPlayer(p,{},g)}));return this._playersById[e]=d,d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){const n=this._getPlayer(e);n.destroy(),delete this._playersById[e];const i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){const n=this._playersById[e];if(!n)throw new Error(`Unable to find the timeline player referenced by ${e}`);return n}listen(e,n,i,r){const o=Op(n,"","","");return Lp(this._getPlayer(e),i,o,r),()=>{}}command(e,n,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,n,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const oC="ng-animate-queued",aC="ng-animate-disabled",uC=".ng-animate-disabled",aO=[],lC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},On="__ng_removed";class nm{constructor(e,n=""){this.namespaceId=n;const i=e&&e.hasOwnProperty("value");if(this.value=null!=(t=i?e.value:e)?t:null,i){const o=Do(e);delete o.value,this.options=o}else this.options={};var t;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const n=e.params;if(n){const i=this.options.params;Object.keys(n).forEach(r=>{null==i[r]&&(i[r]=n[r])})}}}const iu="void",im=new nm(iu);class lO{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Fn(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.hasOwnProperty(n))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${n}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${n}" because the provided event is undefined!`);if("start"!=(t=i)&&"done"!=t)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${n}" is not supported!`);var t;const o=yn(this._elementListeners,e,[]),a={name:n,phase:i,callback:r};o.push(a);const l=yn(this._engine.statesByElement,e,{});return l.hasOwnProperty(n)||(Fn(e,_c),Fn(e,_c+"-"+n),l[n]=im),()=>{this._engine.afterFlush(()=>{const h=o.indexOf(a);h>=0&&o.splice(h,1),this._triggers[n]||delete l[n]})}}register(e,n){return!this._triggers[e]&&(this._triggers[e]=n,!0)}_getTrigger(e){const n=this._triggers[e];if(!n)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return n}trigger(e,n,i,r=!0){const o=this._getTrigger(n),a=new rm(this.id,n,e);let l=this._engine.statesByElement.get(e);l||(Fn(e,_c),Fn(e,_c+"-"+n),this._engine.statesByElement.set(e,l={}));let h=l[n];const d=new nm(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&h&&d.absorbOptions(h.options),l[n]=d,h||(h=im),d.value!==iu&&h.value===d.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(h.params,d.params)){const C=[],T=o.matchStyles(h.value,h.params,C),A=o.matchStyles(d.value,d.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{es(e,T),Mi(e,A)})}return}const y=yn(this._engine.playersByElement,e,[]);y.forEach(C=>{C.namespaceId==this.id&&C.triggerName==n&&C.queued&&C.destroy()});let v=o.matchTransition(h.value,d.value,e,d.params),D=!1;if(!v){if(!r)return;v=o.fallbackTransition,D=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:v,fromState:h,toState:d,player:a,isFallbackTransition:D}),D||(Fn(e,oC),a.onStart(()=>{Eo(e,oC)})),a.onDone(()=>{let C=this.players.indexOf(a);C>=0&&this.players.splice(C,1);const T=this._engine.playersByElement.get(e);if(T){let A=T.indexOf(a);A>=0&&T.splice(A,1)}}),this.players.push(a),y.push(a),a}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((n,i)=>{delete n[e]}),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const i=this._engine.driver.query(e,yc,!0);i.forEach(r=>{if(r[On])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){const o=this._engine.statesByElement.get(e);if(o){const a=[];if(Object.keys(o).forEach(l=>{if(this._triggers[l]){const h=this.trigger(e,l,iu,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n),i&&Sr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){const r=new Set;n.forEach(o=>{const a=o.name;if(r.has(a))return;r.add(a);const h=this._triggers[a].fallbackTransition,d=i[a]||im,p=new nm(iu),g=new rm(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:h,fromState:d,toState:p,player:g,isFallbackTransition:!0})})}}removeNode(e,n){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let a=e;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{const o=e[On];(!o||o===lC)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){Fn(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,a=this._elementListeners.get(o);a&&a.forEach(l=>{if(l.name==i.triggerName){const h=Op(o,i.triggerName,i.fromState.value,i.toState.value);h._data=e,Lp(i.player,l.phase,h,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{const o=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let n=!1;return this._elementListeners.has(e)&&(n=!0),n=!!this._queue.find(i=>i.element===e)||n,n}}class cO{constructor(e,n,i){this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){const i=new lO(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let o=i;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,n)){this._namespaceList.splice(o+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(n))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const a=i[r[o]].namespaceId;if(a){const l=this._fetchNamespace(a);l&&n.add(l)}}}return n}trigger(e,n,i,r){if(Pc(n)){const o=this._fetchNamespace(e);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!Pc(n))return;const o=n[On];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(n);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){const a=this._fetchNamespace(e);a&&a.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Fn(e,aC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Eo(e,aC))}removeNode(e,n,i,r){if(Pc(n)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r),i){const a=this.namespacesByHostElement.get(n);a&&a.id!==e&&a.removeNode(n,r)}}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,i,r){this.collectedLeaveElements.push(n),n[On]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(e,n,i,r,o){return Pc(n)?this._fetchNamespace(e).listen(n,i,r,o):()=>{}}_buildInstruction(e,n,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,yc,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,$p,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Sr(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[On];if(n&&n.setForRemoval){if(e[On]=lC,n.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,uC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,uC,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Fn(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],n.length?Sr(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,n){const i=new Tc,r=[],o=new Map,a=[],l=new Map,h=new Map,d=new Map,p=new Set;this.disabledNodes.forEach(F=>{p.add(F);const H=this.driver.query(F,".ng-animate-queued",!0);for(let X=0;X<H.length;X++)p.add(H[X])});const g=this.bodyNode,y=Array.from(this.statesByElement.keys()),v=dC(y,this.collectedEnterElements),D=new Map;let C=0;v.forEach((F,H)=>{const X=zp+C++;D.set(H,X),F.forEach(Me=>Fn(Me,X))});const T=[],A=new Set,b=new Set;for(let F=0;F<this.collectedLeaveElements.length;F++){const H=this.collectedLeaveElements[F],X=H[On];X&&X.setForRemoval&&(T.push(H),A.add(H),X.hasAnimation?this.driver.query(H,".ng-star-inserted",!0).forEach(Me=>A.add(Me)):b.add(H))}const x=new Map,B=dC(y,Array.from(A));B.forEach((F,H)=>{const X=gc+C++;x.set(H,X),F.forEach(Me=>Fn(Me,X))}),e.push(()=>{v.forEach((F,H)=>{const X=D.get(H);F.forEach(Me=>Eo(Me,X))}),B.forEach((F,H)=>{const X=x.get(H);F.forEach(Me=>Eo(Me,X))}),T.forEach(F=>{this.processLeaveNode(F)})});const oe=[],qe=[];for(let F=this._namespaceList.length-1;F>=0;F--)this._namespaceList[F].drainQueuedTransitions(n).forEach(X=>{const Me=X.player,wt=X.element;if(oe.push(Me),this.collectedEnterElements.length){const Pi=wt[On];if(Pi&&Pi.setForMove)return void Me.destroy()}const Ai=!g||!this.driver.containsElement(g,wt),Cn=x.get(wt),Mr=D.get(wt),Xe=this._buildInstruction(X,i,Mr,Cn,Ai);if(Xe.errors&&Xe.errors.length)qe.push(Xe);else{if(Ai)return Me.onStart(()=>es(wt,Xe.fromStyles)),Me.onDestroy(()=>Mi(wt,Xe.toStyles)),void r.push(Me);if(X.isFallbackTransition)return Me.onStart(()=>es(wt,Xe.fromStyles)),Me.onDestroy(()=>Mi(wt,Xe.toStyles)),void r.push(Me);Xe.timelines.forEach(Pi=>Pi.stretchStartingKeyframe=!0),i.append(wt,Xe.timelines),a.push({instruction:Xe,player:Me,element:wt}),Xe.queriedElements.forEach(Pi=>yn(l,Pi,[]).push(Me)),Xe.preStyleProps.forEach((Pi,ru)=>{const Nc=Object.keys(Pi);if(Nc.length){let ns=h.get(ru);ns||h.set(ru,ns=new Set),Nc.forEach(um=>ns.add(um))}}),Xe.postStyleProps.forEach((Pi,ru)=>{const Nc=Object.keys(Pi);let ns=d.get(ru);ns||d.set(ru,ns=new Set),Nc.forEach(um=>ns.add(um))})}});if(qe.length){const F=[];qe.forEach(H=>{F.push(`@${H.triggerName} has failed due to:\n`),H.errors.forEach(X=>F.push(`- ${X}\n`))}),oe.forEach(H=>H.destroy()),this.reportError(F)}const Ke=new Map,wn=new Map;a.forEach(F=>{const H=F.element;i.has(H)&&(wn.set(H,H),this._beforeAnimationBuild(F.player.namespaceId,F.instruction,Ke))}),r.forEach(F=>{const H=F.element;this._getPreviousPlayers(H,!1,F.namespaceId,F.triggerName,null).forEach(Me=>{yn(Ke,H,[]).push(Me),Me.destroy()})});const Dn=T.filter(F=>pC(F,h,d)),En=new Map;hC(En,this.driver,b,d,Yi).forEach(F=>{pC(F,h,d)&&Dn.push(F)});const Ji=new Map;v.forEach((F,H)=>{hC(Ji,this.driver,new Set(F),h,"!")}),Dn.forEach(F=>{const H=En.get(F),X=Ji.get(F);En.set(F,$($({},H),X))});const ii=[],bo=[],So={};a.forEach(F=>{const{element:H,player:X,instruction:Me}=F;if(i.has(H)){if(p.has(H))return X.onDestroy(()=>Mi(H,Me.toStyles)),X.disabled=!0,X.overrideTotalTime(Me.totalTime),void r.push(X);let wt=So;if(wn.size>1){let Cn=H;const Mr=[];for(;Cn=Cn.parentNode;){const Xe=wn.get(Cn);if(Xe){wt=Xe;break}Mr.push(Cn)}Mr.forEach(Xe=>wn.set(Xe,wt))}const Ai=this._buildAnimation(X.namespaceId,Me,Ke,o,Ji,En);if(X.setRealPlayer(Ai),wt===So)ii.push(X);else{const Cn=this.playersByElement.get(wt);Cn&&Cn.length&&(X.parentPlayer=Sr(Cn)),r.push(X)}}else es(H,Me.fromStyles),X.onDestroy(()=>Mi(H,Me.toStyles)),bo.push(X),p.has(H)&&r.push(X)}),bo.forEach(F=>{const H=o.get(F.element);if(H&&H.length){const X=Sr(H);F.setRealPlayer(X)}}),r.forEach(F=>{F.parentPlayer?F.syncPlayerEvents(F.parentPlayer):F.destroy()});for(let F=0;F<T.length;F++){const H=T[F],X=H[On];if(Eo(H,gc),X&&X.hasAnimation)continue;let Me=[];if(l.size){let Ai=l.get(H);Ai&&Ai.length&&Me.push(...Ai);let Cn=this.driver.query(H,$p,!0);for(let Mr=0;Mr<Cn.length;Mr++){let Xe=l.get(Cn[Mr]);Xe&&Xe.length&&Me.push(...Xe)}}const wt=Me.filter(Ai=>!Ai.destroyed);wt.length?pO(this,H,wt):this.processLeaveNode(H)}return T.length=0,ii.forEach(F=>{this.players.push(F),F.onDone(()=>{F.destroy();const H=this.players.indexOf(F);this.players.splice(H,1)}),F.play()}),ii}elementContainsData(e,n){let i=!1;const r=n[On];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(n)&&(i=!0),this.playersByQueriedElement.has(n)&&(i=!0),this.statesByElement.has(n)&&(i=!0),this._fetchNamespace(e).elementContainsData(n)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,o){let a=[];if(n){const l=this.playersByQueriedElement.get(e);l&&(a=l)}else{const l=this.playersByElement.get(e);if(l){const h=!o||o==iu;l.forEach(d=>{d.queued||!h&&d.triggerName!=r||a.push(d)})}}return(i||r)&&(a=a.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),a}_beforeAnimationBuild(e,n,i){const o=n.element,a=n.isRemovalTransition?void 0:e,l=n.isRemovalTransition?void 0:n.triggerName;for(const h of n.timelines){const d=h.element,p=d!==o,g=yn(i,d,[]);this._getPreviousPlayers(d,p,a,l,n.toState).forEach(v=>{const D=v.getRealPlayer();D.beforeDestroy&&D.beforeDestroy(),v.destroy(),g.push(v)})}es(o,n.fromStyles)}_buildAnimation(e,n,i,r,o,a){const l=n.triggerName,h=n.element,d=[],p=new Set,g=new Set,y=n.timelines.map(D=>{const C=D.element;p.add(C);const T=C[On];if(T&&T.removedBeforeQueried)return new wo(D.duration,D.delay);const A=C!==h,b=function(t){const e=[];return fC(t,e),e}((i.get(C)||aO).map(Ke=>Ke.getRealPlayer())).filter(Ke=>!!Ke.element&&Ke.element===C),x=o.get(C),B=a.get(C),oe=BE(0,this._normalizer,0,D.keyframes,x,B),qe=this._buildPlayer(D,oe,b);if(D.subTimeline&&r&&g.add(C),A){const Ke=new rm(e,l,C);Ke.setRealPlayer(qe),d.push(Ke)}return qe});d.forEach(D=>{yn(this.playersByQueriedElement,D.element,[]).push(D),D.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const r=i.indexOf(n);i.splice(r,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const r=i.indexOf(n);i.splice(r,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,D.element,D))}),p.forEach(D=>Fn(D,qE));const v=Sr(y);return v.onDestroy(()=>{p.forEach(D=>Eo(D,qE)),Mi(h,n.toStyles)}),g.forEach(D=>{yn(r,D,[]).push(v)}),v}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new wo(e.duration,e.delay)}}class rm{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new wo,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(n=>{this._queuedCallbacks[n].forEach(i=>Lp(e,n,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){yn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function Pc(t){return t&&1===t.nodeType}function cC(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function hC(t,e,n,i,r){const o=[];n.forEach(h=>o.push(cC(h)));const a=[];i.forEach((h,d)=>{const p={};h.forEach(g=>{const y=p[g]=e.computeStyle(d,g,r);(!y||0==y.length)&&(d[On]=uO,a.push(d))}),t.set(d,p)});let l=0;return n.forEach(h=>cC(h,o[l++])),a}function dC(t,e){const n=new Map;if(t.forEach(l=>n.set(l,[])),0==e.length)return n;const r=new Set(e),o=new Map;function a(l){if(!l)return 1;let h=o.get(l);if(h)return h;const d=l.parentNode;return h=n.has(d)?d:r.has(d)?1:a(d),o.set(l,h),h}return e.forEach(l=>{const h=a(l);1!==h&&n.get(h).push(l)}),n}const Ic="$$classes";function Fn(t,e){if(t.classList)t.classList.add(e);else{let n=t[Ic];n||(n=t[Ic]={}),n[e]=!0}}function Eo(t,e){if(t.classList)t.classList.remove(e);else{let n=t[Ic];n&&delete n[e]}}function pO(t,e,n){Sr(n).onDone(()=>t.processLeaveNode(e))}function fC(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof FE?fC(i.players,e):e.push(i)}}function pC(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(o=>r.add(o)):e.set(t,i),n.delete(t),!0}class xc{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new cO(e,n,i),this._timelineEngine=new iO(e,n,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,n,i,r,o){const a=e+"-"+r;let l=this._triggerCache[a];if(!l){const h=[],d=Kp(this._driver,o,h);if(h.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${h.join("\n - ")}`);l=function(t,e,n){return new eO(t,e,n)}(r,d,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(n,r,l)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i,r){this._transitionEngine.removeNode(e,n,r||!1,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if("@"==i.charAt(0)){const[o,a]=VE(i);this._timelineEngine.command(o,n,a,r)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,o){if("@"==i.charAt(0)){const[a,l]=VE(i);return this._timelineEngine.listen(a,n,l,o)}return this._transitionEngine.listen(e,n,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function mC(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=sm(e[0]),e.length>1&&(i=sm(e[e.length-1]))):e&&(n=sm(e)),n||i?new _O(t,n,i):null}let _O=(()=>{class t{constructor(n,i,r){this._element=n,this._startStyles=i,this._endStyles=r,this._state=0;let o=t.initialStylesByElement.get(n);o||t.initialStylesByElement.set(n,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Mi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mi(this._element,this._initialStyles),this._endStyles&&(Mi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(es(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(es(this._element,this._endStyles),this._endStyles=null),Mi(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function sm(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];yO(r)&&(e=e||{},e[r]=t[r])}return e}function yO(t){return"display"===t||"position"===t}const gC="animation",_C="animationend";class DO{constructor(e,n,i,r,o,a,l){this._element=e,this._name=n,this._duration=i,this._delay=r,this._easing=o,this._fillMode=a,this._onDoneFn=l,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=h=>this._handleCallback(h)}apply(){(function(t,e){const n=am(t,"").trim();let i=0;n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++;return n}(n)+1,e=`${n}, ${e}`),Rc(t,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),wC(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){yC(this._element,this._name,"paused")}resume(){yC(this._element,this._name,"running")}setPosition(e){const n=vC(this._element,this._name);this._position=e*this._duration,Rc(this._element,"Delay",`-${this._position}ms`,n)}getPosition(){return this._position}_handleCallback(e){const n=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),wC(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const i=am(t,"").split(","),r=om(i,e);r>=0&&(i.splice(r,1),Rc(t,"",i.join(",")))}(this._element,this._name))}}function yC(t,e,n){Rc(t,"PlayState",n,vC(t,e))}function vC(t,e){const n=am(t,"");return n.indexOf(",")>0?om(n.split(","),e):om([n],e)}function om(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function wC(t,e,n){n?t.removeEventListener(_C,e):t.addEventListener(_C,e)}function Rc(t,e,n,i){const r=gC+e;if(null!=i){const o=t.style[r];if(o.length){const a=o.split(",");a[i]=n,n=a.join(",")}}t.style[r]=n}function am(t,e){return t.style[gC+e]||""}class DC{constructor(e,n,i,r,o,a,l,h){this.element=e,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=l,this._specialStyles=h,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=r+o,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new DO(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const n=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=n?this._finalStyles[i]:Gp(this.element,i))})}this.currentSnapshot=e}}class MO extends wo{constructor(e,n){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=zE(n)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const n=this._startingStyles[e];n?this.element.style.setProperty(e,n):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class CC{constructor(){this._count=0}validateStyleProperty(e){return Bp(e)}matchesElement(e,n){return Vp(e,n)}containsElement(e,n){return jp(e,n)}query(e,n,i){return Hp(e,n,i)}computeStyle(e,n,i){return window.getComputedStyle(e)[n]}buildKeyframeElement(e,n,i){i=i.map(l=>zE(l));let r=`@keyframes ${n} {\n`,o="";i.forEach(l=>{o=" ";const h=parseFloat(l.offset);r+=`${o}${100*h}% {\n`,o+=" ",Object.keys(l).forEach(d=>{const p=l[d];switch(d){case"offset":return;case"easing":return void(p&&(r+=`${o}animation-timing-function: ${p};\n`));default:return void(r+=`${o}${d}: ${p};\n`)}}),r+=`${o}}\n`}),r+="}\n";const a=document.createElement("style");return a.textContent=r,a}animate(e,n,i,r,o,a=[],l){const h=a.filter(T=>T instanceof DC),d={};YE(i,r)&&h.forEach(T=>{let A=T.currentSnapshot;Object.keys(A).forEach(b=>d[b]=A[b])});const p=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(e[r]=i[r])})}),e}(n=JE(e,n,d));if(0==i)return new MO(e,p);const g="gen_css_kf_"+this._count++,y=this.buildKeyframeElement(e,g,n);(function(t){var n;const e=null==(n=t.getRootNode)?void 0:n.call(t);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(e).appendChild(y);const D=mC(e,n),C=new DC(e,n,g,i,r,o,p,D);return C.onDestroy(()=>{var t;(t=y).parentNode.removeChild(t)}),C}}class SC{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,n,i){return e.animate(n,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(n=>{"offset"!=n&&(e[n]=this._finished?this._finalKeyframe[n]:Gp(this.element,n))}),this.currentSnapshot=e}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class RO{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(TC().toString()),this._cssKeyframesDriver=new CC}validateStyleProperty(e){return Bp(e)}matchesElement(e,n){return Vp(e,n)}containsElement(e,n){return jp(e,n)}query(e,n,i){return Hp(e,n,i)}computeStyle(e,n,i){return window.getComputedStyle(e)[n]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,n,i,r,o,a=[],l){if(!l&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,n,i,r,o,a);const p={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(p.easing=o);const g={},y=a.filter(D=>D instanceof SC);YE(i,r)&&y.forEach(D=>{let C=D.currentSnapshot;Object.keys(C).forEach(T=>g[T]=C[T])});const v=mC(e,n=JE(e,n=n.map(D=>Tr(D,!1)),g));return new SC(e,n,p,v)}}function TC(){return kE()&&Element.prototype.animate||{}}let NO=(()=>{class t extends RE{constructor(n,i){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(i.body,{id:"0",encapsulation:Vt.None,styles:[],data:{animation:[]}})}build(n){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(n)?LE(n):n;return MC(this._renderer,null,i,"register",[r]),new OO(i,this._renderer)}}return t.\u0275fac=function(n){return new(n||t)(j(xa),j(rn))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();class OO extends class{}{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new FO(this._id,e,n||{},this._renderer)}}class FO{constructor(e,n,i,r){this.id=e,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return MC(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,n;return null!=(n=null==(e=this._renderer.engine.players[+this.id])?void 0:e.getPosition())?n:0}}function MC(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const AC="@.disabled";let kO=(()=>{class t{constructor(n,i,r){this.delegate=n,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,a)=>{const l=null==a?void 0:a.parentNode(o);l&&a.removeChild(l,o)}}createRenderer(n,i){const o=this.delegate.createRenderer(n,i);if(!(n&&i&&i.data&&i.data.animation)){let p=this._rendererCache.get(o);return p||(p=new PC("",o,this.engine),this._rendererCache.set(o,p)),p}const a=i.id,l=i.id+"-"+this._currentId;this._currentId++,this.engine.register(l,n);const h=p=>{Array.isArray(p)?p.forEach(h):this.engine.registerTrigger(a,l,n,p.name,p)};return i.data.animation.forEach(h),new BO(this,l,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,i,r){n>=0&&n<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,l]=o;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(n){return new(n||t)(j(xa),j(xc),j(tt))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();class PC{constructor(e,n,i){this.namespaceId=e,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>n.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate,i)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){"@"==n.charAt(0)&&n==AC?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class BO extends PC{constructor(e,n,i,r){super(n,i,r),this.factory=e,this.namespaceId=n}setProperty(e,n,i){"@"==n.charAt(0)?"."==n.charAt(1)&&n==AC?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,n.substr(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if("@"==n.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let o=n.substr(1),a="";return"@"!=o.charAt(0)&&([o,a]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,i,l)})}return this.delegate.listen(e,n,i)}}let HO=(()=>{class t extends xc{constructor(n,i,r){super(n.body,i,r)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(n){return new(n||t)(j(rn),j(Up),j(em))},t.\u0275prov=se({token:t,factory:t.\u0275fac}),t})();const IC=new be("AnimationModuleType"),xC=[{provide:RE,useClass:NO},{provide:em,useFactory:function(){return new GN}},{provide:xc,useClass:HO},{provide:xa,useFactory:function(t,e,n){return new kO(t,e,n)},deps:[Xl,xc,tt]}],RC=[{provide:Up,useFactory:function(){return"function"==typeof TC()?new RO:new CC}},{provide:IC,useValue:"BrowserAnimations"},...xC],ZO=[{provide:Up,useClass:$E},{provide:IC,useValue:"NoopAnimations"},...xC];let qO=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?ZO:RC}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xt({type:t}),t.\u0275inj=ln({providers:RC,imports:[ED]}),t})(),WO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xt({type:t,bootstrap:[wN]}),t.\u0275inj=ln({providers:[IE,xE],imports:[[ED,yN,qO]]}),t})();Rw=!1,xR().bootstrapModule(WO).catch(t=>console.error(t))}},Yt=>{Yt(Yt.s=244)}]);